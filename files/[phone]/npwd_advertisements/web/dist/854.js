"use strict";(self.webpackChunknpwd_advertisements=self.webpackChunknpwd_advertisements||[]).push([[854],{2244:(e,t,n)=>{var a;n.d(t,{M:()=>a,z:()=>r}),function(e){e.GetUser="npwd-advertisements:getUser",e.GetAdvertisements="npwd-advertisements:getAdvertisements",e.CreateAdvertisement="npwd-advertisements:createAdvertisement",e.ReportAdvertisement="npwd-advertisements:reportAdvertisement",e.DeleteAdvertisement="npwd-advertisements:deleteAdvertisement",e.SetWaypointAdvertisement="npwd-advertisements:setWaypoint",e.UpdateNUI="npwd-advertisements:updateNUI"}(a||(a={}));const r=["Offensive","Nonsense"]},8039:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(2347),r=n(5974),i=n(2950),l=n.n(i),o=n(4274);const s=({children:e,mode:t})=>{const n=o.np[t],i=(0,a.Z)(n);return l().createElement(r.Z,{theme:i},e)}},304:(e,t,n)=>{n.d(t,{U:()=>s});var a=n(5137),r=n(2244),i=n(7405),l=n(5181),o=n(9146);const s=(0,a.atom)({key:"npwd-advertisements:advertisements",default:(0,a.selector)({key:"npwd-advertisements:defaultAdvertisements",get:()=>{return e=void 0,t=void 0,a=function*(){try{return(yield(0,i.Z)(r.M.GetAdvertisements))||(console.log("no response data (advertisements)"),[])}catch(e){return console.error(e),(0,l.I)()?o.g:[]}},new((n=void 0)||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}));var e,t,n,a}})})},7840:(e,t,n)=>{n.d(t,{L:()=>s});var a=n(5137),r=n(2244),i=n(7405),l=n(5181),o=n(9146);const s=(0,a.atom)({key:"npwd-advertisements:user",default:(0,a.selector)({key:"npwd-advertisements:defaultUser",get:()=>{return e=void 0,t=void 0,a=function*(){try{return(yield(0,i.Z)(r.M.GetUser))||(console.log("no response data (user)"),null)}catch(e){return(0,l.I)()?o.Y:null}},new((n=void 0)||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}));var e,t,n,a}})})},1551:(e,t,n)=>{n.d(t,{M:()=>s,Z:()=>u});var a=n(2950),r=n.n(a),i=n(2734),l=n(2658),o=n(932);const s="4rem",c=o.Z.div`
  display: flex;
  align-items: center;

  min-height: ${s};
  padding-left: 1.5rem;
  background-color: ${({backgroundColor:e})=>e};
`,u=({children:e})=>{const t=(0,i.Z)();return r().createElement(c,{backgroundColor:t.palette.primary.main},r().createElement(l.Z,{variant:"h5",color:"primary.contrastText"},e))}},8939:(e,t,n)=>{n.d(t,{Z:()=>L});var a=n(2950),r=n.n(a),i=n(9845),l=n(2643),o=n(7750),s=n(5295),c=n(8515),u=n(6867),m=n(7797),d=n(4962),p=n(7720),v=n(7153),h=n(7645),g=n(6447),f=n(2658),E=n(8979),b=n(9656),Z=n(3269),y=n(3797),w=n(8885),q=n(9334),C=n(1936),k=n(7629),x=n.n(k),S=n(1731),P=n.n(S),M=n(932),R=n(7405),_=n(2244),I=n(5137),N=n(304),A=n(7840),T=n(6235),O=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};const F=(0,M.Z)(l.Z)`
  word-break: break-all;
`,U=(0,M.Z)(o.Z)`
  word-break: break-all;
`,L=({advertisement:e,onClose:t,isPreview:n})=>{var l,o;const k=(0,T.useHistory)(),S=(0,I.useRecoilValue)(A.L),M=(0,I.useSetRecoilState)(N.U),L=e.creator.citizenId===(null==S?void 0:S.citizenId),W=e.id,V=L&&!n;console.log({isCreator:L,advertisement:e,user:S});const[j,B]=(0,a.useState)(!1),[z,D]=(0,a.useState)(),[G,$]=(0,a.useState)(),J=e=>{D(e.currentTarget)},Y=()=>{null==t||t(),B(!1)},H=()=>O(void 0,void 0,void 0,(function*(){n||k.push(`/phone/dial?number=${e.creator.phoneNumber}`)})),K=()=>{n||k.push(`/messages/new?phoneNumber=${e.creator.phoneNumber}`)},Q=()=>O(void 0,void 0,void 0,(function*(){if(!n)try{yield(0,R.Z)(_.M.SetWaypointAdvertisement,{waypoint:e.waypoint}),M((t=>t.filter((t=>t.id!==e.id))))}catch(e){console.error(e)}}));return r().createElement("div",null,r().createElement(s.Z,{elevation:4},r().createElement(c.Z,{title:e.title||"Missing title",subheader:(null===(l=null==e?void 0:e.creator)||void 0===l?void 0:l.name)||"Unknown",action:r().createElement(u.Z,{onClick:J},r().createElement(i.MoreVert,null))}),r().createElement(m.Z,{onClick:()=>B(!0)},r().createElement(r().Fragment,null,e.image&&r().createElement(d.Z,{height:240,component:"img",image:e.image}),r().createElement(p.Z,{light:!0}),r().createElement(F,null,r().createElement(x(),{children:e.description||"Missing description",remarkPlugins:[P()],disallowedElements:["a"]}))))),r().createElement(v.Z,{open:j,onClose:Y,disablePortal:!0,hideBackdrop:!0,fullScreen:!0,PaperProps:{elevation:0,square:!0},sx:{position:"absolute"}},r().createElement(h.Z,null,r().createElement(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center"},r().createElement(g.Z,null,r().createElement(f.Z,{variant:"h5"},(null==e?void 0:e.title)||"Missing title"),r().createElement(f.Z,{variant:"caption"},(null===(o=null==e?void 0:e.creator)||void 0===o?void 0:o.name)||"Unknown")),r().createElement(g.Z,{direction:"row",spacing:1},r().createElement(u.Z,{onClick:J},r().createElement(i.MoreVert,null)),r().createElement(u.Z,{onClick:Y},r().createElement(i.Close,null))))),r().createElement(p.Z,null),r().createElement(U,null,r().createElement(x(),{children:(null==e?void 0:e.body)||"Missing content",remarkPlugins:[P()],disallowedElements:["a"]})),r().createElement(p.Z,null),(e.isCallable||e.isPosition)&&r().createElement(E.Z,null,r().createElement(C.Z,{p:1,pr:2.5},r().createElement(g.Z,{direction:"row",spacing:1},!V&&(null==e?void 0:e.phoneNumber)&&r().createElement(r().Fragment,null,e.isCallable&&r().createElement(r().Fragment,null,r().createElement(u.Z,{onClick:K},r().createElement(i.ChatRounded,null)),r().createElement(u.Z,{onClick:H},r().createElement(i.PhoneRounded,null))),e.waypoint&&e.isPosition&&r().createElement(u.Z,{onClick:Q},r().createElement(i.RoomRounded,null))))))),r().createElement(b.Z,{anchorEl:z,open:Boolean(z),onClose:()=>{D(void 0)},anchorOrigin:{horizontal:"center",vertical:"center"},transformOrigin:{horizontal:"right",vertical:"center"}},r().createElement(Z.Z,{disablePadding:!0,sx:{minWidth:150}},!V&&e.isCallable&&r().createElement(r().Fragment,null,r().createElement(y.Z,{onClick:H},r().createElement(w.Z,null,r().createElement(i.CallRounded,null)),r().createElement(q.Z,null,"Call")),r().createElement(y.Z,{onClick:K},r().createElement(w.Z,null,r().createElement(i.ChatRounded,null)),r().createElement(q.Z,null,"Chat"))),e.waypoint&&e.isPosition&&r().createElement(y.Z,{onClick:Q},r().createElement(w.Z,null,r().createElement(i.RoomRounded,null)),r().createElement(q.Z,null,"Show on map")),r().createElement(r().Fragment,null,r().createElement(p.Z,{light:!0}),r().createElement(y.Z,{onClick:e=>{$(e.currentTarget)}},r().createElement(w.Z,null,r().createElement(i.ReportRounded,null)),r().createElement(q.Z,null,"Report"))),L&&r().createElement(r().Fragment,null,r().createElement(p.Z,{light:!0}),r().createElement(y.Z,null,r().createElement(w.Z,null,r().createElement(i.EditRounded,null)),r().createElement(q.Z,null,"Edit")),r().createElement(y.Z,{onClick:()=>O(void 0,void 0,void 0,(function*(){if(!n)try{yield(0,R.Z)(_.M.DeleteAdvertisement,{advertisementId:W}),M((t=>t.filter((t=>t.id!==e.id))))}catch(e){console.error(e)}}))},r().createElement(w.Z,null,r().createElement(i.DeleteRounded,null)),r().createElement(q.Z,null,"Delete"))))),r().createElement(b.Z,{anchorEl:G,open:Boolean(G),onClose:()=>{D(void 0),$(void 0)},anchorOrigin:{horizontal:"center",vertical:"center"},transformOrigin:{horizontal:"center",vertical:"center"}},r().createElement(Z.Z,{disablePadding:!0,sx:{minWidth:150}},_.z.map((e=>r().createElement(y.Z,{onClick:()=>(e=>O(void 0,void 0,void 0,(function*(){if(!n)try{yield(0,R.Z)(_.M.ReportAdvertisement,{advertisementId:W,reason:e})}catch(e){console.error(e)}})))(e)},r().createElement(q.Z,null,e)))))))}},7405:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(5181);const r=function(e,t,n){return r=this,i=void 0,o=function*(){const r={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};if((0,a.I)()&&n)return n;const i=(0,a.I)()?`http://localhost:5005/${e.replace(":","-")}`:`https://npwd_advertisements/${e}`,l=yield fetch(i,r),o=yield l.json();if("ok"!==o.status)throw new Error(o.errorMsg);return o.data},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{s(o.next(e))}catch(e){t(e)}}function a(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,a)}s((o=o.apply(r,i||[])).next())}));var r,i,l,o}},5181:(e,t,n)=>{n.d(t,{I:()=>a});const a=()=>!1},9146:(e,t,n)=>{n.d(t,{Y:()=>r,g:()=>i});const a="# Patrios meae\n\n## Purpureae et oculos foribus neu\n\nLorem markdownum Menoeten tetigit. Inque nate nec seu corpus antiquis solus,\nauram luctus, nemus pariterque ait, foliisque parte? Et oscula animo? Pastores\nviros quos: tu parantis aulam rebus cornua: inque ira rursus habeo veste [et\ndabo](#nisi-facta) tertius ferax cernentem. Coronae formam gelidoque et posuisse\nper benignior qua tamen sua.\n\n- Adversaque illa\n- Plus ora ait pudore Dictaeaque parato\n- Si stetit coepit\n- Tendit sine\n\nVeneni quamquam utrimque frequento cupiere; alto alte memores est per vaccam\nvincis aliqua tamen circumspicit temerarius ungues inter tuli. Subitam generat\nhabitabat quae quanta tenuit!\n\n## Saturnius fit cinxit pacalibus pictas nostrae genuum\n\nGremio virga cum. Veri nam occasus Scylla sparsi est, et enim nec, sed. Legit\nconsolantia vultum mutua dedit quoque caenumque rogata restabat?\n\n    parallel += externalHandle / transfer;\n    packet = faq_page_dongle;\n    var drop_url_xp = yobibyte_leaf + exif.mapBox(pim, 20, card) -\n            memoryMonitor;\n\nSpeciem errant. Confusaque nulla. Sed posita rarior paulatimque locus. Spartana\nquid, facies nec; animos obruta, **in tum officio** qualia amplexaque virginis.\n\nEt *qui* utimur iam si pars feliciter, tendebat loquentis inhospita nunc.\nGorgonei ante conferat amanti, summo quorum nudare colli levare Icare decent.",r={name:"Kalle Kula",citizenId:"y121asdk"},i=[{id:1,title:"Taxi service",description:"\n  ### Taxi service for the people\n  Welcome and take a ride in **my** car!\n",body:"# Eurytidos simplex\n\n## Maeandri Messenia\n\nLorem **markdownum** adversae diros, sunt. Minimum sui caelum placuerunt, et\ncausa illi erudit herbae coepit habitat ad. Currus sanguine poteram imitetur,\npondere aeraque inscribit Venulus, est nostra, Sperchios et\n[corvum](http://www.misitubi.net/sucis-enim) in. [Novis successibus\nAmmon](http://necmonstri.net/curam.php) umbra traxit felix tumidarum fortiter\npennarum intravit ille frater omnia, clamore iniuria?\n\nNon tanto nititur temperie *raucaque potes* fera recepto, ut pectore. Ut te mihi\ncorpore.\n\n## Nam mihi ita in exstinctus tacito summas\n\nCepit ubi Olympus, facilesque ore. Tum illo est, rege sine patriumque posses\npraebetis pugnat aula sed Fortuna illud; [inpia\nsic](http://www.iacentem-istis.io/reddit-o.html) in? *Fide siccaeque signumque*\ndiscedite, quam paterer et adulter prima, *aethere latus* leti per Daedalion\nlongo fuisset vix. Notavi luxuriant me orat sociis tellus, nunc inquit carmine\nin manebo *telisque rogat* oscula.\n\nBibendo et carpit unica dubiaque, vis depresso populo non, ex. Caeso hinnitus ad\nisto raptu delata agat numen aetatis nec. Quis mala non sinus habet donec,\noculos nec, capillos me pluvio. Neci qui marmoreo, te **quid**, iam cladi\ninclusum ardesceret Atlantis concrescere absens **amplexus** recusem, quos\nlumine arces.\n\n## Ultor ficto fronte exit tauro harundinis tutus\n\nMiram laniger attulit coloribus satis mearumin, cetera caeso antris cruciabere\nfacerent gloria Titan. Flores iactari; et levavit freta nec vinces amabam, Iulo\nviris, renoventur obortae! Electarumque curae hoc, nec non nostraque ceu illa\n*Ophias*, visaque. Solaque Peliaeque ut **cladem**, ne sternit siqua, cum iungi\npariterque Iovis, dira olor, videbitur. Capientur dolorem extulit eram formatus;\ninpete dentes nant deique fuerunt magna terram ni nocendo repono pavidam paterna\neripitur.\n\n    bareProgramming(ddr(chip.threading(spoofingVista), 4), permalinkEbook(-1,\n            fi_flash_thyristor(skyscraper), 4 + left_overwrite));\n    if (abend > xpTitle) {\n        memory_nas_backbone = googleBlog;\n        soString.pci_it *= 4;\n        ethernet(troll);\n    } else {\n        driveTrashAccess -= file_interface_rpc / 4;\n        application(ultra_ip_control, zip_folder_cd);\n        cdfs_click_raw = memory;\n    }\n    ict_processor_qbe.boolean = myspace;\n    var keyMotionDefault = gifWikiFddi + 4 + favoritesWordUdp(\n            stickSkyscraperFile);\n    server_pipeline_ad = 82;\n\nGenu animorum illa madidas: latus plangoremque ponit saepe, si Stygiam serior\nmeos unam, orsa. Carpit retinens, tremulaeque [valle\nictus](http://ait-cibo.io/), caput ora agam. Versasse nostris quam. Non et erit\nnec volentem novus ad conatoque ipse [et](http://proles.org/): Enipeus imperio\ndecoris latarumque trepidos.\n\nDe tanta saevo causa nemorum aequaverit superamur modo cernis contineat ait bis,\n**aut hinc**. Qui dotatissima nempe redderet cuius Stygias Boreas; potius\nsuccincta annos, ante potuit, Saeculaque divamque. Tibi victoria Aeoliis colla\ntelluris quamquam et longa, in.",creator:r,image:"https://images.pexels.com/photos/909907/pexels-photo-909907.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",phoneNumber:"072-12312",isCallable:!0,isPosition:!1},{id:2,title:"Other services",description:"This is a short description displaying this *feature*. It's using **markdown** as well.",body:a,creator:r,phoneNumber:"072-12312",isCallable:!0,isPosition:!1},{id:3,title:"Car repairs AB",description:"Come get repairs, expensive af.",body:a,creator:r,phoneNumber:"072-12312",isCallable:!0,isPosition:!1}]},7195:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(6447),r=n(1268),i=n(2950),l=n.n(i),o=n(5137),s=n(304),c=n(8939);const u=()=>{const e=(0,o.useRecoilValue)(s.U),[t,n]=(0,i.useState)(""),u=e.filter((e=>{var n;return null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase())}));return l().createElement("div",null,l().createElement(a.Z,{spacing:1.5},l().createElement(r.SearchField,{placeholder:"Search ..",value:t,onChange:e=>n(e.target.value)}),u.map((e=>l().createElement(c.Z,{advertisement:e,key:e.id})))))}},5598:(e,t,n)=>{n.d(t,{Z:()=>R});var a=n(9845),r=n(1781),i=n(6447),l=n(2658),o=n(7720),s=n(270),c=n(6867),u=n(3709),m=n(542),d=n(2021),p=n(6186),v=n(6914),h=n(1268),g=n(1936),f=n(2950),E=n.n(f),b=n(2),Z=n(6235),y=n(5137),w=n(9352),q=n(2244),C=n(304),k=n(7840),x=n(8939),S=n(7405),P=n(9146);const M={title:"",description:"",body:"",image:"",isCallable:!1,isPosition:!1},R=()=>{var e;const t=(0,Z.useHistory)(),n=(0,y.useRecoilValue)(k.L),R=(0,y.useSetRecoilState)(C.U),[_,I]=((e,t)=>{const[n,a]=(0,f.useState)((()=>{const n=localStorage.getItem(e);return n?JSON.parse(n):t}));return[n,t=>{a(t),localStorage.setItem(e,JSON.stringify(t))}]})("npwd-create-advertisement",M),[N,A]=(0,f.useState)(""),[T,O]=(0,f.useState)(!1),[F,U]=(0,f.useState)(!1),L=((0,Z.useParams)(),(0,Z.useLocation)()),W=new URLSearchParams(L.search),{getValues:V,control:j,handleSubmit:B,setValue:z,reset:D}=(0,b.useForm)({defaultValues:_});(0,f.useEffect)((()=>{const e=W.get("image")||_.image;return z("image",e),()=>{const e=V();I(e)}}),[]);const G=()=>{t.push(`/camera?referal=${w.path}/create`)};return F?E().createElement(E().Fragment,null,E().createElement(x.Z,{isPreview:!0,advertisement:Object.assign(Object.assign({},V()),{id:-1,creator:P.Y,phoneNumber:null!==(e=null==n?void 0:n.phoneNumber)&&void 0!==e?e:"Unknown",waypoint:{x:0,y:0}})}),E().createElement(g.Z,{sx:{position:"absolute",bottom:"4.5rem",right:"1.5rem"}},E().createElement(r.Z,{onClick:()=>U(!1),variant:"extended"},"Close preview"))):E().createElement("form",{onSubmit:B((e=>{return n=void 0,a=void 0,i=function*(){O(!0);try{const n=yield(0,S.Z)(q.M.CreateAdvertisement,e);R((e=>[...e,n])),D(M),t.push(w.path),A("")}catch(e){A(e.message)}O(!1)},new((r=void 0)||(r=Promise))((function(e,t){function l(e){try{s(i.next(e))}catch(e){t(e)}}function o(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,o)}s((i=i.apply(n,a||[])).next())}));var n,a,r,i}))},E().createElement(i.Z,{spacing:.5},E().createElement(l.Z,{variant:"h5"},"New advertisement"),E().createElement(l.Z,{variant:"caption"},"You can edit your advertisement from the advertisements view")),E().createElement(o.Z,{sx:{margin:"1.5rem 0"}}),E().createElement(i.Z,{spacing:2},E().createElement(b.Controller,{name:"title",control:j,rules:{required:{message:"Required field",value:!0},minLength:{message:"Min length 3",value:3},maxLength:{message:"Max length 20",value:20}},render:({field:e,fieldState:t})=>{var n,a;return E().createElement(h.TextField,Object.assign({placeholder:"Title",variant:"outlined",fullWidth:!0,error:Boolean(t.error),helperText:null!==(a=null===(n=t.error)||void 0===n?void 0:n.message)&&void 0!==a?a:""},e))}}),E().createElement(b.Controller,{name:"image",control:j,render:({field:e})=>E().createElement(h.TextField,Object.assign({placeholder:"Image",fullWidth:!0,variant:"outlined",InputProps:{endAdornment:E().createElement(s.Z,{position:"end"},E().createElement(c.Z,{onClick:G},E().createElement(a.ImageRounded,null)))}},e))}),E().createElement(b.Controller,{name:"description",control:j,rules:{required:{message:"Required field",value:!0},minLength:{message:"Min length 15",value:15},maxLength:{message:"Max length 100",value:100}},render:({field:e,fieldState:t})=>{var n,a;return E().createElement(h.TextField,Object.assign({placeholder:"Description",variant:"outlined",fullWidth:!0,error:Boolean(t.error),helperText:null!==(a=null===(n=t.error)||void 0===n?void 0:n.message)&&void 0!==a?a:"",rows:3,multiline:!0},e))}}),E().createElement(b.Controller,{name:"body",control:j,rules:{required:{message:"Required field",value:!0},minLength:{message:"Min length 50",value:50},maxLength:{message:"Max length 3000",value:3e3}},render:({field:e,fieldState:t})=>{var n,a;return E().createElement(h.TextField,Object.assign({placeholder:"Body",fullWidth:!0,variant:"outlined",error:Boolean(t.error),helperText:null!==(a=null===(n=t.error)||void 0===n?void 0:n.message)&&void 0!==a?a:"",rows:6,multiline:!0},e))}}),E().createElement(i.Z,{spacing:.5},E().createElement(u.Z,null,E().createElement(m.Z,{label:"Show phone number",control:E().createElement(b.Controller,{name:"isCallable",control:j,render:({field:e})=>E().createElement(d.Z,Object.assign({},e,{checked:e.value}))})}),E().createElement(m.Z,{label:"Display your location",control:E().createElement(b.Controller,{name:"isPosition",control:j,render:({field:e})=>E().createElement(d.Z,Object.assign({},e,{checked:e.value}))})}))),N&&E().createElement(p.Z,{icon:T?E().createElement(a.RefreshRounded,null):E().createElement(a.ErrorRounded,null),color:T?"info":"error",variant:"outlined"},T?"Loading ..":N),E().createElement(v.Z,{fullWidth:!0,variant:"outlined",onClick:()=>U(!0),disabled:T},"Preview"),E().createElement(v.Z,{fullWidth:!0,variant:"contained",type:"submit",disabled:T},"Publish")))}},4147:e=>{e.exports=JSON.parse('{"u2":"npwd_advertisements"}')}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixRQUFTaEIsRUFBTXBNLGVBQ2hRTixHQUFVLGtCQUFvQjJOLEVBQUEsRUFBTyxDQUFFQyxLQUFNNUQsRUFBWSxrQkFBb0IsRUFBQTZELGVBQWdCLE1BQVEsa0JBQW9CLEVBQUFDLGFBQWMsTUFBT3RNLE1BQU93SSxFQUFZLE9BQVMsUUFBU3pJLFFBQVMsWUFBY3lJLEVBQVksYUFBZWhLLEdBQ3JPLGtCQUFvQitOLEVBQUEsRUFBUSxDQUFFbEIsV0FBVyxFQUFNdEwsUUFBUyxXQUFZNkMsUUFBUyxJQUFNOEYsR0FBYSxHQUFPOEQsU0FBVWhFLEdBQWEsV0FDOUgsa0JBQW9CK0QsRUFBQSxFQUFRLENBQUVsQixXQUFXLEVBQU10TCxRQUFTLFlBQWEwTSxLQUFNLFNBQVVELFNBQVVoRSxHQUFhLFlBQWEsQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9zaGFyZWQvZXZlbnRzLnRzIiwid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9zcmMvVGhlbWVTd2l0Y2hQcm92aWRlci50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy9hdG9tcy9hZHZlcnRpc2VtZW50cy50cyIsIndlYnBhY2s6Ly9ucHdkX2FkdmVydGlzZW1lbnRzLy4vc3JjL2F0b21zL3VzZXIudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy9jb21wb25lbnRzL1ByZXNlbnRhdGlvbkNhcmQudHN4Iiwid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9zcmMvdXRpbHMvZmV0Y2hOdWkudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy91dGlscy9taXNjLnRzIiwid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9zcmMvdXRpbHMvbW9ja3MudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy92aWV3cy9BZHZlcnRpc2VtZW50cy50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9hZHZlcnRpc2VtZW50cy8uL3NyYy92aWV3cy9DcmVhdGUudHN4Iiwid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9zcmMvaG9va3MvdXNlTG9jYWxlU3RvcmFnZVN0YXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgQWR2ZXJ0aXNlbWVudHNFdmVudHM7XG4oZnVuY3Rpb24gKEFkdmVydGlzZW1lbnRzRXZlbnRzKSB7XG4gICAgQWR2ZXJ0aXNlbWVudHNFdmVudHNbXCJHZXRVc2VyXCJdID0gXCJucHdkLWFkdmVydGlzZW1lbnRzOmdldFVzZXJcIjtcbiAgICBBZHZlcnRpc2VtZW50c0V2ZW50c1tcIkdldEFkdmVydGlzZW1lbnRzXCJdID0gXCJucHdkLWFkdmVydGlzZW1lbnRzOmdldEFkdmVydGlzZW1lbnRzXCI7XG4gICAgQWR2ZXJ0aXNlbWVudHNFdmVudHNbXCJDcmVhdGVBZHZlcnRpc2VtZW50XCJdID0gXCJucHdkLWFkdmVydGlzZW1lbnRzOmNyZWF0ZUFkdmVydGlzZW1lbnRcIjtcbiAgICBBZHZlcnRpc2VtZW50c0V2ZW50c1tcIlJlcG9ydEFkdmVydGlzZW1lbnRcIl0gPSBcIm5wd2QtYWR2ZXJ0aXNlbWVudHM6cmVwb3J0QWR2ZXJ0aXNlbWVudFwiO1xuICAgIEFkdmVydGlzZW1lbnRzRXZlbnRzW1wiRGVsZXRlQWR2ZXJ0aXNlbWVudFwiXSA9IFwibnB3ZC1hZHZlcnRpc2VtZW50czpkZWxldGVBZHZlcnRpc2VtZW50XCI7XG4gICAgQWR2ZXJ0aXNlbWVudHNFdmVudHNbXCJTZXRXYXlwb2ludEFkdmVydGlzZW1lbnRcIl0gPSBcIm5wd2QtYWR2ZXJ0aXNlbWVudHM6c2V0V2F5cG9pbnRcIjtcbiAgICBBZHZlcnRpc2VtZW50c0V2ZW50c1tcIlVwZGF0ZU5VSVwiXSA9IFwibnB3ZC1hZHZlcnRpc2VtZW50czp1cGRhdGVOVUlcIjtcbn0pKEFkdmVydGlzZW1lbnRzRXZlbnRzIHx8IChBZHZlcnRpc2VtZW50c0V2ZW50cyA9IHt9KSk7XG5leHBvcnQgY29uc3QgcmVwb3J0UmVhc29ucyA9IFsnT2ZmZW5zaXZlJywgJ05vbnNlbnNlJ107XG4iLCJpbXBvcnQgeyBjcmVhdGVUaGVtZSwgVGhlbWVQcm92aWRlciB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHRoZW1lcyB9IGZyb20gJy4vYXBwLnRoZW1lJztcbmNvbnN0IFRoZW1lU3dpdGNoUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiwgbW9kZSB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWVPcHRpb25zID0gdGhlbWVzW21vZGVdO1xuICAgIGNvbnN0IHRoZW1lID0gY3JlYXRlVGhlbWUodGhlbWVPcHRpb25zKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZVByb3ZpZGVyLCB7IHRoZW1lOiB0aGVtZSB9LCBjaGlsZHJlbik7XG59O1xuZXhwb3J0IGRlZmF1bHQgVGhlbWVTd2l0Y2hQcm92aWRlcjtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgYXRvbSwgc2VsZWN0b3IgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgQWR2ZXJ0aXNlbWVudHNFdmVudHMgfSBmcm9tICcuLi8uLi9zaGFyZWQvZXZlbnRzJztcbmltcG9ydCBmZXRjaE51aSBmcm9tICcuLi91dGlscy9mZXRjaE51aSc7XG5pbXBvcnQgeyBpc0VudkJyb3dzZXIgfSBmcm9tICcuLi91dGlscy9taXNjJztcbmltcG9ydCB7IE1vY2tlZEFkdmVydGlzZW1lbnRzIH0gZnJvbSAnLi4vdXRpbHMvbW9ja3MnO1xuZXhwb3J0IGNvbnN0IGFkdmVydGlzZW1lbnRzQXRvbSA9IGF0b20oe1xuICAgIGtleTogJ25wd2QtYWR2ZXJ0aXNlbWVudHM6YWR2ZXJ0aXNlbWVudHMnLFxuICAgIGRlZmF1bHQ6IHNlbGVjdG9yKHtcbiAgICAgICAga2V5OiAnbnB3ZC1hZHZlcnRpc2VtZW50czpkZWZhdWx0QWR2ZXJ0aXNlbWVudHMnLFxuICAgICAgICBnZXQ6ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZHZlcnRpc2VtZW50cyA9IHlpZWxkIGZldGNoTnVpKEFkdmVydGlzZW1lbnRzRXZlbnRzLkdldEFkdmVydGlzZW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAoIWFkdmVydGlzZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyByZXNwb25zZSBkYXRhIChhZHZlcnRpc2VtZW50cyknKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWR2ZXJ0aXNlbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbnZCcm93c2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vY2tlZEFkdmVydGlzZW1lbnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgIH0pLFxufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGF0b20sIHNlbGVjdG9yIH0gZnJvbSAncmVjb2lsJztcbmltcG9ydCB7IEFkdmVydGlzZW1lbnRzRXZlbnRzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2V2ZW50cyc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xuaW1wb3J0IHsgaXNFbnZCcm93c2VyIH0gZnJvbSAnLi4vdXRpbHMvbWlzYyc7XG5pbXBvcnQgeyBNb2NrZWRDcmVhdG9yIH0gZnJvbSAnLi4vdXRpbHMvbW9ja3MnO1xuZXhwb3J0IGNvbnN0IHVzZXJBdG9tID0gYXRvbSh7XG4gICAga2V5OiAnbnB3ZC1hZHZlcnRpc2VtZW50czp1c2VyJyxcbiAgICBkZWZhdWx0OiBzZWxlY3Rvcih7XG4gICAgICAgIGtleTogJ25wd2QtYWR2ZXJ0aXNlbWVudHM6ZGVmYXVsdFVzZXInLFxuICAgICAgICBnZXQ6ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0geWllbGQgZmV0Y2hOdWkoQWR2ZXJ0aXNlbWVudHNFdmVudHMuR2V0VXNlcik7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyByZXNwb25zZSBkYXRhICh1c2VyKScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbnZCcm93c2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vY2tlZENyZWF0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICB9KSxcbn0pO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFR5cG9ncmFwaHksIHVzZVRoZW1lIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5leHBvcnQgY29uc3QgSEVBREVSX0hFSUdIVCA9ICc0cmVtJztcbmNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXYgYFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gIG1pbi1oZWlnaHQ6ICR7SEVBREVSX0hFSUdIVH07XG4gIHBhZGRpbmctbGVmdDogMS41cmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyh7IGJhY2tncm91bmRDb2xvciB9KSA9PiBiYWNrZ3JvdW5kQ29sb3J9O1xuYDtcbmNvbnN0IEhlYWRlciA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgeyBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImg1XCIsIGNvbG9yOiBcInByaW1hcnkuY29udHJhc3RUZXh0XCIgfSwgY2hpbGRyZW4pKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgSGVhZGVyO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDYWxsUm91bmRlZCwgQ2hhdFJvdW5kZWQsIENsb3NlLCBEZWxldGVSb3VuZGVkLCBFZGl0Um91bmRlZCwgTW9yZVZlcnQsIFBob25lUm91bmRlZCwgUmVwb3J0Um91bmRlZCwgUm9vbVJvdW5kZWQsIH0gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbCc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQWN0aW9uQXJlYSwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRNZWRpYSwgRGlhbG9nLCBEaWFsb2dBY3Rpb25zLCBEaWFsb2dDb250ZW50LCBEaWFsb2dUaXRsZSwgRGl2aWRlciwgSWNvbkJ1dHRvbiwgTGlzdEl0ZW1JY29uLCBMaXN0SXRlbVRleHQsIE1lbnUsIE1lbnVJdGVtLCBNZW51TGlzdCwgU3RhY2ssIFR5cG9ncmFwaHksIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICdAbXVpL3N5c3RlbSc7XG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tICdyZWFjdC1tYXJrZG93bic7XG5pbXBvcnQgcmVtYXJrR2ZtIGZyb20gJ3JlbWFyay1nZm0nO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IGZldGNoTnVpIGZyb20gJy4uL3V0aWxzL2ZldGNoTnVpJztcbmltcG9ydCB7IEFkdmVydGlzZW1lbnRzRXZlbnRzLCByZXBvcnRSZWFzb25zIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2V2ZW50cyc7XG5pbXBvcnQgeyB1c2VSZWNvaWxWYWx1ZSwgdXNlU2V0UmVjb2lsU3RhdGUgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgYWR2ZXJ0aXNlbWVudHNBdG9tIH0gZnJvbSAnLi4vYXRvbXMvYWR2ZXJ0aXNlbWVudHMnO1xuaW1wb3J0IHsgdXNlckF0b20gfSBmcm9tICcuLi9hdG9tcy91c2VyJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmNvbnN0IFN0eWxlZENhcmRDb250ZW50ID0gc3R5bGVkKENhcmRDb250ZW50KSBgXG4gIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbmA7XG5jb25zdCBTdHlsZWREaWFsb2dDb250ZW50ID0gc3R5bGVkKERpYWxvZ0NvbnRlbnQpIGBcbiAgd29yZC1icmVhazogYnJlYWstYWxsO1xuYDtcbmNvbnN0IFByZXNlbnRhdGlvbkNhcmQgPSAoeyBhZHZlcnRpc2VtZW50LCBvbkNsb3NlLCBpc1ByZXZpZXcgfSkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgICBjb25zdCB1c2VyID0gdXNlUmVjb2lsVmFsdWUodXNlckF0b20pO1xuICAgIGNvbnN0IHNldEFkdmVydGlzZW1lbnRzID0gdXNlU2V0UmVjb2lsU3RhdGUoYWR2ZXJ0aXNlbWVudHNBdG9tKTtcbiAgICBjb25zdCBpc0NyZWF0b3IgPSBhZHZlcnRpc2VtZW50LmNyZWF0b3IuY2l0aXplbklkID09PSAodXNlciA9PT0gbnVsbCB8fCB1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1c2VyLmNpdGl6ZW5JZCk7XG4gICAgY29uc3QgYWR2ZXJ0aXNlbWVudElkID0gYWR2ZXJ0aXNlbWVudC5pZDtcbiAgICBjb25zdCBoaWRlQ3JlYXRvckFjdGlvbnMgPSBpc0NyZWF0b3IgJiYgIWlzUHJldmlldztcbiAgICBjb25zb2xlLmxvZyh7IGlzQ3JlYXRvciwgYWR2ZXJ0aXNlbWVudCwgdXNlciB9KTtcbiAgICBjb25zdCBbaXNDb250ZW50T3Blbiwgc2V0SXNDb250ZW50T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW21lbnVBbmNob3IsIHNldE1lbnVBbmNob3JdID0gdXNlU3RhdGUoKTtcbiAgICBjb25zdCBbcmVwb3J0TWVudUFuY2hvciwgc2V0UmVwb3J0TWVudUFuY2hvcl0gPSB1c2VTdGF0ZSgpO1xuICAgIGNvbnN0IGhhbmRsZU9wZW5NZW51ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldE1lbnVBbmNob3IoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVPcGVuUmVwb3J0TWVudSA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRSZXBvcnRNZW51QW5jaG9yKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQ2xvc2VNZW51ID0gKCkgPT4ge1xuICAgICAgICBzZXRNZW51QW5jaG9yKHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZVJlcG9ydE1lbnUgPSAoKSA9PiB7XG4gICAgICAgIHNldE1lbnVBbmNob3IodW5kZWZpbmVkKTtcbiAgICAgICAgc2V0UmVwb3J0TWVudUFuY2hvcih1bmRlZmluZWQpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgIG9uQ2xvc2UgPT09IG51bGwgfHwgb25DbG9zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DbG9zZSgpO1xuICAgICAgICBzZXRJc0NvbnRlbnRPcGVuKGZhbHNlKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZURlbGV0ZUFkdmVydGlzZW1lbnQgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKGlzUHJldmlldylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIGZldGNoTnVpKEFkdmVydGlzZW1lbnRzRXZlbnRzLkRlbGV0ZUFkdmVydGlzZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50SWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEFkdmVydGlzZW1lbnRzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoYWR2KSA9PiBhZHYuaWQgIT09IGFkdmVydGlzZW1lbnQuaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlUmVwb3J0ID0gKHJlYXNvbikgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChpc1ByZXZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB5aWVsZCBmZXRjaE51aShBZHZlcnRpc2VtZW50c0V2ZW50cy5SZXBvcnRBZHZlcnRpc2VtZW50LCB7XG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNlbWVudElkLFxuICAgICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVDYWxsID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChpc1ByZXZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGhpc3RvcnkucHVzaChgL3Bob25lL2RpYWw/bnVtYmVyPSR7YWR2ZXJ0aXNlbWVudC5jcmVhdG9yLnBob25lTnVtYmVyfWApO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUNoYXQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc1ByZXZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGhpc3RvcnkucHVzaChgL21lc3NhZ2VzL25ldz9waG9uZU51bWJlcj0ke2FkdmVydGlzZW1lbnQuY3JlYXRvci5waG9uZU51bWJlcn1gKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVNldFdheXBvaW50ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChpc1ByZXZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB5aWVsZCBmZXRjaE51aShBZHZlcnRpc2VtZW50c0V2ZW50cy5TZXRXYXlwb2ludEFkdmVydGlzZW1lbnQsIHtcbiAgICAgICAgICAgICAgICB3YXlwb2ludDogYWR2ZXJ0aXNlbWVudC53YXlwb2ludCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0QWR2ZXJ0aXNlbWVudHMoKHByZXYpID0+IHByZXYuZmlsdGVyKChhZHYpID0+IGFkdi5pZCAhPT0gYWR2ZXJ0aXNlbWVudC5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkLCB7IGVsZXZhdGlvbjogNCB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkSGVhZGVyLCB7IHRpdGxlOiBhZHZlcnRpc2VtZW50LnRpdGxlIHx8ICdNaXNzaW5nIHRpdGxlJywgc3ViaGVhZGVyOiAoKF9hID0gYWR2ZXJ0aXNlbWVudCA9PT0gbnVsbCB8fCBhZHZlcnRpc2VtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZHZlcnRpc2VtZW50LmNyZWF0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSB8fCAnVW5rbm93bicsIGFjdGlvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZU9wZW5NZW51IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTW9yZVZlcnQsIG51bGwpKSB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FyZEFjdGlvbkFyZWEsIHsgb25DbGljazogKCkgPT4gc2V0SXNDb250ZW50T3Blbih0cnVlKSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQuaW1hZ2UgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FyZE1lZGlhLCB7IGhlaWdodDogMjQwLCBjb21wb25lbnQ6IFwiaW1nXCIsIGltYWdlOiBhZHZlcnRpc2VtZW50LmltYWdlIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaXZpZGVyLCB7IGxpZ2h0OiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZENhcmRDb250ZW50LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdE1hcmtkb3duLCB7IGNoaWxkcmVuOiBhZHZlcnRpc2VtZW50LmRlc2NyaXB0aW9uIHx8ICdNaXNzaW5nIGRlc2NyaXB0aW9uJywgcmVtYXJrUGx1Z2luczogW3JlbWFya0dmbV0sIGRpc2FsbG93ZWRFbGVtZW50czogWydhJ10gfSkpKSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZywgeyBvcGVuOiBpc0NvbnRlbnRPcGVuLCBvbkNsb3NlOiBoYW5kbGVDbG9zZSwgZGlzYWJsZVBvcnRhbDogdHJ1ZSwgaGlkZUJhY2tkcm9wOiB0cnVlLCBmdWxsU2NyZWVuOiB0cnVlLCBQYXBlclByb3BzOiB7IGVsZXZhdGlvbjogMCwgc3F1YXJlOiB0cnVlIH0sIHN4OiB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0gfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nVGl0bGUsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTdGFjaywgeyBkaXJlY3Rpb246IFwicm93XCIsIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiaDVcIiB9LCAoYWR2ZXJ0aXNlbWVudCA9PT0gbnVsbCB8fCBhZHZlcnRpc2VtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZHZlcnRpc2VtZW50LnRpdGxlKSB8fCAnTWlzc2luZyB0aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiY2FwdGlvblwiIH0sICgoX2IgPSBhZHZlcnRpc2VtZW50ID09PSBudWxsIHx8IGFkdmVydGlzZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkdmVydGlzZW1lbnQuY3JlYXRvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5hbWUpIHx8ICdVbmtub3duJykpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCB7IGRpcmVjdGlvbjogXCJyb3dcIiwgc3BhY2luZzogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZU9wZW5NZW51IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNb3JlVmVydCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZUNsb3NlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZSwgbnVsbCkpKSkpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaXZpZGVyLCBudWxsKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRGlhbG9nQ29udGVudCwgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0TWFya2Rvd24sIHsgY2hpbGRyZW46IChhZHZlcnRpc2VtZW50ID09PSBudWxsIHx8IGFkdmVydGlzZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkdmVydGlzZW1lbnQuYm9keSkgfHwgJ01pc3NpbmcgY29udGVudCcsIHJlbWFya1BsdWdpbnM6IFtyZW1hcmtHZm1dLCBkaXNhbGxvd2VkRWxlbWVudHM6IFsnYSddIH0pKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGl2aWRlciwgbnVsbCksXG4gICAgICAgICAgICAoYWR2ZXJ0aXNlbWVudC5pc0NhbGxhYmxlIHx8IGFkdmVydGlzZW1lbnQuaXNQb3NpdGlvbikgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9ucywgbnVsbCxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBwOiAxLCBwcjogMi41IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIHsgZGlyZWN0aW9uOiBcInJvd1wiLCBzcGFjaW5nOiAxIH0sICFoaWRlQ3JlYXRvckFjdGlvbnMgJiYgKGFkdmVydGlzZW1lbnQgPT09IG51bGwgfHwgYWR2ZXJ0aXNlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWR2ZXJ0aXNlbWVudC5waG9uZU51bWJlcikgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LmlzQ2FsbGFibGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZUNoYXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaGF0Um91bmRlZCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBoYW5kbGVDYWxsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGhvbmVSb3VuZGVkLCBudWxsKSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmVydGlzZW1lbnQud2F5cG9pbnQgJiYgYWR2ZXJ0aXNlbWVudC5pc1Bvc2l0aW9uICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgb25DbGljazogaGFuZGxlU2V0V2F5cG9pbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJvb21Sb3VuZGVkLCBudWxsKSkpKSkpKSkpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51LCB7IGFuY2hvckVsOiBtZW51QW5jaG9yLCBvcGVuOiBCb29sZWFuKG1lbnVBbmNob3IpLCBvbkNsb3NlOiBoYW5kbGVDbG9zZU1lbnUsIGFuY2hvck9yaWdpbjogeyBob3Jpem9udGFsOiAnY2VudGVyJywgdmVydGljYWw6ICdjZW50ZXInIH0sIHRyYW5zZm9ybU9yaWdpbjogeyBob3Jpem9udGFsOiAncmlnaHQnLCB2ZXJ0aWNhbDogJ2NlbnRlcicgfSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51TGlzdCwgeyBkaXNhYmxlUGFkZGluZzogdHJ1ZSwgc3g6IHsgbWluV2lkdGg6IDE1MCB9IH0sXG4gICAgICAgICAgICAgICAgIWhpZGVDcmVhdG9yQWN0aW9ucyAmJiBhZHZlcnRpc2VtZW50LmlzQ2FsbGFibGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHsgb25DbGljazogaGFuZGxlQ2FsbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUljb24sIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDYWxsUm91bmRlZCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIG51bGwsIFwiQ2FsbFwiKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHsgb25DbGljazogaGFuZGxlQ2hhdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUljb24sIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaGF0Um91bmRlZCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIG51bGwsIFwiQ2hhdFwiKSkpKSxcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VtZW50LndheXBvaW50ICYmIGFkdmVydGlzZW1lbnQuaXNQb3NpdGlvbiAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SXRlbSwgeyBvbkNsaWNrOiBoYW5kbGVTZXRXYXlwb2ludCB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtSWNvbiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm9vbVJvdW5kZWQsIG51bGwpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIG51bGwsIFwiU2hvdyBvbiBtYXBcIikpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpdmlkZXIsIHsgbGlnaHQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIHsgb25DbGljazogaGFuZGxlT3BlblJlcG9ydE1lbnUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW1JY29uLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVwb3J0Um91bmRlZCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIG51bGwsIFwiUmVwb3J0XCIpKSksXG4gICAgICAgICAgICAgICAgaXNDcmVhdG9yICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpdmlkZXIsIHsgbGlnaHQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtSWNvbiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRSb3VuZGVkLCBudWxsKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgbnVsbCwgXCJFZGl0XCIpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SXRlbSwgeyBvbkNsaWNrOiBoYW5kbGVEZWxldGVBZHZlcnRpc2VtZW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtSWNvbiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERlbGV0ZVJvdW5kZWQsIG51bGwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW1UZXh0LCBudWxsLCBcIkRlbGV0ZVwiKSkpKSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnUsIHsgYW5jaG9yRWw6IHJlcG9ydE1lbnVBbmNob3IsIG9wZW46IEJvb2xlYW4ocmVwb3J0TWVudUFuY2hvciksIG9uQ2xvc2U6IGhhbmRsZUNsb3NlUmVwb3J0TWVudSwgYW5jaG9yT3JpZ2luOiB7IGhvcml6b250YWw6ICdjZW50ZXInLCB2ZXJ0aWNhbDogJ2NlbnRlcicgfSwgdHJhbnNmb3JtT3JpZ2luOiB7IGhvcml6b250YWw6ICdjZW50ZXInLCB2ZXJ0aWNhbDogJ2NlbnRlcicgfSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChNZW51TGlzdCwgeyBkaXNhYmxlUGFkZGluZzogdHJ1ZSwgc3g6IHsgbWluV2lkdGg6IDE1MCB9IH0sIHJlcG9ydFJlYXNvbnMubWFwKChyZWFzb24pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVJdGVtLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZVJlcG9ydChyZWFzb24pIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIG51bGwsIHJlYXNvbikpKSkpKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRhdGlvbkNhcmQ7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGlzRW52QnJvd3NlciB9IGZyb20gJy4vbWlzYyc7XG5mdW5jdGlvbiBmZXRjaE51aShldmVudE5hbWUsIGRhdGEsIG1vY2tSZXNwKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc0VudkJyb3dzZXIoKSAmJiBtb2NrUmVzcCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vY2tSZXNwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc291cmNlTmFtZSA9ICducHdkX2FkdmVydGlzZW1lbnRzJztcbiAgICAgICAgY29uc3QgdXJsID0gaXNFbnZCcm93c2VyKClcbiAgICAgICAgICAgID8gYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwNS8ke2V2ZW50TmFtZS5yZXBsYWNlKCc6JywgJy0nKX1gXG4gICAgICAgICAgICA6IGBodHRwczovLyR7cmVzb3VyY2VOYW1lfS8ke2V2ZW50TmFtZX1gO1xuICAgICAgICBjb25zdCByZXNwID0geWllbGQgZmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VPYmogPSB5aWVsZCByZXNwLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlT2JqLnN0YXR1cyAhPT0gJ29rJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlT2JqLmVycm9yTXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2VPYmouZGF0YTtcbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZldGNoTnVpO1xuIiwiZXhwb3J0IGNvbnN0IGlzRW52QnJvd3NlciA9ICgpID0+IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmICF3aW5kb3cuaW52b2tlTmF0aXZlO1xuZXhwb3J0IGNvbnN0IGdldFJlc291cmNlTmFtZSA9ICgpID0+IHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUgPyB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuR2V0UGFyZW50UmVzb3VyY2VOYW1lKCkgOiAnbnB3ZCc7XG4iLCJjb25zdCBtYXJrZG93bjEgPSBgIyBQYXRyaW9zIG1lYWVcblxuIyMgUHVycHVyZWFlIGV0IG9jdWxvcyBmb3JpYnVzIG5ldVxuXG5Mb3JlbSBtYXJrZG93bnVtIE1lbm9ldGVuIHRldGlnaXQuIElucXVlIG5hdGUgbmVjIHNldSBjb3JwdXMgYW50aXF1aXMgc29sdXMsXG5hdXJhbSBsdWN0dXMsIG5lbXVzIHBhcml0ZXJxdWUgYWl0LCBmb2xpaXNxdWUgcGFydGU/IEV0IG9zY3VsYSBhbmltbz8gUGFzdG9yZXNcbnZpcm9zIHF1b3M6IHR1IHBhcmFudGlzIGF1bGFtIHJlYnVzIGNvcm51YTogaW5xdWUgaXJhIHJ1cnN1cyBoYWJlbyB2ZXN0ZSBbZXRcbmRhYm9dKCNuaXNpLWZhY3RhKSB0ZXJ0aXVzIGZlcmF4IGNlcm5lbnRlbS4gQ29yb25hZSBmb3JtYW0gZ2VsaWRvcXVlIGV0IHBvc3Vpc3NlXG5wZXIgYmVuaWduaW9yIHF1YSB0YW1lbiBzdWEuXG5cbi0gQWR2ZXJzYXF1ZSBpbGxhXG4tIFBsdXMgb3JhIGFpdCBwdWRvcmUgRGljdGFlYXF1ZSBwYXJhdG9cbi0gU2kgc3RldGl0IGNvZXBpdFxuLSBUZW5kaXQgc2luZVxuXG5WZW5lbmkgcXVhbXF1YW0gdXRyaW1xdWUgZnJlcXVlbnRvIGN1cGllcmU7IGFsdG8gYWx0ZSBtZW1vcmVzIGVzdCBwZXIgdmFjY2FtXG52aW5jaXMgYWxpcXVhIHRhbWVuIGNpcmN1bXNwaWNpdCB0ZW1lcmFyaXVzIHVuZ3VlcyBpbnRlciB0dWxpLiBTdWJpdGFtIGdlbmVyYXRcbmhhYml0YWJhdCBxdWFlIHF1YW50YSB0ZW51aXQhXG5cbiMjIFNhdHVybml1cyBmaXQgY2lueGl0IHBhY2FsaWJ1cyBwaWN0YXMgbm9zdHJhZSBnZW51dW1cblxuR3JlbWlvIHZpcmdhIGN1bS4gVmVyaSBuYW0gb2NjYXN1cyBTY3lsbGEgc3BhcnNpIGVzdCwgZXQgZW5pbSBuZWMsIHNlZC4gTGVnaXRcbmNvbnNvbGFudGlhIHZ1bHR1bSBtdXR1YSBkZWRpdCBxdW9xdWUgY2FlbnVtcXVlIHJvZ2F0YSByZXN0YWJhdD9cblxuICAgIHBhcmFsbGVsICs9IGV4dGVybmFsSGFuZGxlIC8gdHJhbnNmZXI7XG4gICAgcGFja2V0ID0gZmFxX3BhZ2VfZG9uZ2xlO1xuICAgIHZhciBkcm9wX3VybF94cCA9IHlvYmlieXRlX2xlYWYgKyBleGlmLm1hcEJveChwaW0sIDIwLCBjYXJkKSAtXG4gICAgICAgICAgICBtZW1vcnlNb25pdG9yO1xuXG5TcGVjaWVtIGVycmFudC4gQ29uZnVzYXF1ZSBudWxsYS4gU2VkIHBvc2l0YSByYXJpb3IgcGF1bGF0aW1xdWUgbG9jdXMuIFNwYXJ0YW5hXG5xdWlkLCBmYWNpZXMgbmVjOyBhbmltb3Mgb2JydXRhLCAqKmluIHR1bSBvZmZpY2lvKiogcXVhbGlhIGFtcGxleGFxdWUgdmlyZ2luaXMuXG5cbkV0ICpxdWkqIHV0aW11ciBpYW0gc2kgcGFycyBmZWxpY2l0ZXIsIHRlbmRlYmF0IGxvcXVlbnRpcyBpbmhvc3BpdGEgbnVuYy5cbkdvcmdvbmVpIGFudGUgY29uZmVyYXQgYW1hbnRpLCBzdW1tbyBxdW9ydW0gbnVkYXJlIGNvbGxpIGxldmFyZSBJY2FyZSBkZWNlbnQuYDtcbmNvbnN0IG1hcmtkb3duID0gYCMgRXVyeXRpZG9zIHNpbXBsZXhcblxuIyMgTWFlYW5kcmkgTWVzc2VuaWFcblxuTG9yZW0gKiptYXJrZG93bnVtKiogYWR2ZXJzYWUgZGlyb3MsIHN1bnQuIE1pbmltdW0gc3VpIGNhZWx1bSBwbGFjdWVydW50LCBldFxuY2F1c2EgaWxsaSBlcnVkaXQgaGVyYmFlIGNvZXBpdCBoYWJpdGF0IGFkLiBDdXJydXMgc2FuZ3VpbmUgcG90ZXJhbSBpbWl0ZXR1cixcbnBvbmRlcmUgYWVyYXF1ZSBpbnNjcmliaXQgVmVudWx1cywgZXN0IG5vc3RyYSwgU3BlcmNoaW9zIGV0XG5bY29ydnVtXShodHRwOi8vd3d3Lm1pc2l0dWJpLm5ldC9zdWNpcy1lbmltKSBpbi4gW05vdmlzIHN1Y2Nlc3NpYnVzXG5BbW1vbl0oaHR0cDovL25lY21vbnN0cmkubmV0L2N1cmFtLnBocCkgdW1icmEgdHJheGl0IGZlbGl4IHR1bWlkYXJ1bSBmb3J0aXRlclxucGVubmFydW0gaW50cmF2aXQgaWxsZSBmcmF0ZXIgb21uaWEsIGNsYW1vcmUgaW5pdXJpYT9cblxuTm9uIHRhbnRvIG5pdGl0dXIgdGVtcGVyaWUgKnJhdWNhcXVlIHBvdGVzKiBmZXJhIHJlY2VwdG8sIHV0IHBlY3RvcmUuIFV0IHRlIG1paGlcbmNvcnBvcmUuXG5cbiMjIE5hbSBtaWhpIGl0YSBpbiBleHN0aW5jdHVzIHRhY2l0byBzdW1tYXNcblxuQ2VwaXQgdWJpIE9seW1wdXMsIGZhY2lsZXNxdWUgb3JlLiBUdW0gaWxsbyBlc3QsIHJlZ2Ugc2luZSBwYXRyaXVtcXVlIHBvc3Nlc1xucHJhZWJldGlzIHB1Z25hdCBhdWxhIHNlZCBGb3J0dW5hIGlsbHVkOyBbaW5waWFcbnNpY10oaHR0cDovL3d3dy5pYWNlbnRlbS1pc3Rpcy5pby9yZWRkaXQtby5odG1sKSBpbj8gKkZpZGUgc2ljY2FlcXVlIHNpZ251bXF1ZSpcbmRpc2NlZGl0ZSwgcXVhbSBwYXRlcmVyIGV0IGFkdWx0ZXIgcHJpbWEsICphZXRoZXJlIGxhdHVzKiBsZXRpIHBlciBEYWVkYWxpb25cbmxvbmdvIGZ1aXNzZXQgdml4LiBOb3RhdmkgbHV4dXJpYW50IG1lIG9yYXQgc29jaWlzIHRlbGx1cywgbnVuYyBpbnF1aXQgY2FybWluZVxuaW4gbWFuZWJvICp0ZWxpc3F1ZSByb2dhdCogb3NjdWxhLlxuXG5CaWJlbmRvIGV0IGNhcnBpdCB1bmljYSBkdWJpYXF1ZSwgdmlzIGRlcHJlc3NvIHBvcHVsbyBub24sIGV4LiBDYWVzbyBoaW5uaXR1cyBhZFxuaXN0byByYXB0dSBkZWxhdGEgYWdhdCBudW1lbiBhZXRhdGlzIG5lYy4gUXVpcyBtYWxhIG5vbiBzaW51cyBoYWJldCBkb25lYyxcbm9jdWxvcyBuZWMsIGNhcGlsbG9zIG1lIHBsdXZpby4gTmVjaSBxdWkgbWFybW9yZW8sIHRlICoqcXVpZCoqLCBpYW0gY2xhZGlcbmluY2x1c3VtIGFyZGVzY2VyZXQgQXRsYW50aXMgY29uY3Jlc2NlcmUgYWJzZW5zICoqYW1wbGV4dXMqKiByZWN1c2VtLCBxdW9zXG5sdW1pbmUgYXJjZXMuXG5cbiMjIFVsdG9yIGZpY3RvIGZyb250ZSBleGl0IHRhdXJvIGhhcnVuZGluaXMgdHV0dXNcblxuTWlyYW0gbGFuaWdlciBhdHR1bGl0IGNvbG9yaWJ1cyBzYXRpcyBtZWFydW1pbiwgY2V0ZXJhIGNhZXNvIGFudHJpcyBjcnVjaWFiZXJlXG5mYWNlcmVudCBnbG9yaWEgVGl0YW4uIEZsb3JlcyBpYWN0YXJpOyBldCBsZXZhdml0IGZyZXRhIG5lYyB2aW5jZXMgYW1hYmFtLCBJdWxvXG52aXJpcywgcmVub3ZlbnR1ciBvYm9ydGFlISBFbGVjdGFydW1xdWUgY3VyYWUgaG9jLCBuZWMgbm9uIG5vc3RyYXF1ZSBjZXUgaWxsYVxuKk9waGlhcyosIHZpc2FxdWUuIFNvbGFxdWUgUGVsaWFlcXVlIHV0ICoqY2xhZGVtKiosIG5lIHN0ZXJuaXQgc2lxdWEsIGN1bSBpdW5naVxucGFyaXRlcnF1ZSBJb3ZpcywgZGlyYSBvbG9yLCB2aWRlYml0dXIuIENhcGllbnR1ciBkb2xvcmVtIGV4dHVsaXQgZXJhbSBmb3JtYXR1cztcbmlucGV0ZSBkZW50ZXMgbmFudCBkZWlxdWUgZnVlcnVudCBtYWduYSB0ZXJyYW0gbmkgbm9jZW5kbyByZXBvbm8gcGF2aWRhbSBwYXRlcm5hXG5lcmlwaXR1ci5cblxuICAgIGJhcmVQcm9ncmFtbWluZyhkZHIoY2hpcC50aHJlYWRpbmcoc3Bvb2ZpbmdWaXN0YSksIDQpLCBwZXJtYWxpbmtFYm9vaygtMSxcbiAgICAgICAgICAgIGZpX2ZsYXNoX3RoeXJpc3Rvcihza3lzY3JhcGVyKSwgNCArIGxlZnRfb3ZlcndyaXRlKSk7XG4gICAgaWYgKGFiZW5kID4geHBUaXRsZSkge1xuICAgICAgICBtZW1vcnlfbmFzX2JhY2tib25lID0gZ29vZ2xlQmxvZztcbiAgICAgICAgc29TdHJpbmcucGNpX2l0ICo9IDQ7XG4gICAgICAgIGV0aGVybmV0KHRyb2xsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkcml2ZVRyYXNoQWNjZXNzIC09IGZpbGVfaW50ZXJmYWNlX3JwYyAvIDQ7XG4gICAgICAgIGFwcGxpY2F0aW9uKHVsdHJhX2lwX2NvbnRyb2wsIHppcF9mb2xkZXJfY2QpO1xuICAgICAgICBjZGZzX2NsaWNrX3JhdyA9IG1lbW9yeTtcbiAgICB9XG4gICAgaWN0X3Byb2Nlc3Nvcl9xYmUuYm9vbGVhbiA9IG15c3BhY2U7XG4gICAgdmFyIGtleU1vdGlvbkRlZmF1bHQgPSBnaWZXaWtpRmRkaSArIDQgKyBmYXZvcml0ZXNXb3JkVWRwKFxuICAgICAgICAgICAgc3RpY2tTa3lzY3JhcGVyRmlsZSk7XG4gICAgc2VydmVyX3BpcGVsaW5lX2FkID0gODI7XG5cbkdlbnUgYW5pbW9ydW0gaWxsYSBtYWRpZGFzOiBsYXR1cyBwbGFuZ29yZW1xdWUgcG9uaXQgc2FlcGUsIHNpIFN0eWdpYW0gc2VyaW9yXG5tZW9zIHVuYW0sIG9yc2EuIENhcnBpdCByZXRpbmVucywgdHJlbXVsYWVxdWUgW3ZhbGxlXG5pY3R1c10oaHR0cDovL2FpdC1jaWJvLmlvLyksIGNhcHV0IG9yYSBhZ2FtLiBWZXJzYXNzZSBub3N0cmlzIHF1YW0uIE5vbiBldCBlcml0XG5uZWMgdm9sZW50ZW0gbm92dXMgYWQgY29uYXRvcXVlIGlwc2UgW2V0XShodHRwOi8vcHJvbGVzLm9yZy8pOiBFbmlwZXVzIGltcGVyaW9cbmRlY29yaXMgbGF0YXJ1bXF1ZSB0cmVwaWRvcy5cblxuRGUgdGFudGEgc2Fldm8gY2F1c2EgbmVtb3J1bSBhZXF1YXZlcml0IHN1cGVyYW11ciBtb2RvIGNlcm5pcyBjb250aW5lYXQgYWl0IGJpcyxcbioqYXV0IGhpbmMqKi4gUXVpIGRvdGF0aXNzaW1hIG5lbXBlIHJlZGRlcmV0IGN1aXVzIFN0eWdpYXMgQm9yZWFzOyBwb3RpdXNcbnN1Y2NpbmN0YSBhbm5vcywgYW50ZSBwb3R1aXQsIFNhZWN1bGFxdWUgZGl2YW1xdWUuIFRpYmkgdmljdG9yaWEgQWVvbGlpcyBjb2xsYVxudGVsbHVyaXMgcXVhbXF1YW0gZXQgbG9uZ2EsIGluLmA7XG5jb25zdCBkZXNjcmlwdGlvbiA9IGBcbiAgIyMjIFRheGkgc2VydmljZSBmb3IgdGhlIHBlb3BsZVxuICBXZWxjb21lIGFuZCB0YWtlIGEgcmlkZSBpbiAqKm15KiogY2FyIVxuYDtcbmV4cG9ydCBjb25zdCBNb2NrZWRDcmVhdG9yID0ge1xuICAgIG5hbWU6ICdLYWxsZSBLdWxhJyxcbiAgICBjaXRpemVuSWQ6ICd5MTIxYXNkaycsXG59O1xuZXhwb3J0IGNvbnN0IE1vY2tlZEFkdmVydGlzZW1lbnRzID0gW1xuICAgIHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIHRpdGxlOiAnVGF4aSBzZXJ2aWNlJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICBib2R5OiBtYXJrZG93bixcbiAgICAgICAgY3JlYXRvcjogTW9ja2VkQ3JlYXRvcixcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy85MDk5MDcvcGV4ZWxzLXBob3RvLTkwOTkwNy5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2Imdz0xMjYwJmg9NzUwJmRwcj0yJyxcbiAgICAgICAgcGhvbmVOdW1iZXI6ICcwNzItMTIzMTInLFxuICAgICAgICBpc0NhbGxhYmxlOiB0cnVlLFxuICAgICAgICBpc1Bvc2l0aW9uOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDIsXG4gICAgICAgIHRpdGxlOiAnT3RoZXIgc2VydmljZXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFRoaXMgaXMgYSBzaG9ydCBkZXNjcmlwdGlvbiBkaXNwbGF5aW5nIHRoaXMgKmZlYXR1cmUqLiBJdCdzIHVzaW5nICoqbWFya2Rvd24qKiBhcyB3ZWxsLmAsXG4gICAgICAgIGJvZHk6IG1hcmtkb3duMSxcbiAgICAgICAgY3JlYXRvcjogTW9ja2VkQ3JlYXRvcixcbiAgICAgICAgcGhvbmVOdW1iZXI6ICcwNzItMTIzMTInLFxuICAgICAgICBpc0NhbGxhYmxlOiB0cnVlLFxuICAgICAgICBpc1Bvc2l0aW9uOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDMsXG4gICAgICAgIHRpdGxlOiAnQ2FyIHJlcGFpcnMgQUInLFxuICAgICAgICBkZXNjcmlwdGlvbjogYENvbWUgZ2V0IHJlcGFpcnMsIGV4cGVuc2l2ZSBhZi5gLFxuICAgICAgICBib2R5OiBtYXJrZG93bjEsXG4gICAgICAgIGNyZWF0b3I6IE1vY2tlZENyZWF0b3IsXG4gICAgICAgIHBob25lTnVtYmVyOiAnMDcyLTEyMzEyJyxcbiAgICAgICAgaXNDYWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgaXNQb3NpdGlvbjogZmFsc2UsXG4gICAgfSxcbl07XG4iLCJpbXBvcnQgeyBTdGFjayB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgU2VhcmNoRmllbGQgfSBmcm9tICdsYXlvdXQvdWknO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUmVjb2lsVmFsdWUgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgYWR2ZXJ0aXNlbWVudHNBdG9tIH0gZnJvbSAnLi4vYXRvbXMvYWR2ZXJ0aXNlbWVudHMnO1xuaW1wb3J0IFByZXNlbnRhdGlvbkNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9QcmVzZW50YXRpb25DYXJkJztcbmNvbnN0IEFkdmVydGlzZW1lbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGFkdmVydGlzZW1lbnRzID0gdXNlUmVjb2lsVmFsdWUoYWR2ZXJ0aXNlbWVudHNBdG9tKTtcbiAgICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IGZpbHRlcmVkQWR2ZXJ0aXNlbWVudCA9IGFkdmVydGlzZW1lbnRzLmZpbHRlcigoYWR2ZXJ0aXNlbWVudCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBhZHZlcnRpc2VtZW50LnRpdGxlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gudG9Mb3dlckNhc2UoKSk7IH0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCB7IHNwYWNpbmc6IDEuNSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTZWFyY2hGaWVsZCwgeyBwbGFjZWhvbGRlcjogXCJTZWFyY2ggLi5cIiwgdmFsdWU6IHNlYXJjaCwgb25DaGFuZ2U6IChldmVudCkgPT4gc2V0U2VhcmNoKGV2ZW50LnRhcmdldC52YWx1ZSkgfSksXG4gICAgICAgICAgICBmaWx0ZXJlZEFkdmVydGlzZW1lbnQubWFwKChhZHZlcnRpc2VtZW50KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmVzZW50YXRpb25DYXJkLCB7IGFkdmVydGlzZW1lbnQ6IGFkdmVydGlzZW1lbnQsIGtleTogYWR2ZXJ0aXNlbWVudC5pZCB9KSkpKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IEFkdmVydGlzZW1lbnRzO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBFcnJvclJvdW5kZWQsIEltYWdlUm91bmRlZCwgUmVmcmVzaFJvdW5kZWQgfSBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsJztcbmltcG9ydCB7IEFsZXJ0LCBCdXR0b24sIENoZWNrYm94LCBEaXZpZGVyLCBGYWIsIEZvcm1Db250cm9sTGFiZWwsIEZvcm1Hcm91cCwgSWNvbkJ1dHRvbiwgSW5wdXRBZG9ybm1lbnQsIFN0YWNrLCBUeXBvZ3JhcGh5LCB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnbGF5b3V0L3VpJztcbmltcG9ydCB7IEJveCB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29udHJvbGxlciwgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7XG5pbXBvcnQgeyB1c2VIaXN0b3J5LCB1c2VMb2NhdGlvbiwgdXNlUGFyYW1zIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VSZWNvaWxWYWx1ZSwgdXNlU2V0UmVjb2lsU3RhdGUgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gJy4uLy4uL25wd2QuY29uZmlnJztcbmltcG9ydCB7IEFkdmVydGlzZW1lbnRzRXZlbnRzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2V2ZW50cyc7XG5pbXBvcnQgeyBhZHZlcnRpc2VtZW50c0F0b20gfSBmcm9tICcuLi9hdG9tcy9hZHZlcnRpc2VtZW50cyc7XG5pbXBvcnQgeyB1c2VyQXRvbSB9IGZyb20gJy4uL2F0b21zL3VzZXInO1xuaW1wb3J0IFByZXNlbnRhdGlvbkNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9QcmVzZW50YXRpb25DYXJkJztcbmltcG9ydCB7IHVzZUxvY2FsZVN0b3JhZ2VTdGF0ZSB9IGZyb20gJy4uL2hvb2tzL3VzZUxvY2FsZVN0b3JhZ2VTdGF0ZSc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xuaW1wb3J0IHsgTW9ja2VkQ3JlYXRvciB9IGZyb20gJy4uL3V0aWxzL21vY2tzJztcbmNvbnN0IGluaXRpYWxWYWx1ZXMgPSB7XG4gICAgdGl0bGU6ICcnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBib2R5OiAnJyxcbiAgICBpbWFnZTogJycsXG4gICAgaXNDYWxsYWJsZTogZmFsc2UsXG4gICAgaXNQb3NpdGlvbjogZmFsc2UsXG59O1xuY29uc3QgQ3JlYXRlID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuICAgIGNvbnN0IHVzZXIgPSB1c2VSZWNvaWxWYWx1ZSh1c2VyQXRvbSk7XG4gICAgY29uc3QgdXBkYXRlQWR2ZXJ0aXNlbWVudHMgPSB1c2VTZXRSZWNvaWxTdGF0ZShhZHZlcnRpc2VtZW50c0F0b20pO1xuICAgIGNvbnN0IFtkZWZhdWx0VmFsdWVzLCBzZXREZWZhdWx0VmFsdWVzXSA9IHVzZUxvY2FsZVN0b3JhZ2VTdGF0ZSgnbnB3ZC1jcmVhdGUtYWR2ZXJ0aXNlbWVudCcsIGluaXRpYWxWYWx1ZXMpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2lzUHJldmlldywgc2V0SXNQcmV2aWV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgeyBnZXRWYWx1ZXMsIGNvbnRyb2wsIGhhbmRsZVN1Ym1pdCwgc2V0VmFsdWUsIHJlc2V0IH0gPSB1c2VGb3JtKHtcbiAgICAgICAgZGVmYXVsdFZhbHVlcyxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZSA9IHF1ZXJ5LmdldCgnaW1hZ2UnKSB8fCBkZWZhdWx0VmFsdWVzLmltYWdlO1xuICAgICAgICBzZXRWYWx1ZSgnaW1hZ2UnLCBpbWFnZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWxzID0gZ2V0VmFsdWVzKCk7XG4gICAgICAgICAgICBzZXREZWZhdWx0VmFsdWVzKHZhbHMpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBvblN1Ym1pdCA9ICh2YWx1ZXMpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBZHZlcnRpc2VtZW50ID0geWllbGQgZmV0Y2hOdWkoQWR2ZXJ0aXNlbWVudHNFdmVudHMuQ3JlYXRlQWR2ZXJ0aXNlbWVudCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHVwZGF0ZUFkdmVydGlzZW1lbnRzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3QWR2ZXJ0aXNlbWVudF0pO1xuICAgICAgICAgICAgcmVzZXQoaW5pdGlhbFZhbHVlcyk7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2gocGF0aCk7XG4gICAgICAgICAgICBzZXRFcnJvcignJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUdldEltYWdlID0gKCkgPT4ge1xuICAgICAgICBoaXN0b3J5LnB1c2goYC9jYW1lcmE/cmVmZXJhbD0ke3BhdGh9L2NyZWF0ZWApO1xuICAgIH07XG4gICAgaWYgKGlzUHJldmlldykge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFByZXNlbnRhdGlvbkNhcmQsIHsgaXNQcmV2aWV3OiB0cnVlLCBhZHZlcnRpc2VtZW50OiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGdldFZhbHVlcygpKSwgeyBpZDogLTEsIGNyZWF0b3I6IE1vY2tlZENyZWF0b3IsIHBob25lTnVtYmVyOiAoX2EgPSB1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIucGhvbmVOdW1iZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdVbmtub3duJywgd2F5cG9pbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICB9IH0pIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHsgcG9zaXRpb246ICdhYnNvbHV0ZScsIGJvdHRvbTogJzQuNXJlbScsIHJpZ2h0OiAnMS41cmVtJyB9IH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGYWIsIHsgb25DbGljazogKCkgPT4gc2V0SXNQcmV2aWV3KGZhbHNlKSwgdmFyaWFudDogXCJleHRlbmRlZFwiIH0sIFwiQ2xvc2UgcHJldmlld1wiKSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7IG9uU3VibWl0OiBoYW5kbGVTdWJtaXQob25TdWJtaXQpIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIHsgc3BhY2luZzogMC41IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJoNVwiIH0sIFwiTmV3IGFkdmVydGlzZW1lbnRcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgdmFyaWFudDogXCJjYXB0aW9uXCIgfSwgXCJZb3UgY2FuIGVkaXQgeW91ciBhZHZlcnRpc2VtZW50IGZyb20gdGhlIGFkdmVydGlzZW1lbnRzIHZpZXdcIikpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpdmlkZXIsIHsgc3g6IHsgbWFyZ2luOiAnMS41cmVtIDAnIH0gfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIHsgc3BhY2luZzogMiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sbGVyLCB7IG5hbWU6IFwidGl0bGVcIiwgY29udHJvbDogY29udHJvbCwgcnVsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXF1aXJlZCBmaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWluIGxlbmd0aCAzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNYXggbGVuZ3RoIDIwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAyMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LCByZW5kZXI6ICh7IGZpZWxkLCBmaWVsZFN0YXRlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwgT2JqZWN0LmFzc2lnbih7IHBsYWNlaG9sZGVyOiBcIlRpdGxlXCIsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgZnVsbFdpZHRoOiB0cnVlLCBlcnJvcjogQm9vbGVhbihmaWVsZFN0YXRlLmVycm9yKSwgaGVscGVyVGV4dDogKF9iID0gKF9hID0gZmllbGRTdGF0ZS5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnIH0sIGZpZWxkKSkpO1xuICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xsZXIsIHsgbmFtZTogXCJpbWFnZVwiLCBjb250cm9sOiBjb250cm9sLCByZW5kZXI6ICh7IGZpZWxkIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRGaWVsZCwgT2JqZWN0LmFzc2lnbih7IHBsYWNlaG9sZGVyOiBcIkltYWdlXCIsIGZ1bGxXaWR0aDogdHJ1ZSwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBJbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRBZG9ybm1lbnQ6IChSZWFjdC5jcmVhdGVFbGVtZW50KElucHV0QWRvcm5tZW50LCB7IHBvc2l0aW9uOiBcImVuZFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZUdldEltYWdlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VSb3VuZGVkLCBudWxsKSkpKSxcbiAgICAgICAgICAgICAgICAgICAgfSB9LCBmaWVsZCkpKSB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbGxlciwgeyBuYW1lOiBcImRlc2NyaXB0aW9uXCIsIGNvbnRyb2w6IGNvbnRyb2wsIHJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUmVxdWlyZWQgZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01pbiBsZW5ndGggMTUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDE1LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNYXggbGVuZ3RoIDEwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMTAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIHJlbmRlcjogKHsgZmllbGQsIGZpZWxkU3RhdGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCBPYmplY3QuYXNzaWduKHsgcGxhY2Vob2xkZXI6IFwiRGVzY3JpcHRpb25cIiwgdmFyaWFudDogXCJvdXRsaW5lZFwiLCBmdWxsV2lkdGg6IHRydWUsIGVycm9yOiBCb29sZWFuKGZpZWxkU3RhdGUuZXJyb3IpLCBoZWxwZXJUZXh0OiAoX2IgPSAoX2EgPSBmaWVsZFN0YXRlLmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsIHJvd3M6IDMsIG11bHRpbGluZTogdHJ1ZSB9LCBmaWVsZCkpKTtcbiAgICAgICAgICAgICAgICB9IH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sbGVyLCB7IG5hbWU6IFwiYm9keVwiLCBjb250cm9sOiBjb250cm9sLCBydWxlczoge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlcXVpcmVkIGZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNaW4gbGVuZ3RoIDUwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiA1MCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IGxlbmd0aCAzMDAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAzMDAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIHJlbmRlcjogKHsgZmllbGQsIGZpZWxkU3RhdGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEZpZWxkLCBPYmplY3QuYXNzaWduKHsgcGxhY2Vob2xkZXI6IFwiQm9keVwiLCBmdWxsV2lkdGg6IHRydWUsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiwgZXJyb3I6IEJvb2xlYW4oZmllbGRTdGF0ZS5lcnJvciksIGhlbHBlclRleHQ6IChfYiA9IChfYSA9IGZpZWxkU3RhdGUuZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJywgcm93czogNiwgbXVsdGlsaW5lOiB0cnVlIH0sIGZpZWxkKSkpO1xuICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YWNrLCB7IHNwYWNpbmc6IDAuNSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUdyb3VwLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250cm9sTGFiZWwsIHsgbGFiZWw6IFwiU2hvdyBwaG9uZSBudW1iZXJcIiwgY29udHJvbDogUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sbGVyLCB7IG5hbWU6IFwiaXNDYWxsYWJsZVwiLCBjb250cm9sOiBjb250cm9sLCByZW5kZXI6ICh7IGZpZWxkIH0pID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIE9iamVjdC5hc3NpZ24oe30sIGZpZWxkLCB7IGNoZWNrZWQ6IGZpZWxkLnZhbHVlIH0pKSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udHJvbExhYmVsLCB7IGxhYmVsOiBcIkRpc3BsYXkgeW91ciBsb2NhdGlvblwiLCBjb250cm9sOiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRyb2xsZXIsIHsgbmFtZTogXCJpc1Bvc2l0aW9uXCIsIGNvbnRyb2w6IGNvbnRyb2wsIHJlbmRlcjogKHsgZmllbGQgfSkgPT4gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgT2JqZWN0LmFzc2lnbih7fSwgZmllbGQsIHsgY2hlY2tlZDogZmllbGQudmFsdWUgfSkpIH0pIH0pKSksXG4gICAgICAgICAgICBlcnJvciAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChBbGVydCwgeyBpY29uOiBpc0xvYWRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlZnJlc2hSb3VuZGVkLCBudWxsKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JSb3VuZGVkLCBudWxsKSwgY29sb3I6IGlzTG9hZGluZyA/ICdpbmZvJyA6ICdlcnJvcicsIHZhcmlhbnQ6IFwib3V0bGluZWRcIiB9LCBpc0xvYWRpbmcgPyAnTG9hZGluZyAuLicgOiBlcnJvcikpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgZnVsbFdpZHRoOiB0cnVlLCB2YXJpYW50OiBcIm91dGxpbmVkXCIsIG9uQ2xpY2s6ICgpID0+IHNldElzUHJldmlldyh0cnVlKSwgZGlzYWJsZWQ6IGlzTG9hZGluZyB9LCBcIlByZXZpZXdcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBmdWxsV2lkdGg6IHRydWUsIHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsIHR5cGU6IFwic3VibWl0XCIsIGRpc2FibGVkOiBpc0xvYWRpbmcgfSwgXCJQdWJsaXNoXCIpKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IENyZWF0ZTtcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IHVzZUxvY2FsZVN0b3JhZ2VTdGF0ZSA9IChrZXksIGZhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgcmV0dXJuIHN0b3JhZ2VJdGVtID8gSlNPTi5wYXJzZShzdG9yYWdlSXRlbSkgOiBmYWxsYmFjaztcbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVTZXQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgc2V0U3RhdGUodmFsdWUpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgfTtcbiAgICByZXR1cm4gW3N0YXRlLCBoYW5kbGVTZXRdO1xufTtcbiJdLCJuYW1lcyI6WyJBZHZlcnRpc2VtZW50c0V2ZW50cyIsInJlcG9ydFJlYXNvbnMiLCJjaGlsZHJlbiIsIm1vZGUiLCJ0aGVtZU9wdGlvbnMiLCJ0aGVtZSIsImFkdmVydGlzZW1lbnRzQXRvbSIsImF0b20iLCJrZXkiLCJkZWZhdWx0Iiwic2VsZWN0b3IiLCJnZXQiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIlAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwidXNlckF0b20iLCJfYSIsIkhFQURFUl9IRUlHSFQiLCJDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWxldHRlIiwicHJpbWFyeSIsIm1haW4iLCJ2YXJpYW50IiwiY29sb3IiLCJTdHlsZWRDYXJkQ29udGVudCIsIlN0eWxlZERpYWxvZ0NvbnRlbnQiLCJhZHZlcnRpc2VtZW50Iiwib25DbG9zZSIsImlzUHJldmlldyIsIl9iIiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJ1c2VyIiwidXNlUmVjb2lsVmFsdWUiLCJzZXRBZHZlcnRpc2VtZW50cyIsInVzZVNldFJlY29pbFN0YXRlIiwiaXNDcmVhdG9yIiwiY3JlYXRvciIsImNpdGl6ZW5JZCIsImFkdmVydGlzZW1lbnRJZCIsImlkIiwiaGlkZUNyZWF0b3JBY3Rpb25zIiwiaXNDb250ZW50T3BlbiIsInNldElzQ29udGVudE9wZW4iLCJ1c2VTdGF0ZSIsIm1lbnVBbmNob3IiLCJzZXRNZW51QW5jaG9yIiwicmVwb3J0TWVudUFuY2hvciIsInNldFJlcG9ydE1lbnVBbmNob3IiLCJoYW5kbGVPcGVuTWVudSIsImV2ZW50IiwiY3VycmVudFRhcmdldCIsImhhbmRsZUNsb3NlIiwiaGFuZGxlQ2FsbCIsInB1c2giLCJwaG9uZU51bWJlciIsImhhbmRsZUNoYXQiLCJoYW5kbGVTZXRXYXlwb2ludCIsIndheXBvaW50IiwicHJldiIsImZpbHRlciIsImFkdiIsImVsZXZhdGlvbiIsInRpdGxlIiwic3ViaGVhZGVyIiwibmFtZSIsImFjdGlvbiIsIm9uQ2xpY2siLCJNb3JlVmVydCIsImltYWdlIiwiaGVpZ2h0IiwiY29tcG9uZW50IiwibGlnaHQiLCJkZXNjcmlwdGlvbiIsInJlbWFya1BsdWdpbnMiLCJkaXNhbGxvd2VkRWxlbWVudHMiLCJvcGVuIiwiZGlzYWJsZVBvcnRhbCIsImhpZGVCYWNrZHJvcCIsImZ1bGxTY3JlZW4iLCJQYXBlclByb3BzIiwic3F1YXJlIiwic3giLCJwb3NpdGlvbiIsImRpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsInNwYWNpbmciLCJDbG9zZSIsImJvZHkiLCJpc0NhbGxhYmxlIiwiaXNQb3NpdGlvbiIsInAiLCJwciIsIkNoYXRSb3VuZGVkIiwiUGhvbmVSb3VuZGVkIiwiUm9vbVJvdW5kZWQiLCJhbmNob3JFbCIsIkJvb2xlYW4iLCJ1bmRlZmluZWQiLCJhbmNob3JPcmlnaW4iLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJkaXNhYmxlUGFkZGluZyIsIm1pbldpZHRoIiwiQ2FsbFJvdW5kZWQiLCJSZXBvcnRSb3VuZGVkIiwiRWRpdFJvdW5kZWQiLCJEZWxldGVSb3VuZGVkIiwicmVhc29uIiwiaGFuZGxlUmVwb3J0IiwiZXZlbnROYW1lIiwiZGF0YSIsIm1vY2tSZXNwIiwidGhpcyIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsInVybCIsInJlcGxhY2UiLCJyZXNwIiwiZmV0Y2giLCJyZXNwb25zZU9iaiIsImpzb24iLCJzdGF0dXMiLCJFcnJvciIsImVycm9yTXNnIiwiaXNFbnZCcm93c2VyIiwibWFya2Rvd24xIiwiTW9ja2VkQ3JlYXRvciIsIk1vY2tlZEFkdmVydGlzZW1lbnRzIiwiYWR2ZXJ0aXNlbWVudHMiLCJzZWFyY2giLCJzZXRTZWFyY2giLCJmaWx0ZXJlZEFkdmVydGlzZW1lbnQiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiU2VhcmNoRmllbGQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwibWFwIiwiaW5pdGlhbFZhbHVlcyIsInVwZGF0ZUFkdmVydGlzZW1lbnRzIiwiZGVmYXVsdFZhbHVlcyIsInNldERlZmF1bHRWYWx1ZXMiLCJmYWxsYmFjayIsInN0YXRlIiwic2V0U3RhdGUiLCJzdG9yYWdlSXRlbSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZSIsInNldEl0ZW0iLCJ1c2VMb2NhbGVTdG9yYWdlU3RhdGUiLCJzZXRFcnJvciIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsInNldElzUHJldmlldyIsImxvY2F0aW9uIiwidXNlUGFyYW1zIiwidXNlTG9jYXRpb24iLCJxdWVyeSIsIlVSTFNlYXJjaFBhcmFtcyIsImdldFZhbHVlcyIsImNvbnRyb2wiLCJoYW5kbGVTdWJtaXQiLCJzZXRWYWx1ZSIsInJlc2V0IiwidXNlRm9ybSIsInVzZUVmZmVjdCIsInZhbHMiLCJoYW5kbGVHZXRJbWFnZSIsInBhdGgiLCJQcmVzZW50YXRpb25DYXJkIiwiT2JqZWN0IiwiYXNzaWduIiwieCIsInkiLCJCb3giLCJib3R0b20iLCJyaWdodCIsIkZhYiIsIm9uU3VibWl0IiwidmFsdWVzIiwibmV3QWR2ZXJ0aXNlbWVudCIsImZldGNoTnVpIiwibWVzc2FnZSIsIlN0YWNrIiwiVHlwb2dyYXBoeSIsIkRpdmlkZXIiLCJtYXJnaW4iLCJDb250cm9sbGVyIiwicnVsZXMiLCJyZXF1aXJlZCIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsInJlbmRlciIsImZpZWxkIiwiZmllbGRTdGF0ZSIsIlRleHRGaWVsZCIsImZ1bGxXaWR0aCIsImhlbHBlclRleHQiLCJJbnB1dFByb3BzIiwiZW5kQWRvcm5tZW50IiwiSW5wdXRBZG9ybm1lbnQiLCJJY29uQnV0dG9uIiwiSW1hZ2VSb3VuZGVkIiwicm93cyIsIm11bHRpbGluZSIsIkZvcm1Hcm91cCIsIkZvcm1Db250cm9sTGFiZWwiLCJsYWJlbCIsIkNoZWNrYm94IiwiY2hlY2tlZCIsIkFsZXJ0IiwiaWNvbiIsIlJlZnJlc2hSb3VuZGVkIiwiRXJyb3JSb3VuZGVkIiwiQnV0dG9uIiwiZGlzYWJsZWQiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==