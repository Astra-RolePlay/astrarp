"use strict";(self.webpackChunknpwd_advertisements=self.webpackChunknpwd_advertisements||[]).push([[536],{7536:(e,r,t)=>{t.r(r),t.d(r,{Controller:()=>N,FormProvider:()=>x,appendErrors:()=>M,get:()=>m,set:()=>q,useController:()=>T,useFieldArray:()=>_e,useForm:()=>Be,useFormContext:()=>A,useFormState:()=>C,useWatch:()=>B});var s=t(2950),a=e=>"checkbox"===e.type,n=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"==typeof e;var u=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!n(e),l=e=>u(e)&&e.target?a(e.target)?e.target.checked:e.target.value:e,c=(e,r)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(r)),d=e=>Array.isArray(e)?e.filter(Boolean):[],f=e=>void 0===e,m=(e,r,t)=>{if(!r||!u(e))return t;const s=d(r.split(/[,[\].]+?/)).reduce(((e,r)=>i(e)?e:e[r]),e);return f(s)||s===e?f(e[r])?t:e[r]:s};const y="blur",g="onChange",h="onSubmit",p="all",_="pattern",v="required",b=s.createContext(null),A=()=>s.useContext(b),x=e=>{const{children:r,...t}=e;return s.createElement(b.Provider,{value:t},r)};var F=(e,r,t,s=!0)=>{const a={};for(const n in e)Object.defineProperty(a,n,{get:()=>{const a=n;return r[a]!==p&&(r[a]=!s||p),t&&(t[a]=!0),e[a]}});return a},V=e=>u(e)&&!Object.keys(e).length,w=(e,r,t)=>{const{name:s,...a}=e;return V(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find((e=>r[e]===(!t||p)))},S=e=>Array.isArray(e)?e:[e],k=(e,r,t)=>t&&r?e===r:!e||!r||e===r||S(e).some((e=>e&&(e.startsWith(r)||r.startsWith(e))));function D(e){const r=s.useRef(e);r.current=e,s.useEffect((()=>{const t=!e.disabled&&r.current.subject.subscribe({next:r.current.callback});return()=>(e=>{e&&e.unsubscribe()})(t)}),[e.disabled])}function C(e){const r=A(),{control:t=r.control,disabled:a,name:n,exact:i}=e||{},[o,u]=s.useState(t._formState),l=s.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=s.useRef(n),d=s.useRef(!0);return c.current=n,D({disabled:a,callback:s.useCallback((e=>d.current&&k(c.current,e.name,i)&&w(e,l.current)&&u({...t._formState,...e})),[t,i]),subject:t._subjects.state}),s.useEffect((()=>(d.current=!0,()=>{d.current=!1})),[]),F(o,t._proxyFormState,l.current,!1)}var j=e=>"string"==typeof e,E=(e,r,t,s)=>{const a=Array.isArray(e);return j(e)?(s&&r.watch.add(e),m(t,e)):a?e.map((e=>(s&&r.watch.add(e),m(t,e)))):(s&&(r.watchAll=!0),t)},O=e=>"function"==typeof e,U=e=>{for(const r in e)if(O(e[r]))return!0;return!1};function B(e){const r=A(),{control:t=r.control,name:a,defaultValue:n,disabled:i,exact:o}=e||{},l=s.useRef(a);l.current=a;const c=s.useCallback((e=>{if(k(l.current,e.name,o)){const r=E(l.current,t._names,e.values||t._formValues);m(f(l.current)||u(r)&&!U(r)?{...r}:Array.isArray(r)?[...r]:f(r)?n:r)}}),[t,o,n]);D({disabled:i,subject:t._subjects.watch,callback:c});const[d,m]=s.useState(f(n)?t._getWatch(a):n);return s.useEffect((()=>{t._removeUnmounted()})),d}function T(e){const r=A(),{name:t,control:a=r.control,shouldUnregister:n}=e,i=c(a._names.array,t),o=B({control:a,name:t,defaultValue:m(a._formValues,t,m(a._defaultValues,t,e.defaultValue)),exact:!0}),u=C({control:a,name:t}),d=s.useRef(a.register(t,{...e.rules,value:o}));return s.useEffect((()=>{const e=(e,r)=>{const t=m(a._fields,e);t&&(t._f.mount=r)};return e(t,!0),()=>{const r=a._options.shouldUnregister||n;(i?r&&!a._stateFlags.action:r)?a.unregister(t):e(t,!1)}}),[t,a,i,n]),{field:{name:t,value:o,onChange:s.useCallback((e=>{d.current.onChange({target:{value:l(e),name:t},type:"change"})}),[t]),onBlur:s.useCallback((()=>{d.current.onBlur({target:{value:m(a._formValues,t),name:t},type:y})}),[t,a]),ref:s.useCallback((e=>{const r=m(a._fields,t);e&&r&&e.focus&&(r._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:r=>e.setCustomValidity(r),reportValidity:()=>e.reportValidity()})}),[t,a._fields])},formState:u,fieldState:Object.defineProperties({},{invalid:{get:()=>!!m(u.errors,t)},isDirty:{get:()=>!!m(u.dirtyFields,t)},isTouched:{get:()=>!!m(u.touchedFields,t)},error:{get:()=>m(u.errors,t)}})}}const N=e=>e.render(T(e));var M=(e,r,t,s,a)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:a||!0}}:{},L=e=>/^\w*$/.test(e),R=e=>d(e.replace(/["|']|\]/g,"").split(/\.|\[/));function q(e,r,t){let s=-1;const a=L(r)?[r]:R(r),n=a.length,i=n-1;for(;++s<n;){const r=a[s];let n=t;if(s!==i){const t=e[r];n=u(t)||Array.isArray(t)?t:isNaN(+a[s+1])?{}:[]}e[r]=n,e=e[r]}return e}const W=(e,r,t)=>{for(const s of t||Object.keys(e)){const t=m(e,s);if(t){const{_f:e,...s}=t;if(e&&r(e.name)){if(e.ref.focus&&f(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else u(s)&&W(s,r)}}};var $=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(r=>{const t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},I=(e,r,t={})=>t.shouldFocus||f(t.shouldFocus)?t.focusName||`${e}.${f(t.focusIndex)?r:t.focusIndex}.`:"",P=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some((r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))))),H=(e,r,t)=>{const s=d(m(e,t));return q(s,"root",r[t]),q(e,t,s),e},z=e=>"boolean"==typeof e,G=e=>"file"===e.type,J=e=>j(e)||s.isValidElement(e),K=e=>"radio"===e.type,Q=e=>e instanceof RegExp;const X={value:!1,isValid:!1},Y={value:!0,isValid:!0};var Z=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?Y:{value:e[0].value,isValid:!0}:Y:X}return X};const ee={isValid:!1,value:null};var re=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),ee):ee;function te(e,r,t="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||z(e)&&!e)return{type:t,message:J(e)?e:"",ref:r}}var se=e=>u(e)&&!Q(e)?e:{value:e,message:""},ae=async(e,r,t,s,n)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:y,pattern:g,validate:h,name:p,valueAsNumber:b,mount:A,disabled:x}=e._f;if(!A||x)return{};const F=l?l[0]:o,w=e=>{s&&F.reportValidity&&(F.setCustomValidity(z(e)?"":e||" "),F.reportValidity())},S={},k=K(o),D=a(o),C=k||D,E=(b||G(o))&&!o.value||""===r||Array.isArray(r)&&!r.length,U=M.bind(null,p,t,S),B=(e,r,t,s="maxLength",a="minLength")=>{const n=e?r:t;S[p]={type:e?s:a,message:n,ref:o,...U(e?s:a,n)}};if(n?!Array.isArray(r)||!r.length:c&&(!C&&(E||i(r))||z(r)&&!r||D&&!Z(l).isValid||k&&!re(l).isValid)){const{value:e,message:r}=J(c)?{value:!!c,message:c}:se(c);if(e&&(S[p]={type:v,message:r,ref:F,...U(v,r)},!t))return w(r),S}if(!(E||i(m)&&i(y))){let e,s;const a=se(y),n=se(m);if(i(r)||isNaN(r)){const t=o.valueAsDate||new Date(r);j(a.value)&&(e=t>new Date(a.value)),j(n.value)&&(s=t<new Date(n.value))}else{const t=o.valueAsNumber||+r;i(a.value)||(e=t>a.value),i(n.value)||(s=t<n.value)}if((e||s)&&(B(!!e,a.message,n.message,"max","min"),!t))return w(S[p].message),S}if((d||f)&&!E&&(j(r)||n&&Array.isArray(r))){const e=se(d),s=se(f),a=!i(e.value)&&r.length>e.value,n=!i(s.value)&&r.length<s.value;if((a||n)&&(B(a,e.message,s.message),!t))return w(S[p].message),S}if(g&&!E&&j(r)){const{value:e,message:s}=se(g);if(Q(e)&&!r.match(e)&&(S[p]={type:_,message:s,ref:o,...U(_,s)},!t))return w(s),S}if(h)if(O(h)){const e=te(await h(r),F);if(e&&(S[p]={...e,...U("validate",e.message)},!t))return w(e.message),S}else if(u(h)){let e={};for(const s in h){if(!V(e)&&!t)break;const a=te(await h[s](r),F,s);a&&(e={...a,...U(s,a.message)},w(a.message),t&&(S[p]=e))}if(!V(e)&&(S[p]={ref:F,...e},!t))return S}return w(!0),S};function ne(e,r){return[...e,...S(r)]}var ie="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function oe(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else{if(ie&&(e instanceof Blob||e instanceof FileList)||!t&&!u(e))return e;r=t?[]:{};for(const t in e){if(O(e[t])){r=e;break}r[t]=oe(e[t])}}return r}var ue=e=>Array.isArray(e)?e.map((()=>{})):void 0,le=e=>({isOnSubmit:!e||e===h,isOnBlur:"onBlur"===e,isOnChange:e===g,isOnAll:e===p,isOnTouch:"onTouched"===e});function ce(e,r,t){return[...e.slice(0,r),...S(t),...e.slice(r)]}var de=(e,r,t)=>Array.isArray(e)?(f(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[];function fe(e,r){return[...S(r),...S(e)]}var me=(e,r)=>f(r)?[]:function(e,r){let t=0;const s=[...e];for(const e of r)s.splice(e-t,1),t++;return d(s).length?s:[]}(e,S(r).sort(((e,r)=>e-r))),ye=(e,r,t)=>{e[r]=[e[t],e[t]=e[r]][0]};function ge(e){for(const r in e)if(!f(e[r]))return!1;return!0}function he(e,r){const t=L(r)?[r]:R(r),s=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=f(e)?s++:e[r[s++]];return e}(e,t),a=t[t.length-1];let n;s&&delete s[a];for(let r=0;r<t.slice(0,-1).length;r++){let s,a=-1;const i=t.slice(0,-(r+1)),o=i.length-1;for(r>0&&(n=e);++a<i.length;){const r=i[a];s=s?s[r]:e[r],o===a&&(u(s)&&V(s)||Array.isArray(s)&&ge(s))&&(n?delete n[r]:delete e[r]),n=s}}return e}var pe=(e,r,t)=>(e[r]=t,e);function _e(e){const r=A(),{control:t=r.control,name:a,keyName:n="id",shouldUnregister:i}=e,[o,u]=s.useState(t._getFieldArray(a)),l=s.useRef(t._getFieldArray(a).map($)),c=s.useRef(o),d=s.useRef(a),f=s.useRef(!1);d.current=a,c.current=o,t._names.array.add(a),e.rules&&t.register(a,e.rules),D({callback:s.useCallback((({values:e,name:r})=>{if(r===d.current||!r){const r=m(e,d.current,[]);u(r),l.current=r.map($)}}),[]),subject:t._subjects.array});const y=s.useCallback((e=>{f.current=!0,t._updateFieldArray(a,e)}),[t,a]);return s.useEffect((()=>{if(t._stateFlags.action=!1,P(a,t._names)&&t._subjects.state.next({}),f.current)if(t._options.resolver)t._executeSchema([a]).then((e=>{const r=m(e.errors,a),s=m(t._formState.errors,a);(s?!r&&s.type:r&&r.type)&&(r?q(t._formState.errors,a,r):he(t._formState.errors,a),t._subjects.state.next({errors:t._formState.errors}))}));else{const e=m(t._fields,a);(!le(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&e&&e._f&&ae(e,m(t._formValues,a),t._options.criteriaMode===p,t._options.shouldUseNativeValidation,!0).then((e=>!V(e)&&t._subjects.state.next({errors:H(t._formState.errors,e,a)})))}t._subjects.watch.next({name:a,values:t._formValues}),t._names.focus&&W(t._fields,(e=>e.startsWith(t._names.focus))),t._names.focus="",t._proxyFormState.isValid&&t._updateValid()}),[o,a,t]),s.useEffect((()=>(!m(t._formValues,a)&&t._updateFieldArray(a),()=>{(t._options.shouldUnregister||i)&&t.unregister(a)})),[a,t,n,i]),{swap:s.useCallback(((e,r)=>{const s=t._getFieldArray(a);ye(s,e,r),ye(l.current,e,r),y(s),u(s),t._updateFieldArray(a,s,ye,{argA:e,argB:r},!1)}),[y,a,t]),move:s.useCallback(((e,r)=>{const s=t._getFieldArray(a);de(s,e,r),de(l.current,e,r),y(s),u(s),t._updateFieldArray(a,s,de,{argA:e,argB:r},!1)}),[y,a,t]),prepend:s.useCallback(((e,r)=>{const s=S(oe(e)),n=fe(t._getFieldArray(a),s);t._names.focus=I(a,0,r),l.current=fe(l.current,s.map($)),y(n),u(n),t._updateFieldArray(a,n,fe,{argA:ue(e)})}),[y,a,t]),append:s.useCallback(((e,r)=>{const s=S(oe(e)),n=ne(t._getFieldArray(a),s);t._names.focus=I(a,n.length-1,r),l.current=ne(l.current,s.map($)),y(n),u(n),t._updateFieldArray(a,n,ne,{argA:ue(e)})}),[y,a,t]),remove:s.useCallback((e=>{const r=me(t._getFieldArray(a),e);l.current=me(l.current,e),y(r),u(r),t._updateFieldArray(a,r,me,{argA:e})}),[y,a,t]),insert:s.useCallback(((e,r,s)=>{const n=S(oe(r)),i=ce(t._getFieldArray(a),e,n);t._names.focus=I(a,e,s),l.current=ce(l.current,e,n.map($)),y(i),u(i),t._updateFieldArray(a,i,ce,{argA:e,argB:ue(r)})}),[y,a,t]),update:s.useCallback(((e,r)=>{const s=oe(r),n=pe(t._getFieldArray(a),e,s);l.current=[...n].map(((r,t)=>r&&t!==e?l.current[t]:$())),y(n),u([...n]),t._updateFieldArray(a,n,pe,{argA:e,argB:s},!0,!1)}),[y,a,t]),replace:s.useCallback((e=>{const r=S(oe(e));l.current=r.map($),y([...r]),u([...r]),t._updateFieldArray(a,[...r],(e=>e),{},!0,!1)}),[y,a,t]),fields:s.useMemo((()=>o.map(((e,r)=>({...e,[n]:l.current[r]||$()})))),[o,n])}}function ve(){let e=[];return{get observers(){return e},next:r=>{for(const t of e)t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter((e=>e!==r))}}),unsubscribe:()=>{e=[]}}}var be=e=>i(e)||!o(e);function Ae(e,r){if(be(e)||be(r))return e===r;if(n(e)&&n(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const a of t){const t=e[a];if(!s.includes(a))return!1;if("ref"!==a){const e=r[a];if(n(t)&&n(e)||u(t)&&u(e)||Array.isArray(t)&&Array.isArray(e)?!Ae(t,e):t!==e)return!1}}return!0}var xe=e=>{const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Fe=e=>"select-multiple"===e.type,Ve=e=>xe(e)&&e.isConnected;function we(e,r={}){const t=Array.isArray(e);if(u(e)||t)for(const t in e)Array.isArray(e[t])||u(e[t])&&!U(e[t])?(r[t]=Array.isArray(e[t])?[]:{},we(e[t],r[t])):i(e[t])||(r[t]=!0);return r}function Se(e,r,t){const s=Array.isArray(e);if(u(e)||s)for(const s in e)Array.isArray(e[s])||u(e[s])&&!U(e[s])?f(r)||be(t[s])?t[s]=Array.isArray(e[s])?we(e[s],[]):{...we(e[s])}:Se(e[s],i(r)?{}:r[s],t[s]):t[s]=!Ae(e[s],r[s]);return t}var ke=(e,r)=>Se(e,r,we(r)),De=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>f(e)?e:r?""===e||i(e)?NaN:+e:t&&j(e)?new Date(e):s?s(e):e;function Ce(e){const r=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):r.disabled))return G(r)?r.files:K(r)?re(e.refs).value:Fe(r)?[...r.selectedOptions].map((({value:e})=>e)):a(r)?Z(e.refs).value:De(f(r.value)?e.ref.value:r.value,e)}var je=e=>f(e)?void 0:Q(e)?e.source:u(e)?Q(e.value)?e.value.source:e.value:e;function Ee(e,r,t){const s=m(e,t);if(s||L(t))return{error:s,name:t};const a=t.split(".");for(;a.length;){const s=a.join("."),n=m(r,s),i=m(e,s);if(n&&!Array.isArray(n)&&t!==s)return{name:t};if(i&&i.type)return{name:s,error:i};a.pop()}return{name:t}}const Oe={mode:h,reValidateMode:g,shouldFocusError:!0};function Ue(e={}){let r,t={...Oe,...e},s={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},u=oe(t.defaultValues)||{},g=t.shouldUnregister?{}:oe(u),h={action:!1,mount:!1,watch:!1},_={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v=0,b={};const A={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:ve(),array:ve(),state:ve()},F=le(t.mode),w=le(t.reValidateMode),k=t.criteriaMode===p,D=async e=>{let r=!1;return A.isValid&&(r=t.resolver?V((await B()).errors):await T(o,!0),e||r===s.isValid||(s.isValid=r,x.state.next({isValid:r}))),r},C=(e,r,t,s)=>{const a=m(o,e);if(a){const n=m(g,e,f(t)?m(u,e):t);f(n)||s&&s.defaultChecked||r?q(g,e,r?n:Ce(a._f)):L(e,n),h.mount&&D()}},U=(e,r,t,a,n)=>{let i=!1;const o={name:e},l=m(s.touchedFields,e);if(A.isDirty){const e=s.isDirty;s.isDirty=o.isDirty=N(),i=e!==o.isDirty}if(A.dirtyFields&&(!t||a)){const t=m(s.dirtyFields,e);Ae(m(u,e),r)?he(s.dirtyFields,e):q(s.dirtyFields,e,!0),o.dirtyFields=s.dirtyFields,i=i||t!==m(s.dirtyFields,e)}return t&&!l&&(q(s.touchedFields,e,t),o.touchedFields=s.touchedFields,i=i||A.touchedFields&&l!==t),i&&n&&x.state.next(o),i?o:{}},B=async e=>t.resolver?await t.resolver({...g},t.context,((e,r,t,s)=>{const a={};for(const t of e){const e=m(r,t);e&&q(a,t,e._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||_.mount,o,t.criteriaMode,t.shouldUseNativeValidation)):{},T=async(e,r,a={valid:!0})=>{for(const n in e){const i=e[n];if(i){const{_f:e,...n}=i;if(e){const n=_.array.has(e.name),o=await ae(i,m(g,e.name),k,t.shouldUseNativeValidation,n);if(o[e.name]&&(a.valid=!1,r))break;!r&&(m(o,e.name)?n?H(s.errors,o,e.name):q(s.errors,e.name,o[e.name]):he(s.errors,e.name))}n&&await T(n,r,a)}}return a.valid},N=(e,r)=>(e&&r&&q(g,e,r),!Ae(Q(),u)),M=(e,r,t)=>{const s={...h.mount?g:f(r)?u:j(e)?{[e]:r}:r};return E(e,_,s,t)},L=(e,r,t={})=>{const s=m(o,e);let n=r;if(s){const t=s._f;t&&(!t.disabled&&q(g,e,De(r,t)),n=ie&&xe(t.ref)&&i(r)?"":r,Fe(t.ref)?[...t.ref.options].forEach((e=>e.selected=n.includes(e.value))):t.refs?a(t.ref)?t.refs.length>1?t.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(n)?!!n.find((r=>r===e.value)):n===e.value))):t.refs[0]&&(t.refs[0].checked=!!n):t.refs.forEach((e=>e.checked=e.value===n)):G(t.ref)?t.ref.value="":(t.ref.value=n,t.ref.type||x.watch.next({name:e})))}(t.shouldDirty||t.shouldTouch)&&U(e,n,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&J(e)},R=(e,r,t)=>{for(const s in r){const a=r[s],i=`${e}.${s}`,u=m(o,i);!_.array.has(e)&&be(a)&&(!u||u._f)||n(a)?L(i,a,t):R(i,a,t)}},$=(e,r,t={})=>{const a=m(o,e),n=_.array.has(e),l=oe(r);q(g,e,l),n?(x.array.next({name:e,values:g}),(A.isDirty||A.dirtyFields)&&t.shouldDirty&&(s.dirtyFields=ke(u,g),x.state.next({name:e,dirtyFields:s.dirtyFields,isDirty:N(e,l)}))):!a||a._f||i(l)?L(e,l,t):R(e,l,t),P(e,_)&&x.state.next({}),x.watch.next({name:e})},I=async a=>{const n=a.target;let i=n.name;const u=m(o,i);if(u){let d,f;const h=n.type?Ce(u._f):l(a),p=a.type===y||"focusout"===a.type,S=!((c=u._f).mount&&(c.required||c.min||c.max||c.maxLength||c.minLength||c.pattern||c.validate)||t.resolver||m(s.errors,i)||u._f.deps)||((e,r,t,s,a)=>!a.isOnAll&&(!t&&a.isOnTouch?!(r||e):(t?s.isOnBlur:a.isOnBlur)?!e:!(t?s.isOnChange:a.isOnChange)||e))(p,m(s.touchedFields,i),s.isSubmitted,w,F),C=P(i,_,p);q(g,i,h),p?(u._f.onBlur&&u._f.onBlur(a),r&&r(0)):u._f.onChange&&u._f.onChange(a);const j=U(i,h,p,!1),E=!V(j)||C;if(!p&&x.watch.next({name:i,type:a.type}),S)return E&&x.state.next({name:i,...C?{}:j});if(!p&&C&&x.state.next({}),b[i]=(b[i],1),x.state.next({isValidating:!0}),t.resolver){const{errors:e}=await B([i]),r=Ee(s.errors,o,i),t=Ee(e,o,r.name||i);d=t.error,i=t.name,f=V(e)}else d=(await ae(u,m(g,i),k,t.shouldUseNativeValidation))[i],f=await D(!0);u._f.deps&&J(u._f.deps),(async(t,a,n,i)=>{const o=m(s.errors,t),u=A.isValid&&s.isValid!==a;var l;if(e.delayError&&n?(l=()=>((e,r)=>{q(s.errors,e,r),x.state.next({errors:s.errors})})(t,n),r=e=>{clearTimeout(v),v=window.setTimeout(l,e)},r(e.delayError)):(clearTimeout(v),r=null,n?q(s.errors,t,n):he(s.errors,t)),(n?!Ae(o,n):o)||!V(i)||u){const e={...i,...u?{isValid:a}:{},errors:s.errors,name:t};s={...s,...e},x.state.next(e)}b[t]--,A.isValidating&&!Object.values(b).some((e=>e))&&(x.state.next({isValidating:!1}),b={})})(i,f,d,j)}var c},J=async(e,r={})=>{let a,n;const i=S(e);if(x.state.next({isValidating:!0}),t.resolver){const r=await(async e=>{const{errors:r}=await B();if(e)for(const t of e){const e=m(r,t);e?q(s.errors,t,e):he(s.errors,t)}else s.errors=r;return r})(f(e)?e:i);a=V(r),n=e?!i.some((e=>m(r,e))):a}else e?(n=(await Promise.all(i.map((async e=>{const r=m(o,e);return await T(r&&r._f?{[e]:r}:r)})))).every(Boolean),(n||s.isValid)&&D()):n=a=await T(o);return x.state.next({...!j(e)||A.isValid&&a!==s.isValid?{}:{name:e},...t.resolver?{isValid:a}:{},errors:s.errors,isValidating:!1}),r.shouldFocus&&!n&&W(o,(e=>m(s.errors,e)),e?i:_.mount),n},Q=e=>{const r={...u,...h.mount?g:{}};return f(e)?r:j(e)?m(r,e):e.map((e=>m(r,e)))},X=(e,r)=>({invalid:!!m((r||s).errors,e),isDirty:!!m((r||s).dirtyFields,e),isTouched:!!m((r||s).touchedFields,e),error:m((r||s).errors,e)}),Y=(e,r={})=>{for(const a of e?S(e):_.mount)_.mount.delete(a),_.array.delete(a),m(o,a)&&(r.keepValue||(he(o,a),he(g,a)),!r.keepError&&he(s.errors,a),!r.keepDirty&&he(s.dirtyFields,a),!r.keepTouched&&he(s.touchedFields,a),!t.shouldUnregister&&!r.keepDefaultValue&&he(u,a));x.watch.next({}),x.state.next({...s,...r.keepDirty?{isDirty:N()}:{}}),!r.keepIsValid&&D()},Z=(e,r={})=>{let s=m(o,e);const n=z(r.disabled);return q(o,e,{_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...r}}),_.mount.add(e),s?n&&q(g,e,r.disabled?void 0:m(g,e,Ce(s._f))):C(e,!0,r.value),{...n?{disabled:r.disabled}:{},...t.shouldUseNativeValidation?{required:!!r.required,min:je(r.min),max:je(r.max),minLength:je(r.minLength),maxLength:je(r.maxLength),pattern:je(r.pattern)}:{},name:e,onChange:I,onBlur:I,ref:n=>{if(n){Z(e,r),s=m(o,e);const t=f(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,i=(e=>K(e)||a(e))(t),l=s._f.refs||[];if(i?l.find((e=>e===t)):t===s._f.ref)return;q(o,e,{_f:{...s._f,...i?{refs:[...l.filter(Ve),t,...Array.isArray(m(u,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),C(e,!1,void 0,t)}else s=m(o,e,{}),s._f&&(s._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!c(_.array,e)||!h.action)&&_.unMount.add(e)}}};return{control:{register:Z,unregister:Y,getFieldState:X,_executeSchema:B,_getWatch:M,_getDirty:N,_updateValid:D,_removeUnmounted:()=>{for(const e of _.unMount){const r=m(o,e);r&&(r._f.refs?r._f.refs.every((e=>!Ve(e))):!Ve(r._f.ref))&&Y(e)}_.unMount=new Set},_updateFieldArray:(e,r=[],t,a,n=!0,i=!0)=>{if(a&&t){if(h.action=!0,i&&Array.isArray(m(o,e))){const r=t(m(o,e),a.argA,a.argB);n&&q(o,e,r)}if(A.errors&&i&&Array.isArray(m(s.errors,e))){const r=t(m(s.errors,e),a.argA,a.argB);n&&q(s.errors,e,r),((e,r)=>{!d(m(e,r)).length&&he(e,r)})(s.errors,e)}if(A.touchedFields&&i&&Array.isArray(m(s.touchedFields,e))){const r=t(m(s.touchedFields,e),a.argA,a.argB);n&&q(s.touchedFields,e,r)}A.dirtyFields&&(s.dirtyFields=ke(u,g)),x.state.next({isDirty:N(e,r),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else q(g,e,r)},_getFieldArray:r=>d(m(h.mount?g:u,r,e.shouldUnregister?m(u,r,[]):[])),_subjects:x,_proxyFormState:A,get _fields(){return o},get _formValues(){return g},get _stateFlags(){return h},set _stateFlags(e){h=e},get _defaultValues(){return u},get _names(){return _},set _names(e){_=e},get _formState(){return s},set _formState(e){s=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:J,register:Z,handleSubmit:(e,r)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let n=!0,i=oe(g);x.state.next({isSubmitting:!0});try{if(t.resolver){const{errors:e,values:r}=await B();s.errors=e,i=r}else await T(o);V(s.errors)?(x.state.next({errors:{},isSubmitting:!0}),await e(i,a)):(r&&await r({...s.errors},a),t.shouldFocusError&&W(o,(e=>m(s.errors,e)),_.mount))}catch(e){throw n=!1,e}finally{s.isSubmitted=!0,x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:V(s.errors)&&n,submitCount:s.submitCount+1,errors:s.errors})}},watch:(e,r)=>O(e)?x.watch.subscribe({next:t=>e(M(void 0,r),t)}):M(e,r,!0),setValue:$,getValues:Q,reset:(r,t={})=>{const a=r||u,n=oe(a),i=r&&!V(r)?n:u;if(t.keepDefaultValues||(u=a),!t.keepValues){if(t.keepDirtyValues)for(const e of _.mount)m(s.dirtyFields,e)?q(i,e,m(g,e)):$(e,m(i,e));else{if(ie&&f(r))for(const e of _.mount){const r=m(o,e);if(r&&r._f){const e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;try{if(xe(e)){e.closest("form").reset();break}}catch(e){}}}o={}}g=e.shouldUnregister?t.keepDefaultValues?oe(u):{}:n,x.array.next({values:i}),x.watch.next({values:i})}_={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!A.isValid||!!t.keepIsValid,h.watch=!!e.shouldUnregister,x.state.next({submitCount:t.keepSubmitCount?s.submitCount:0,isDirty:t.keepDirty||t.keepDirtyValues?s.isDirty:!(!t.keepDefaultValues||Ae(r,u)),isSubmitted:!!t.keepIsSubmitted&&s.isSubmitted,dirtyFields:t.keepDirty||t.keepDirtyValues?s.dirtyFields:t.keepDefaultValues&&r?ke(u,r):{},touchedFields:t.keepTouched?s.touchedFields:{},errors:t.keepErrors?s.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,r={})=>{m(o,e)&&(f(r.defaultValue)?$(e,m(u,e)):($(e,r.defaultValue),q(u,e,r.defaultValue)),r.keepTouched||he(s.touchedFields,e),r.keepDirty||(he(s.dirtyFields,e),s.isDirty=r.defaultValue?N(e,m(u,e)):N()),r.keepError||(he(s.errors,e),A.isValid&&D()),x.state.next({...s}))},clearErrors:e=>{e?S(e).forEach((e=>he(s.errors,e))):s.errors={},x.state.next({errors:s.errors})},unregister:Y,setError:(e,r,t)=>{const a=(m(o,e,{_f:{}})._f||{}).ref;q(s.errors,e,{...r,ref:a}),x.state.next({name:e,errors:s.errors,isValid:!1}),t&&t.shouldFocus&&a&&a.focus&&a.focus()},setFocus:(e,r={})=>{const t=m(o,e)._f,s=t.refs?t.refs[0]:t.ref;s.focus(),r.shouldSelect&&s.select()},getFieldState:X}}function Be(e={}){const r=s.useRef(),[t,a]=s.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});r.current?r.current.control._options=e:r.current={...Ue(e),formState:t};const n=r.current.control,i=s.useCallback((e=>{w(e,n._proxyFormState,!0)&&(n._formState={...n._formState,...e},a({...n._formState}))}),[n]);return D({subject:n._subjects.state,callback:i}),s.useEffect((()=>{n._stateFlags.mount||(n._proxyFormState.isValid&&n._updateValid(),n._stateFlags.mount=!0),n._stateFlags.watch&&(n._stateFlags.watch=!1,n._subjects.state.next({})),n._removeUnmounted()})),r.current.formState=F(t,n._proxyFormState),r.current}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVFoQyxpQkFDL0QyYSxFQUFhdFosT0FDeEIsQyIsInNvdXJjZXMiOlsid2VicGFjazovL25wd2RfYWR2ZXJ0aXNlbWVudHMvLi9ub2RlX21vZHVsZXMvcmVhY3QtaG9vay1mb3JtL2Rpc3QvaW5kZXguZXNtLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgaXNDaGVja0JveElucHV0ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JztcblxudmFyIGlzRGF0ZU9iamVjdCA9ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlO1xuXG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSAodmFsdWUpID0+IHZhbHVlID09IG51bGw7XG5cbmNvbnN0IGlzT2JqZWN0VHlwZSA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JztcclxudmFyIGlzT2JqZWN0ID0gKHZhbHVlKSA9PiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpICYmXHJcbiAgICAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiZcclxuICAgIGlzT2JqZWN0VHlwZSh2YWx1ZSkgJiZcclxuICAgICFpc0RhdGVPYmplY3QodmFsdWUpO1xuXG52YXIgZ2V0RXZlbnRWYWx1ZSA9IChldmVudCkgPT4gaXNPYmplY3QoZXZlbnQpICYmIGV2ZW50LnRhcmdldFxyXG4gICAgPyBpc0NoZWNrQm94SW5wdXQoZXZlbnQudGFyZ2V0KVxyXG4gICAgICAgID8gZXZlbnQudGFyZ2V0LmNoZWNrZWRcclxuICAgICAgICA6IGV2ZW50LnRhcmdldC52YWx1ZVxyXG4gICAgOiBldmVudDtcblxudmFyIGdldE5vZGVQYXJlbnROYW1lID0gKG5hbWUpID0+IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUuc2VhcmNoKC9cXC5cXGQrKFxcLnwkKS8pKSB8fCBuYW1lO1xuXG52YXIgaXNOYW1lSW5GaWVsZEFycmF5ID0gKG5hbWVzLCBuYW1lKSA9PiBuYW1lcy5oYXMoZ2V0Tm9kZVBhcmVudE5hbWUobmFtZSkpO1xuXG52YXIgY29tcGFjdCA9ICh2YWx1ZSkgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcblxudmFyIGlzVW5kZWZpbmVkID0gKHZhbCkgPT4gdmFsID09PSB1bmRlZmluZWQ7XG5cbnZhciBnZXQgPSAob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpID0+IHtcclxuICAgIGlmICghcGF0aCB8fCAhaXNPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBjb21wYWN0KHBhdGguc3BsaXQoL1ssW1xcXS5dKz8vKSkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4gaXNOdWxsT3JVbmRlZmluZWQocmVzdWx0KSA/IHJlc3VsdCA6IHJlc3VsdFtrZXldLCBvYmopO1xyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHJlc3VsdCkgfHwgcmVzdWx0ID09PSBvYmpcclxuICAgICAgICA/IGlzVW5kZWZpbmVkKG9ialtwYXRoXSlcclxuICAgICAgICAgICAgPyBkZWZhdWx0VmFsdWVcclxuICAgICAgICAgICAgOiBvYmpbcGF0aF1cclxuICAgICAgICA6IHJlc3VsdDtcclxufTtcblxuY29uc3QgRVZFTlRTID0ge1xyXG4gICAgQkxVUjogJ2JsdXInLFxyXG4gICAgRk9DVVNfT1VUOiAnZm9jdXNvdXQnLFxyXG4gICAgQ0hBTkdFOiAnY2hhbmdlJyxcclxufTtcclxuY29uc3QgVkFMSURBVElPTl9NT0RFID0ge1xyXG4gICAgb25CbHVyOiAnb25CbHVyJyxcclxuICAgIG9uQ2hhbmdlOiAnb25DaGFuZ2UnLFxyXG4gICAgb25TdWJtaXQ6ICdvblN1Ym1pdCcsXHJcbiAgICBvblRvdWNoZWQ6ICdvblRvdWNoZWQnLFxyXG4gICAgYWxsOiAnYWxsJyxcclxufTtcclxuY29uc3QgSU5QVVRfVkFMSURBVElPTl9SVUxFUyA9IHtcclxuICAgIG1heDogJ21heCcsXHJcbiAgICBtaW46ICdtaW4nLFxyXG4gICAgbWF4TGVuZ3RoOiAnbWF4TGVuZ3RoJyxcclxuICAgIG1pbkxlbmd0aDogJ21pbkxlbmd0aCcsXHJcbiAgICBwYXR0ZXJuOiAncGF0dGVybicsXHJcbiAgICByZXF1aXJlZDogJ3JlcXVpcmVkJyxcclxuICAgIHZhbGlkYXRlOiAndmFsaWRhdGUnLFxyXG59O1xuXG5jb25zdCBIb29rRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xyXG4vKipcclxuICogVGhpcyBjdXN0b20gaG9vayBhbGxvd3MgeW91IHRvIGFjY2VzcyB0aGUgZm9ybSBjb250ZXh0LiB1c2VGb3JtQ29udGV4dCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGluIGRlZXBseSBuZXN0ZWQgc3RydWN0dXJlcywgd2hlcmUgaXQgd291bGQgYmVjb21lIGluY29udmVuaWVudCB0byBwYXNzIHRoZSBjb250ZXh0IGFzIGEgcHJvcC4gVG8gYmUgdXNlZCB3aXRoIHtAbGluayBGb3JtUHJvdmlkZXJ9LlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWZvcm1jb250ZXh0KSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9yZWFjdC1ob29rLWZvcm0tdjctZm9ybS1jb250ZXh0LXl0dWRpKVxyXG4gKlxyXG4gKiBAcmV0dXJucyByZXR1cm4gYWxsIHVzZUZvcm0gbWV0aG9kc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0c3hcclxuICogZnVuY3Rpb24gQXBwKCkge1xyXG4gKiAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtKCk7XHJcbiAqICAgY29uc3Qgb25TdWJtaXQgPSBkYXRhID0+IGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gKlxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8Rm9ybVByb3ZpZGVyIHsuLi5tZXRob2RzfSA+XHJcbiAqICAgICAgIDxmb3JtIG9uU3VibWl0PXttZXRob2RzLmhhbmRsZVN1Ym1pdChvblN1Ym1pdCl9PlxyXG4gKiAgICAgICAgIDxOZXN0ZWRJbnB1dCAvPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgPC9Gb3JtUHJvdmlkZXI+XHJcbiAqICAgKTtcclxuICogfVxyXG4gKlxyXG4gKiAgZnVuY3Rpb24gTmVzdGVkSW5wdXQoKSB7XHJcbiAqICAgY29uc3QgeyByZWdpc3RlciB9ID0gdXNlRm9ybUNvbnRleHQoKTsgLy8gcmV0cmlldmUgYWxsIGhvb2sgbWV0aG9kc1xyXG4gKiAgIHJldHVybiA8aW5wdXQgey4uLnJlZ2lzdGVyKFwidGVzdFwiKX0gLz47XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5jb25zdCB1c2VGb3JtQ29udGV4dCA9ICgpID0+IFJlYWN0LnVzZUNvbnRleHQoSG9va0Zvcm1Db250ZXh0KTtcclxuLyoqXHJcbiAqIEEgcHJvdmlkZXIgY29tcG9uZW50IHRoYXQgcHJvcGFnYXRlcyB0aGUgYHVzZUZvcm1gIG1ldGhvZHMgdG8gYWxsIGNoaWxkcmVuIGNvbXBvbmVudHMgdmlhIFtSZWFjdCBDb250ZXh0XShodHRwczovL3JlYWN0anMub3JnL2RvY3MvY29udGV4dC5odG1sKSBBUEkuIFRvIGJlIHVzZWQgd2l0aCB7QGxpbmsgdXNlRm9ybUNvbnRleHR9LlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWZvcm1jb250ZXh0KSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy9yZWFjdC1ob29rLWZvcm0tdjctZm9ybS1jb250ZXh0LXl0dWRpKVxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvcHMgLSBhbGwgdXNlRnJvbSBtZXRob2RzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzeFxyXG4gKiBmdW5jdGlvbiBBcHAoKSB7XHJcbiAqICAgY29uc3QgbWV0aG9kcyA9IHVzZUZvcm0oKTtcclxuICogICBjb25zdCBvblN1Ym1pdCA9IGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSk7XHJcbiAqXHJcbiAqICAgcmV0dXJuIChcclxuICogICAgIDxGb3JtUHJvdmlkZXIgey4uLm1ldGhvZHN9ID5cclxuICogICAgICAgPGZvcm0gb25TdWJtaXQ9e21ldGhvZHMuaGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XHJcbiAqICAgICAgICAgPE5lc3RlZElucHV0IC8+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiAvPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICA8L0Zvcm1Qcm92aWRlcj5cclxuICogICApO1xyXG4gKiB9XHJcbiAqXHJcbiAqICBmdW5jdGlvbiBOZXN0ZWRJbnB1dCgpIHtcclxuICogICBjb25zdCB7IHJlZ2lzdGVyIH0gPSB1c2VGb3JtQ29udGV4dCgpOyAvLyByZXRyaWV2ZSBhbGwgaG9vayBtZXRob2RzXHJcbiAqICAgcmV0dXJuIDxpbnB1dCB7Li4ucmVnaXN0ZXIoXCJ0ZXN0XCIpfSAvPjtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmNvbnN0IEZvcm1Qcm92aWRlciA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uZGF0YSB9ID0gcHJvcHM7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG9va0Zvcm1Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhIH0sIGNoaWxkcmVuKSk7XHJcbn07XG5cbnZhciBnZXRQcm94eUZvcm1TdGF0ZSA9IChmb3JtU3RhdGUsIF9wcm94eUZvcm1TdGF0ZSwgbG9jYWxQcm94eUZvcm1TdGF0ZSwgaXNSb290ID0gdHJ1ZSkgPT4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtU3RhdGUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBrZXksIHtcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfa2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZVtfa2V5XSAhPT0gVkFMSURBVElPTl9NT0RFLmFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9wcm94eUZvcm1TdGF0ZVtfa2V5XSA9ICFpc1Jvb3QgfHwgVkFMSURBVElPTl9NT0RFLmFsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2FsUHJveHlGb3JtU3RhdGUgJiYgKGxvY2FsUHJveHlGb3JtU3RhdGVbX2tleV0gPSB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtU3RhdGVbX2tleV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xuXG52YXIgaXNFbXB0eU9iamVjdCA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpICYmICFPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoO1xuXG52YXIgc2hvdWxkUmVuZGVyRm9ybVN0YXRlID0gKGZvcm1TdGF0ZURhdGEsIF9wcm94eUZvcm1TdGF0ZSwgaXNSb290KSA9PiB7XHJcbiAgICBjb25zdCB7IG5hbWUsIC4uLmZvcm1TdGF0ZSB9ID0gZm9ybVN0YXRlRGF0YTtcclxuICAgIHJldHVybiAoaXNFbXB0eU9iamVjdChmb3JtU3RhdGUpIHx8XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZm9ybVN0YXRlKS5sZW5ndGggPj0gT2JqZWN0LmtleXMoX3Byb3h5Rm9ybVN0YXRlKS5sZW5ndGggfHxcclxuICAgICAgICBPYmplY3Qua2V5cyhmb3JtU3RhdGUpLmZpbmQoKGtleSkgPT4gX3Byb3h5Rm9ybVN0YXRlW2tleV0gPT09XHJcbiAgICAgICAgICAgICghaXNSb290IHx8IFZBTElEQVRJT05fTU9ERS5hbGwpKSk7XHJcbn07XG5cbnZhciBjb252ZXJ0VG9BcnJheVBheWxvYWQgPSAodmFsdWUpID0+IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSk7XG5cbnZhciBzaG91bGRTdWJzY3JpYmVCeU5hbWUgPSAobmFtZSwgc2lnbmFsTmFtZSwgZXhhY3QpID0+IGV4YWN0ICYmIHNpZ25hbE5hbWVcclxuICAgID8gbmFtZSA9PT0gc2lnbmFsTmFtZVxyXG4gICAgOiAhbmFtZSB8fFxyXG4gICAgICAgICFzaWduYWxOYW1lIHx8XHJcbiAgICAgICAgbmFtZSA9PT0gc2lnbmFsTmFtZSB8fFxyXG4gICAgICAgIGNvbnZlcnRUb0FycmF5UGF5bG9hZChuYW1lKS5zb21lKChjdXJyZW50TmFtZSkgPT4gY3VycmVudE5hbWUgJiZcclxuICAgICAgICAgICAgKGN1cnJlbnROYW1lLnN0YXJ0c1dpdGgoc2lnbmFsTmFtZSkgfHxcclxuICAgICAgICAgICAgICAgIHNpZ25hbE5hbWUuc3RhcnRzV2l0aChjdXJyZW50TmFtZSkpKTtcblxuZnVuY3Rpb24gdXNlU3Vic2NyaWJlKHByb3BzKSB7XHJcbiAgICBjb25zdCBfcHJvcHMgPSBSZWFjdC51c2VSZWYocHJvcHMpO1xyXG4gICAgX3Byb3BzLmN1cnJlbnQgPSBwcm9wcztcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGVhckRvd24gPSAoc3Vic2NyaXB0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSAhcHJvcHMuZGlzYWJsZWQgJiZcclxuICAgICAgICAgICAgX3Byb3BzLmN1cnJlbnQuc3ViamVjdC5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgbmV4dDogX3Byb3BzLmN1cnJlbnQuY2FsbGJhY2ssXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB0ZWFyRG93bihzdWJzY3JpcHRpb24pO1xyXG4gICAgfSwgW3Byb3BzLmRpc2FibGVkXSk7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgY3VzdG9tIGhvb2sgYWxsb3dzIHlvdSB0byBzdWJzY3JpYmUgdG8gZWFjaCBmb3JtIHN0YXRlLCBhbmQgaXNvbGF0ZSB0aGUgcmUtcmVuZGVyIGF0IHRoZSBjdXN0b20gaG9vayBsZXZlbC4gSXQgaGFzIGl0cyBzY29wZSBpbiB0ZXJtcyBvZiBmb3JtIHN0YXRlIHN1YnNjcmlwdGlvbiwgc28gaXQgd291bGQgbm90IGFmZmVjdCBvdGhlciB1c2VGb3JtU3RhdGUgYW5kIHVzZUZvcm0uIFVzaW5nIHRoaXMgaG9vayBjYW4gcmVkdWNlIHRoZSByZS1yZW5kZXIgaW1wYWN0IG9uIGxhcmdlIGFuZCBjb21wbGV4IGZvcm0gYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZm9ybXN0YXRlKSDigKIgW0RlbW9dKGh0dHBzOi8vY29kZXNhbmRib3guaW8vcy91c2Vmb3Jtc3RhdGUtNzV4bHkpXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9wcyAtIGluY2x1ZGUgb3B0aW9ucyBvbiBzcGVjaWZ5IGZpZWxkcyB0byBzdWJzY3JpYmUuIHtAbGluayBVc2VGb3JtU3RhdGVSZXR1cm59XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzeFxyXG4gKiBmdW5jdGlvbiBBcHAoKSB7XHJcbiAqICAgY29uc3QgeyByZWdpc3RlciwgaGFuZGxlU3VibWl0LCBjb250cm9sIH0gPSB1c2VGb3JtKHtcclxuICogICAgIGRlZmF1bHRWYWx1ZXM6IHtcclxuICogICAgIGZpcnN0TmFtZTogXCJmaXJzdE5hbWVcIlxyXG4gKiAgIH19KTtcclxuICogICBjb25zdCB7IGRpcnR5RmllbGRzIH0gPSB1c2VGb3JtU3RhdGUoe1xyXG4gKiAgICAgY29udHJvbFxyXG4gKiAgIH0pO1xyXG4gKiAgIGNvbnN0IG9uU3VibWl0ID0gKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gKlxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XHJcbiAqICAgICAgIDxpbnB1dCB7Li4ucmVnaXN0ZXIoXCJmaXJzdE5hbWVcIil9IHBsYWNlaG9sZGVyPVwiRmlyc3QgTmFtZVwiIC8+XHJcbiAqICAgICAgIHtkaXJ0eUZpZWxkcy5maXJzdE5hbWUgJiYgPHA+RmllbGQgaXMgZGlydHkuPC9wPn1cclxuICogICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiAvPlxyXG4gKiAgICAgPC9mb3JtPlxyXG4gKiAgICk7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VGb3JtU3RhdGUocHJvcHMpIHtcclxuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xyXG4gICAgY29uc3QgeyBjb250cm9sID0gbWV0aG9kcy5jb250cm9sLCBkaXNhYmxlZCwgbmFtZSwgZXhhY3QgfSA9IHByb3BzIHx8IHt9O1xyXG4gICAgY29uc3QgW2Zvcm1TdGF0ZSwgdXBkYXRlRm9ybVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKGNvbnRyb2wuX2Zvcm1TdGF0ZSk7XHJcbiAgICBjb25zdCBfbG9jYWxQcm94eUZvcm1TdGF0ZSA9IFJlYWN0LnVzZVJlZih7XHJcbiAgICAgICAgaXNEaXJ0eTogZmFsc2UsXHJcbiAgICAgICAgZGlydHlGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIHRvdWNoZWRGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgX25hbWUgPSBSZWFjdC51c2VSZWYobmFtZSk7XHJcbiAgICBjb25zdCBfbW91bnRlZCA9IFJlYWN0LnVzZVJlZih0cnVlKTtcclxuICAgIF9uYW1lLmN1cnJlbnQgPSBuYW1lO1xyXG4gICAgY29uc3QgY2FsbGJhY2sgPSBSZWFjdC51c2VDYWxsYmFjaygodmFsdWUpID0+IF9tb3VudGVkLmN1cnJlbnQgJiZcclxuICAgICAgICBzaG91bGRTdWJzY3JpYmVCeU5hbWUoX25hbWUuY3VycmVudCwgdmFsdWUubmFtZSwgZXhhY3QpICYmXHJcbiAgICAgICAgc2hvdWxkUmVuZGVyRm9ybVN0YXRlKHZhbHVlLCBfbG9jYWxQcm94eUZvcm1TdGF0ZS5jdXJyZW50KSAmJlxyXG4gICAgICAgIHVwZGF0ZUZvcm1TdGF0ZSh7XHJcbiAgICAgICAgICAgIC4uLmNvbnRyb2wuX2Zvcm1TdGF0ZSxcclxuICAgICAgICAgICAgLi4udmFsdWUsXHJcbiAgICAgICAgfSksIFtjb250cm9sLCBleGFjdF0pO1xyXG4gICAgdXNlU3Vic2NyaWJlKHtcclxuICAgICAgICBkaXNhYmxlZCxcclxuICAgICAgICBjYWxsYmFjayxcclxuICAgICAgICBzdWJqZWN0OiBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZSxcclxuICAgIH0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBfbW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICBfbW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtdKTtcclxuICAgIHJldHVybiBnZXRQcm94eUZvcm1TdGF0ZShmb3JtU3RhdGUsIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlLCBfbG9jYWxQcm94eUZvcm1TdGF0ZS5jdXJyZW50LCBmYWxzZSk7XHJcbn1cblxudmFyIGlzU3RyaW5nID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuXG52YXIgZ2VuZXJhdGVXYXRjaE91dHB1dCA9IChuYW1lcywgX25hbWVzLCBmb3JtVmFsdWVzLCBpc0dsb2JhbCkgPT4ge1xyXG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkobmFtZXMpO1xyXG4gICAgaWYgKGlzU3RyaW5nKG5hbWVzKSkge1xyXG4gICAgICAgIGlzR2xvYmFsICYmIF9uYW1lcy53YXRjaC5hZGQobmFtZXMpO1xyXG4gICAgICAgIHJldHVybiBnZXQoZm9ybVZhbHVlcywgbmFtZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQXJyYXkpIHtcclxuICAgICAgICByZXR1cm4gbmFtZXMubWFwKChmaWVsZE5hbWUpID0+IChpc0dsb2JhbCAmJiBfbmFtZXMud2F0Y2guYWRkKGZpZWxkTmFtZSksXHJcbiAgICAgICAgICAgIGdldChmb3JtVmFsdWVzLCBmaWVsZE5hbWUpKSk7XHJcbiAgICB9XHJcbiAgICBpc0dsb2JhbCAmJiAoX25hbWVzLndhdGNoQWxsID0gdHJ1ZSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxufTtcblxudmFyIGlzRnVuY3Rpb24gPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcblxudmFyIG9iamVjdEhhc0Z1bmN0aW9uID0gKGRhdGEpID0+IHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkYXRhW2tleV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcblxuLyoqXHJcbiAqIEN1c3RvbSBob29rIHRvIHN1YnNjcmliZSB0byBmaWVsZCBjaGFuZ2UgYW5kIGlzb2xhdGUgcmUtcmVuZGVyaW5nIGF0IHRoZSBjb21wb25lbnQgbGV2ZWwuXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqXHJcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNld2F0Y2gpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JlYWN0LWhvb2stZm9ybS12Ny10cy11c2V3YXRjaC1oOWk1ZSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHN4XHJcbiAqIGNvbnN0IHsgd2F0Y2ggfSA9IHVzZUZvcm0oKTtcclxuICogY29uc3QgdmFsdWVzID0gdXNlV2F0Y2goe1xyXG4gKiAgIG5hbWU6IFwiZmllbGROYW1lXCJcclxuICogICBjb250cm9sLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIHVzZVdhdGNoKHByb3BzKSB7XHJcbiAgICBjb25zdCBtZXRob2RzID0gdXNlRm9ybUNvbnRleHQoKTtcclxuICAgIGNvbnN0IHsgY29udHJvbCA9IG1ldGhvZHMuY29udHJvbCwgbmFtZSwgZGVmYXVsdFZhbHVlLCBkaXNhYmxlZCwgZXhhY3QsIH0gPSBwcm9wcyB8fCB7fTtcclxuICAgIGNvbnN0IF9uYW1lID0gUmVhY3QudXNlUmVmKG5hbWUpO1xyXG4gICAgX25hbWUuY3VycmVudCA9IG5hbWU7XHJcbiAgICBjb25zdCBjYWxsYmFjayA9IFJlYWN0LnVzZUNhbGxiYWNrKChmb3JtU3RhdGUpID0+IHtcclxuICAgICAgICBpZiAoc2hvdWxkU3Vic2NyaWJlQnlOYW1lKF9uYW1lLmN1cnJlbnQsIGZvcm1TdGF0ZS5uYW1lLCBleGFjdCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXMgPSBnZW5lcmF0ZVdhdGNoT3V0cHV0KF9uYW1lLmN1cnJlbnQsIGNvbnRyb2wuX25hbWVzLCBmb3JtU3RhdGUudmFsdWVzIHx8IGNvbnRyb2wuX2Zvcm1WYWx1ZXMpO1xyXG4gICAgICAgICAgICB1cGRhdGVWYWx1ZShpc1VuZGVmaW5lZChfbmFtZS5jdXJyZW50KSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzT2JqZWN0KGZpZWxkVmFsdWVzKSAmJiAhb2JqZWN0SGFzRnVuY3Rpb24oZmllbGRWYWx1ZXMpKVxyXG4gICAgICAgICAgICAgICAgPyB7IC4uLmZpZWxkVmFsdWVzIH1cclxuICAgICAgICAgICAgICAgIDogQXJyYXkuaXNBcnJheShmaWVsZFZhbHVlcylcclxuICAgICAgICAgICAgICAgICAgICA/IFsuLi5maWVsZFZhbHVlc11cclxuICAgICAgICAgICAgICAgICAgICA6IGlzVW5kZWZpbmVkKGZpZWxkVmFsdWVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZpZWxkVmFsdWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbY29udHJvbCwgZXhhY3QsIGRlZmF1bHRWYWx1ZV0pO1xyXG4gICAgdXNlU3Vic2NyaWJlKHtcclxuICAgICAgICBkaXNhYmxlZCxcclxuICAgICAgICBzdWJqZWN0OiBjb250cm9sLl9zdWJqZWN0cy53YXRjaCxcclxuICAgICAgICBjYWxsYmFjayxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgW3ZhbHVlLCB1cGRhdGVWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZShpc1VuZGVmaW5lZChkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgPyBjb250cm9sLl9nZXRXYXRjaChuYW1lKVxyXG4gICAgICAgIDogZGVmYXVsdFZhbHVlKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29udHJvbC5fcmVtb3ZlVW5tb3VudGVkKCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG4vKipcclxuICogQ3VzdG9tIGhvb2sgdG8gd29yayB3aXRoIGNvbnRyb2xsZWQgY29tcG9uZW50LCB0aGlzIGZ1bmN0aW9uIHByb3ZpZGUgeW91IHdpdGggYm90aCBmb3JtIGFuZCBmaWVsZCBsZXZlbCBzdGF0ZS4gUmUtcmVuZGVyIGlzIGlzb2xhdGVkIGF0IHRoZSBob29rIGxldmVsLlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBbQVBJXShodHRwczovL3JlYWN0LWhvb2stZm9ybS5jb20vYXBpL3VzZWNvbnRyb2xsZXIpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3VzZWNvbnRyb2xsZXItMG84cHgpXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9wcyAtIHRoZSBwYXRoIG5hbWUgdG8gdGhlIGZvcm0gZmllbGQgdmFsdWUsIGFuZCB2YWxpZGF0aW9uIHJ1bGVzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyBmaWVsZCBwcm9wZXJ0aWVzLCBmaWVsZCBhbmQgZm9ybSBzdGF0ZS4ge0BsaW5rIFVzZUNvbnRyb2xsZXJSZXR1cm59XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzeFxyXG4gKiBmdW5jdGlvbiBJbnB1dChwcm9wcykge1xyXG4gKiAgIGNvbnN0IHsgZmllbGQsIGZpZWxkU3RhdGUsIGZvcm1TdGF0ZSB9ID0gdXNlQ29udHJvbGxlcihwcm9wcyk7XHJcbiAqICAgcmV0dXJuIChcclxuICogICAgIDxkaXY+XHJcbiAqICAgICAgIDxpbnB1dCB7Li4uZmllbGR9IHBsYWNlaG9sZGVyPXtwcm9wcy5uYW1lfSAvPlxyXG4gKiAgICAgICA8cD57ZmllbGRTdGF0ZS5pc1RvdWNoZWQgJiYgXCJUb3VjaGVkXCJ9PC9wPlxyXG4gKiAgICAgICA8cD57Zm9ybVN0YXRlLmlzU3VibWl0dGVkID8gXCJzdWJtaXR0ZWRcIiA6IFwiXCJ9PC9wPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgKTtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIHVzZUNvbnRyb2xsZXIocHJvcHMpIHtcclxuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xyXG4gICAgY29uc3QgeyBuYW1lLCBjb250cm9sID0gbWV0aG9kcy5jb250cm9sLCBzaG91bGRVbnJlZ2lzdGVyIH0gPSBwcm9wcztcclxuICAgIGNvbnN0IGlzQXJyYXlGaWVsZCA9IGlzTmFtZUluRmllbGRBcnJheShjb250cm9sLl9uYW1lcy5hcnJheSwgbmFtZSk7XHJcbiAgICBjb25zdCB2YWx1ZSA9IHVzZVdhdGNoKHtcclxuICAgICAgICBjb250cm9sLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXQoY29udHJvbC5fZm9ybVZhbHVlcywgbmFtZSwgZ2V0KGNvbnRyb2wuX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIHByb3BzLmRlZmF1bHRWYWx1ZSkpLFxyXG4gICAgICAgIGV4YWN0OiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmb3JtU3RhdGUgPSB1c2VGb3JtU3RhdGUoe1xyXG4gICAgICAgIGNvbnRyb2wsXHJcbiAgICAgICAgbmFtZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgX3JlZ2lzdGVyUHJvcHMgPSBSZWFjdC51c2VSZWYoY29udHJvbC5yZWdpc3RlcihuYW1lLCB7XHJcbiAgICAgICAgLi4ucHJvcHMucnVsZXMsXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICB9KSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZU1vdW50ZWQgPSAobmFtZSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoY29udHJvbC5fZmllbGRzLCBuYW1lKTtcclxuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5fZi5tb3VudCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB1cGRhdGVNb3VudGVkKG5hbWUsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IF9zaG91bGRVbnJlZ2lzdGVyRmllbGQgPSBjb250cm9sLl9vcHRpb25zLnNob3VsZFVucmVnaXN0ZXIgfHwgc2hvdWxkVW5yZWdpc3RlcjtcclxuICAgICAgICAgICAgKGlzQXJyYXlGaWVsZFxyXG4gICAgICAgICAgICAgICAgPyBfc2hvdWxkVW5yZWdpc3RlckZpZWxkICYmICFjb250cm9sLl9zdGF0ZUZsYWdzLmFjdGlvblxyXG4gICAgICAgICAgICAgICAgOiBfc2hvdWxkVW5yZWdpc3RlckZpZWxkKVxyXG4gICAgICAgICAgICAgICAgPyBjb250cm9sLnVucmVnaXN0ZXIobmFtZSlcclxuICAgICAgICAgICAgICAgIDogdXBkYXRlTW91bnRlZChuYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtuYW1lLCBjb250cm9sLCBpc0FycmF5RmllbGQsIHNob3VsZFVucmVnaXN0ZXJdKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZmllbGQ6IHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIF9yZWdpc3RlclByb3BzLmN1cnJlbnQub25DaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZ2V0RXZlbnRWYWx1ZShldmVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFVkVOVFMuQ0hBTkdFLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIFtuYW1lXSksXHJcbiAgICAgICAgICAgIG9uQmx1cjogUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX3JlZ2lzdGVyUHJvcHMuY3VycmVudC5vbkJsdXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZ2V0KGNvbnRyb2wuX2Zvcm1WYWx1ZXMsIG5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRVZFTlRTLkJMVVIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgW25hbWUsIGNvbnRyb2xdKSxcclxuICAgICAgICAgICAgcmVmOiBSZWFjdC51c2VDYWxsYmFjaygoZWxtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChjb250cm9sLl9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsbSAmJiBmaWVsZCAmJiBlbG0uZm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5fZi5yZWYgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiAoKSA9PiBlbG0uZm9jdXMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiAoKSA9PiBlbG0uc2VsZWN0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5OiAobWVzc2FnZSkgPT4gZWxtLnNldEN1c3RvbVZhbGlkaXR5KG1lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRWYWxpZGl0eTogKCkgPT4gZWxtLnJlcG9ydFZhbGlkaXR5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgW25hbWUsIGNvbnRyb2wuX2ZpZWxkc10pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybVN0YXRlLFxyXG4gICAgICAgIGZpZWxkU3RhdGU6IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHt9LCB7XHJcbiAgICAgICAgICAgIGludmFsaWQ6IHtcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gISFnZXQoZm9ybVN0YXRlLmVycm9ycywgbmFtZSksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzRGlydHk6IHtcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gISFnZXQoZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBuYW1lKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNUb3VjaGVkOiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+ICEhZ2V0KGZvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IHtcclxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gZ2V0KGZvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgfTtcclxufVxuXG4vKipcclxuICogQ29tcG9uZW50IGJhc2VkIG9uIGB1c2VDb250cm9sbGVyYCBob29rIHRvIHdvcmsgd2l0aCBjb250cm9sbGVkIGNvbXBvbmVudC5cclxuICpcclxuICogQHJlbWFya3NcclxuICogW0FQSV0oaHR0cHM6Ly9yZWFjdC1ob29rLWZvcm0uY29tL2FwaS91c2Vjb250cm9sbGVyL2NvbnRyb2xsZXIpIOKAoiBbRGVtb10oaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JlYWN0LWhvb2stZm9ybS12Ni1jb250cm9sbGVyLXRzLWp3eXp3KSDigKIgW1ZpZGVvXShodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PU4yVU5rX1VDVnlBKVxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvcHMgLSB0aGUgcGF0aCBuYW1lIHRvIHRoZSBmb3JtIGZpZWxkIHZhbHVlLCBhbmQgdmFsaWRhdGlvbiBydWxlcy5cclxuICpcclxuICogQHJldHVybnMgcHJvdmlkZSBmaWVsZCBoYW5kbGVyIGZ1bmN0aW9ucywgZmllbGQgYW5kIGZvcm0gc3RhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzeFxyXG4gKiBmdW5jdGlvbiBBcHAoKSB7XHJcbiAqICAgY29uc3QgeyBjb250cm9sIH0gPSB1c2VGb3JtPEZvcm1WYWx1ZXM+KHtcclxuICogICAgIGRlZmF1bHRWYWx1ZXM6IHtcclxuICogICAgICAgdGVzdDogXCJcIlxyXG4gKiAgICAgfVxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8Zm9ybT5cclxuICogICAgICAgPENvbnRyb2xsZXJcclxuICogICAgICAgICBjb250cm9sPXtjb250cm9sfVxyXG4gKiAgICAgICAgIG5hbWU9XCJ0ZXN0XCJcclxuICogICAgICAgICByZW5kZXI9eyh7IGZpZWxkOiB7IG9uQ2hhbmdlLCBvbkJsdXIsIHZhbHVlLCByZWYgfSwgZm9ybVN0YXRlLCBmaWVsZFN0YXRlIH0pID0+IChcclxuICogICAgICAgICAgIDw+XHJcbiAqICAgICAgICAgICAgIDxpbnB1dFxyXG4gKiAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX0gLy8gc2VuZCB2YWx1ZSB0byBob29rIGZvcm1cclxuICogICAgICAgICAgICAgICBvbkJsdXI9e29uQmx1cn0gLy8gbm90aWZ5IHdoZW4gaW5wdXQgaXMgdG91Y2hlZFxyXG4gKiAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX0gLy8gcmV0dXJuIHVwZGF0ZWQgdmFsdWVcclxuICogICAgICAgICAgICAgICByZWY9e3JlZn0gLy8gc2V0IHJlZiBmb3IgZm9jdXMgbWFuYWdlbWVudFxyXG4gKiAgICAgICAgICAgICAvPlxyXG4gKiAgICAgICAgICAgICA8cD57Zm9ybVN0YXRlLmlzU3VibWl0dGVkID8gXCJzdWJtaXR0ZWRcIiA6IFwiXCJ9PC9wPlxyXG4gKiAgICAgICAgICAgICA8cD57ZmllbGRTdGF0ZS5pc1RvdWNoZWQgPyBcInRvdWNoZWRcIiA6IFwiXCJ9PC9wPlxyXG4gKiAgICAgICAgICAgPC8+XHJcbiAqICAgICAgICAgKX1cclxuICogICAgICAgLz5cclxuICogICAgIDwvZm9ybT5cclxuICogICApO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuY29uc3QgQ29udHJvbGxlciA9IChwcm9wcykgPT4gcHJvcHMucmVuZGVyKHVzZUNvbnRyb2xsZXIocHJvcHMpKTtcblxudmFyIGFwcGVuZEVycm9ycyA9IChuYW1lLCB2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEsIGVycm9ycywgdHlwZSwgbWVzc2FnZSkgPT4gdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhXHJcbiAgICA/IHtcclxuICAgICAgICAuLi5lcnJvcnNbbmFtZV0sXHJcbiAgICAgICAgdHlwZXM6IHtcclxuICAgICAgICAgICAgLi4uKGVycm9yc1tuYW1lXSAmJiBlcnJvcnNbbmFtZV0udHlwZXMgPyBlcnJvcnNbbmFtZV0udHlwZXMgOiB7fSksXHJcbiAgICAgICAgICAgIFt0eXBlXTogbWVzc2FnZSB8fCB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICB9XHJcbiAgICA6IHt9O1xuXG52YXIgaXNLZXkgPSAodmFsdWUpID0+IC9eXFx3KiQvLnRlc3QodmFsdWUpO1xuXG52YXIgc3RyaW5nVG9QYXRoID0gKGlucHV0KSA9PiBjb21wYWN0KGlucHV0LnJlcGxhY2UoL1tcInwnXXxcXF0vZywgJycpLnNwbGl0KC9cXC58XFxbLykpO1xuXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xyXG4gICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICBjb25zdCB0ZW1wUGF0aCA9IGlzS2V5KHBhdGgpID8gW3BhdGhdIDogc3RyaW5nVG9QYXRoKHBhdGgpO1xyXG4gICAgY29uc3QgbGVuZ3RoID0gdGVtcFBhdGgubGVuZ3RoO1xyXG4gICAgY29uc3QgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcclxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGVtcFBhdGhbaW5kZXhdO1xyXG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChpbmRleCAhPT0gbGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9ialZhbHVlID0gb2JqZWN0W2tleV07XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID1cclxuICAgICAgICAgICAgICAgIGlzT2JqZWN0KG9ialZhbHVlKSB8fCBBcnJheS5pc0FycmF5KG9ialZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gb2JqVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICA6ICFpc05hTigrdGVtcFBhdGhbaW5kZXggKyAxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmplY3Rba2V5XSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9iamVjdDtcclxufVxuXG5jb25zdCBmb2N1c0ZpZWxkQnkgPSAoZmllbGRzLCBjYWxsYmFjaywgZmllbGRzTmFtZXMpID0+IHtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIGZpZWxkc05hbWVzIHx8IE9iamVjdC5rZXlzKGZpZWxkcykpIHtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChmaWVsZHMsIGtleSk7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgX2YsIC4uLmN1cnJlbnRGaWVsZCB9ID0gZmllbGQ7XHJcbiAgICAgICAgICAgIGlmIChfZiAmJiBjYWxsYmFjayhfZi5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9mLnJlZi5mb2N1cyAmJiBpc1VuZGVmaW5lZChfZi5yZWYuZm9jdXMoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF9mLnJlZnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfZi5yZWZzWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QoY3VycmVudEZpZWxkKSkge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNGaWVsZEJ5KGN1cnJlbnRGaWVsZCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG52YXIgZ2VuZXJhdGVJZCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGQgPSB0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICd1bmRlZmluZWQnID8gRGF0ZS5ub3coKSA6IHBlcmZvcm1hbmNlLm5vdygpICogMTAwMDtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XHJcbiAgICAgICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYgKyBkKSAlIDE2IHwgMDtcclxuICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4OCkudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbn07XG5cbnZhciBnZXRGb2N1c0ZpZWxkTmFtZSA9IChuYW1lLCBpbmRleCwgb3B0aW9ucyA9IHt9KSA9PiBvcHRpb25zLnNob3VsZEZvY3VzIHx8IGlzVW5kZWZpbmVkKG9wdGlvbnMuc2hvdWxkRm9jdXMpXHJcbiAgICA/IG9wdGlvbnMuZm9jdXNOYW1lIHx8XHJcbiAgICAgICAgYCR7bmFtZX0uJHtpc1VuZGVmaW5lZChvcHRpb25zLmZvY3VzSW5kZXgpID8gaW5kZXggOiBvcHRpb25zLmZvY3VzSW5kZXh9LmBcclxuICAgIDogJyc7XG5cbnZhciBpc1dhdGNoZWQgPSAobmFtZSwgX25hbWVzLCBpc0JsdXJFdmVudCkgPT4gIWlzQmx1ckV2ZW50ICYmXHJcbiAgICAoX25hbWVzLndhdGNoQWxsIHx8XHJcbiAgICAgICAgX25hbWVzLndhdGNoLmhhcyhuYW1lKSB8fFxyXG4gICAgICAgIFsuLi5fbmFtZXMud2F0Y2hdLnNvbWUoKHdhdGNoTmFtZSkgPT4gbmFtZS5zdGFydHNXaXRoKHdhdGNoTmFtZSkgJiZcclxuICAgICAgICAgICAgL15cXC5cXHcrLy50ZXN0KG5hbWUuc2xpY2Uod2F0Y2hOYW1lLmxlbmd0aCkpKSk7XG5cbnZhciB1cGRhdGVGaWVsZEFycmF5Um9vdEVycm9yID0gKGVycm9ycywgZXJyb3IsIG5hbWUpID0+IHtcclxuICAgIGNvbnN0IGZpZWxkQXJyYXlFcnJvcnMgPSBjb21wYWN0KGdldChlcnJvcnMsIG5hbWUpKTtcclxuICAgIHNldChmaWVsZEFycmF5RXJyb3JzLCAncm9vdCcsIGVycm9yW25hbWVdKTtcclxuICAgIHNldChlcnJvcnMsIG5hbWUsIGZpZWxkQXJyYXlFcnJvcnMpO1xyXG4gICAgcmV0dXJuIGVycm9ycztcclxufTtcblxudmFyIGlzQm9vbGVhbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG5cbnZhciBpc0ZpbGVJbnB1dCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09ICdmaWxlJztcblxudmFyIGlzTWVzc2FnZSA9ICh2YWx1ZSkgPT4gaXNTdHJpbmcodmFsdWUpIHx8IFJlYWN0LmlzVmFsaWRFbGVtZW50KHZhbHVlKTtcblxudmFyIGlzUmFkaW9JbnB1dCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09ICdyYWRpbyc7XG5cbnZhciBpc1JlZ2V4ID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cDtcblxuY29uc3QgZGVmYXVsdFJlc3VsdCA9IHtcclxuICAgIHZhbHVlOiBmYWxzZSxcclxuICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG59O1xyXG5jb25zdCB2YWxpZFJlc3VsdCA9IHsgdmFsdWU6IHRydWUsIGlzVmFsaWQ6IHRydWUgfTtcclxudmFyIGdldENoZWNrYm94VmFsdWUgPSAob3B0aW9ucykgPT4ge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKG9wdGlvbikgPT4gb3B0aW9uICYmIG9wdGlvbi5jaGVja2VkICYmICFvcHRpb24uZGlzYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAubWFwKChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZXMsIGlzVmFsaWQ6ICEhdmFsdWVzLmxlbmd0aCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0aW9uc1swXS5jaGVja2VkICYmICFvcHRpb25zWzBdLmRpc2FibGVkXHJcbiAgICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvciBleHBlY3RlZCB0byB3b3JrIGluIHRoZSBicm93c2VyXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zWzBdLmF0dHJpYnV0ZXMgJiYgIWlzVW5kZWZpbmVkKG9wdGlvbnNbMF0uYXR0cmlidXRlcy52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICA/IGlzVW5kZWZpbmVkKG9wdGlvbnNbMF0udmFsdWUpIHx8IG9wdGlvbnNbMF0udmFsdWUgPT09ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsaWRSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7IHZhbHVlOiBvcHRpb25zWzBdLnZhbHVlLCBpc1ZhbGlkOiB0cnVlIH1cclxuICAgICAgICAgICAgICAgICAgICA6IHZhbGlkUmVzdWx0XHJcbiAgICAgICAgICAgIDogZGVmYXVsdFJlc3VsdDtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWZhdWx0UmVzdWx0O1xyXG59O1xuXG5jb25zdCBkZWZhdWx0UmV0dXJuID0ge1xyXG4gICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICB2YWx1ZTogbnVsbCxcclxufTtcclxudmFyIGdldFJhZGlvVmFsdWUgPSAob3B0aW9ucykgPT4gQXJyYXkuaXNBcnJheShvcHRpb25zKVxyXG4gICAgPyBvcHRpb25zLnJlZHVjZSgocHJldmlvdXMsIG9wdGlvbikgPT4gb3B0aW9uICYmIG9wdGlvbi5jaGVja2VkICYmICFvcHRpb24uZGlzYWJsZWRcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaXNWYWxpZDogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgOiBwcmV2aW91cywgZGVmYXVsdFJldHVybilcclxuICAgIDogZGVmYXVsdFJldHVybjtcblxuZnVuY3Rpb24gZ2V0VmFsaWRhdGVFcnJvcihyZXN1bHQsIHJlZiwgdHlwZSA9ICd2YWxpZGF0ZScpIHtcclxuICAgIGlmIChpc01lc3NhZ2UocmVzdWx0KSB8fFxyXG4gICAgICAgIChBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgcmVzdWx0LmV2ZXJ5KGlzTWVzc2FnZSkpIHx8XHJcbiAgICAgICAgKGlzQm9vbGVhbihyZXN1bHQpICYmICFyZXN1bHQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogaXNNZXNzYWdlKHJlc3VsdCkgPyByZXN1bHQgOiAnJyxcclxuICAgICAgICAgICAgcmVmLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cblxudmFyIGdldFZhbHVlQW5kTWVzc2FnZSA9ICh2YWxpZGF0aW9uRGF0YSkgPT4gaXNPYmplY3QodmFsaWRhdGlvbkRhdGEpICYmICFpc1JlZ2V4KHZhbGlkYXRpb25EYXRhKVxyXG4gICAgPyB2YWxpZGF0aW9uRGF0YVxyXG4gICAgOiB7XHJcbiAgICAgICAgdmFsdWU6IHZhbGlkYXRpb25EYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgfTtcblxudmFyIHZhbGlkYXRlRmllbGQgPSBhc3luYyAoZmllbGQsIGlucHV0VmFsdWUsIHZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSwgc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbiwgaXNGaWVsZEFycmF5KSA9PiB7XHJcbiAgICBjb25zdCB7IHJlZiwgcmVmcywgcmVxdWlyZWQsIG1heExlbmd0aCwgbWluTGVuZ3RoLCBtaW4sIG1heCwgcGF0dGVybiwgdmFsaWRhdGUsIG5hbWUsIHZhbHVlQXNOdW1iZXIsIG1vdW50LCBkaXNhYmxlZCwgfSA9IGZpZWxkLl9mO1xyXG4gICAgaWYgKCFtb3VudCB8fCBkaXNhYmxlZCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuICAgIGNvbnN0IGlucHV0UmVmID0gcmVmcyA/IHJlZnNbMF0gOiByZWY7XHJcbiAgICBjb25zdCBzZXRDdXN0b21WYWxpZGl0eSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgaWYgKHNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24gJiYgaW5wdXRSZWYucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgaW5wdXRSZWYuc2V0Q3VzdG9tVmFsaWRpdHkoaXNCb29sZWFuKG1lc3NhZ2UpID8gJycgOiBtZXNzYWdlIHx8ICcgJyk7XHJcbiAgICAgICAgICAgIGlucHV0UmVmLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGVycm9yID0ge307XHJcbiAgICBjb25zdCBpc1JhZGlvID0gaXNSYWRpb0lucHV0KHJlZik7XHJcbiAgICBjb25zdCBpc0NoZWNrQm94ID0gaXNDaGVja0JveElucHV0KHJlZik7XHJcbiAgICBjb25zdCBpc1JhZGlvT3JDaGVja2JveCA9IGlzUmFkaW8gfHwgaXNDaGVja0JveDtcclxuICAgIGNvbnN0IGlzRW1wdHkgPSAoKHZhbHVlQXNOdW1iZXIgfHwgaXNGaWxlSW5wdXQocmVmKSkgJiYgIXJlZi52YWx1ZSkgfHxcclxuICAgICAgICBpbnB1dFZhbHVlID09PSAnJyB8fFxyXG4gICAgICAgIChBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpICYmICFpbnB1dFZhbHVlLmxlbmd0aCk7XHJcbiAgICBjb25zdCBhcHBlbmRFcnJvcnNDdXJyeSA9IGFwcGVuZEVycm9ycy5iaW5kKG51bGwsIG5hbWUsIHZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSwgZXJyb3IpO1xyXG4gICAgY29uc3QgZ2V0TWluTWF4TWVzc2FnZSA9IChleGNlZWRNYXgsIG1heExlbmd0aE1lc3NhZ2UsIG1pbkxlbmd0aE1lc3NhZ2UsIG1heFR5cGUgPSBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1heExlbmd0aCwgbWluVHlwZSA9IElOUFVUX1ZBTElEQVRJT05fUlVMRVMubWluTGVuZ3RoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV4Y2VlZE1heCA/IG1heExlbmd0aE1lc3NhZ2UgOiBtaW5MZW5ndGhNZXNzYWdlO1xyXG4gICAgICAgIGVycm9yW25hbWVdID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBleGNlZWRNYXggPyBtYXhUeXBlIDogbWluVHlwZSxcclxuICAgICAgICAgICAgbWVzc2FnZSxcclxuICAgICAgICAgICAgcmVmLFxyXG4gICAgICAgICAgICAuLi5hcHBlbmRFcnJvcnNDdXJyeShleGNlZWRNYXggPyBtYXhUeXBlIDogbWluVHlwZSwgbWVzc2FnZSksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBpZiAoaXNGaWVsZEFycmF5XHJcbiAgICAgICAgPyAhQXJyYXkuaXNBcnJheShpbnB1dFZhbHVlKSB8fCAhaW5wdXRWYWx1ZS5sZW5ndGhcclxuICAgICAgICA6IHJlcXVpcmVkICYmXHJcbiAgICAgICAgICAgICgoIWlzUmFkaW9PckNoZWNrYm94ICYmIChpc0VtcHR5IHx8IGlzTnVsbE9yVW5kZWZpbmVkKGlucHV0VmFsdWUpKSkgfHxcclxuICAgICAgICAgICAgICAgIChpc0Jvb2xlYW4oaW5wdXRWYWx1ZSkgJiYgIWlucHV0VmFsdWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoaXNDaGVja0JveCAmJiAhZ2V0Q2hlY2tib3hWYWx1ZShyZWZzKS5pc1ZhbGlkKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzUmFkaW8gJiYgIWdldFJhZGlvVmFsdWUocmVmcykuaXNWYWxpZCkpKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgbWVzc2FnZSB9ID0gaXNNZXNzYWdlKHJlcXVpcmVkKVxyXG4gICAgICAgICAgICA/IHsgdmFsdWU6ICEhcmVxdWlyZWQsIG1lc3NhZ2U6IHJlcXVpcmVkIH1cclxuICAgICAgICAgICAgOiBnZXRWYWx1ZUFuZE1lc3NhZ2UocmVxdWlyZWQpO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBlcnJvcltuYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IElOUFVUX1ZBTElEQVRJT05fUlVMRVMucmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgcmVmOiBpbnB1dFJlZixcclxuICAgICAgICAgICAgICAgIC4uLmFwcGVuZEVycm9yc0N1cnJ5KElOUFVUX1ZBTElEQVRJT05fUlVMRVMucmVxdWlyZWQsIG1lc3NhZ2UpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzRW1wdHkgJiYgKCFpc051bGxPclVuZGVmaW5lZChtaW4pIHx8ICFpc051bGxPclVuZGVmaW5lZChtYXgpKSkge1xyXG4gICAgICAgIGxldCBleGNlZWRNYXg7XHJcbiAgICAgICAgbGV0IGV4Y2VlZE1pbjtcclxuICAgICAgICBjb25zdCBtYXhPdXRwdXQgPSBnZXRWYWx1ZUFuZE1lc3NhZ2UobWF4KTtcclxuICAgICAgICBjb25zdCBtaW5PdXRwdXQgPSBnZXRWYWx1ZUFuZE1lc3NhZ2UobWluKTtcclxuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGlucHV0VmFsdWUpICYmICFpc05hTihpbnB1dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZU51bWJlciA9IHJlZi52YWx1ZUFzTnVtYmVyIHx8ICtpbnB1dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKG1heE91dHB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGV4Y2VlZE1heCA9IHZhbHVlTnVtYmVyID4gbWF4T3V0cHV0LnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQobWluT3V0cHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZXhjZWVkTWluID0gdmFsdWVOdW1iZXIgPCBtaW5PdXRwdXQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlRGF0ZSA9IHJlZi52YWx1ZUFzRGF0ZSB8fCBuZXcgRGF0ZShpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG1heE91dHB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGV4Y2VlZE1heCA9IHZhbHVlRGF0ZSA+IG5ldyBEYXRlKG1heE91dHB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG1pbk91dHB1dC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGV4Y2VlZE1pbiA9IHZhbHVlRGF0ZSA8IG5ldyBEYXRlKG1pbk91dHB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV4Y2VlZE1heCB8fCBleGNlZWRNaW4pIHtcclxuICAgICAgICAgICAgZ2V0TWluTWF4TWVzc2FnZSghIWV4Y2VlZE1heCwgbWF4T3V0cHV0Lm1lc3NhZ2UsIG1pbk91dHB1dC5tZXNzYWdlLCBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1heCwgSU5QVVRfVkFMSURBVElPTl9SVUxFUy5taW4pO1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWRpdHkoZXJyb3JbbmFtZV0ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoKG1heExlbmd0aCB8fCBtaW5MZW5ndGgpICYmXHJcbiAgICAgICAgIWlzRW1wdHkgJiZcclxuICAgICAgICAoaXNTdHJpbmcoaW5wdXRWYWx1ZSkgfHwgKGlzRmllbGRBcnJheSAmJiBBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpKSkpIHtcclxuICAgICAgICBjb25zdCBtYXhMZW5ndGhPdXRwdXQgPSBnZXRWYWx1ZUFuZE1lc3NhZ2UobWF4TGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBtaW5MZW5ndGhPdXRwdXQgPSBnZXRWYWx1ZUFuZE1lc3NhZ2UobWluTGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBleGNlZWRNYXggPSAhaXNOdWxsT3JVbmRlZmluZWQobWF4TGVuZ3RoT3V0cHV0LnZhbHVlKSAmJlxyXG4gICAgICAgICAgICBpbnB1dFZhbHVlLmxlbmd0aCA+IG1heExlbmd0aE91dHB1dC52YWx1ZTtcclxuICAgICAgICBjb25zdCBleGNlZWRNaW4gPSAhaXNOdWxsT3JVbmRlZmluZWQobWluTGVuZ3RoT3V0cHV0LnZhbHVlKSAmJlxyXG4gICAgICAgICAgICBpbnB1dFZhbHVlLmxlbmd0aCA8IG1pbkxlbmd0aE91dHB1dC52YWx1ZTtcclxuICAgICAgICBpZiAoZXhjZWVkTWF4IHx8IGV4Y2VlZE1pbikge1xyXG4gICAgICAgICAgICBnZXRNaW5NYXhNZXNzYWdlKGV4Y2VlZE1heCwgbWF4TGVuZ3RoT3V0cHV0Lm1lc3NhZ2UsIG1pbkxlbmd0aE91dHB1dC5tZXNzYWdlKTtcclxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KGVycm9yW25hbWVdLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhdHRlcm4gJiYgIWlzRW1wdHkgJiYgaXNTdHJpbmcoaW5wdXRWYWx1ZSkpIHtcclxuICAgICAgICBjb25zdCB7IHZhbHVlOiBwYXR0ZXJuVmFsdWUsIG1lc3NhZ2UgfSA9IGdldFZhbHVlQW5kTWVzc2FnZShwYXR0ZXJuKTtcclxuICAgICAgICBpZiAoaXNSZWdleChwYXR0ZXJuVmFsdWUpICYmICFpbnB1dFZhbHVlLm1hdGNoKHBhdHRlcm5WYWx1ZSkpIHtcclxuICAgICAgICAgICAgZXJyb3JbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLnBhdHRlcm4sXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgcmVmLFxyXG4gICAgICAgICAgICAgICAgLi4uYXBwZW5kRXJyb3JzQ3VycnkoSU5QVVRfVkFMSURBVElPTl9SVUxFUy5wYXR0ZXJuLCBtZXNzYWdlKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHZhbGlkYXRlKSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlKGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZUVycm9yID0gZ2V0VmFsaWRhdGVFcnJvcihyZXN1bHQsIGlucHV0UmVmKTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yW25hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnZhbGlkYXRlRXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgLi4uYXBwZW5kRXJyb3JzQ3VycnkoSU5QVVRfVkFMSURBVElPTl9SVUxFUy52YWxpZGF0ZSwgdmFsaWRhdGVFcnJvci5tZXNzYWdlKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkaXR5KHZhbGlkYXRlRXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbGlkYXRlKSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWxpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5T2JqZWN0KHZhbGlkYXRpb25SZXN1bHQpICYmICF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlRXJyb3IgPSBnZXRWYWxpZGF0ZUVycm9yKGF3YWl0IHZhbGlkYXRlW2tleV0oaW5wdXRWYWx1ZSksIGlucHV0UmVmLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi52YWxpZGF0ZUVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5hcHBlbmRFcnJvcnNDdXJyeShrZXksIHZhbGlkYXRlRXJyb3IubWVzc2FnZSksXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWxpZGl0eSh2YWxpZGF0ZUVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JbbmFtZV0gPSB2YWxpZGF0aW9uUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWlzRW1wdHlPYmplY3QodmFsaWRhdGlvblJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yW25hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZjogaW5wdXRSZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgLi4udmFsaWRhdGlvblJlc3VsdCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEN1c3RvbVZhbGlkaXR5KHRydWUpO1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG59O1xuXG5mdW5jdGlvbiBhcHBlbmQoZGF0YSwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbLi4uZGF0YSwgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKV07XHJcbn1cblxudmFyIGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG5mdW5jdGlvbiBjbG9uZU9iamVjdChkYXRhKSB7XHJcbiAgICBsZXQgY29weTtcclxuICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGRhdGEpO1xyXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgICAgY29weSA9IG5ldyBEYXRlKGRhdGEpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIFNldCkge1xyXG4gICAgICAgIGNvcHkgPSBuZXcgU2V0KGRhdGEpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIShpc1dlYiAmJiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IgfHwgZGF0YSBpbnN0YW5jZW9mIEZpbGVMaXN0KSkgJiZcclxuICAgICAgICAoaXNBcnJheSB8fCBpc09iamVjdChkYXRhKSkpIHtcclxuICAgICAgICBjb3B5ID0gaXNBcnJheSA/IFtdIDoge307XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkYXRhW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICBjb3B5ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IGNsb25lT2JqZWN0KGRhdGFba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29weTtcclxufVxuXG52YXIgZmlsbEVtcHR5QXJyYXkgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKCgpID0+IHVuZGVmaW5lZCkgOiB1bmRlZmluZWQ7XG5cbnZhciBnZXRWYWxpZGF0aW9uTW9kZXMgPSAobW9kZSkgPT4gKHtcclxuICAgIGlzT25TdWJtaXQ6ICFtb2RlIHx8IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5vblN1Ym1pdCxcclxuICAgIGlzT25CbHVyOiBtb2RlID09PSBWQUxJREFUSU9OX01PREUub25CbHVyLFxyXG4gICAgaXNPbkNoYW5nZTogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLm9uQ2hhbmdlLFxyXG4gICAgaXNPbkFsbDogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLmFsbCxcclxuICAgIGlzT25Ub3VjaDogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLm9uVG91Y2hlZCxcclxufSk7XG5cbmZ1bmN0aW9uIGluc2VydChkYXRhLCBpbmRleCwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4uZGF0YS5zbGljZSgwLCBpbmRleCksXHJcbiAgICAgICAgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKSxcclxuICAgICAgICAuLi5kYXRhLnNsaWNlKGluZGV4KSxcclxuICAgIF07XHJcbn1cblxudmFyIG1vdmVBcnJheUF0ID0gKGRhdGEsIGZyb20sIHRvKSA9PiB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBpZiAoaXNVbmRlZmluZWQoZGF0YVt0b10pKSB7XHJcbiAgICAgICAgZGF0YVt0b10gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBkYXRhLnNwbGljZSh0bywgMCwgZGF0YS5zcGxpY2UoZnJvbSwgMSlbMF0pO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn07XG5cbmZ1bmN0aW9uIHByZXBlbmQoZGF0YSwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKSwgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKGRhdGEpXTtcclxufVxuXG5mdW5jdGlvbiByZW1vdmVBdEluZGV4ZXMoZGF0YSwgaW5kZXhlcykge1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgY29uc3QgdGVtcCA9IFsuLi5kYXRhXTtcclxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kZXhlcykge1xyXG4gICAgICAgIHRlbXAuc3BsaWNlKGluZGV4IC0gaSwgMSk7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbXBhY3QodGVtcCkubGVuZ3RoID8gdGVtcCA6IFtdO1xyXG59XHJcbnZhciByZW1vdmVBcnJheUF0ID0gKGRhdGEsIGluZGV4KSA9PiBpc1VuZGVmaW5lZChpbmRleClcclxuICAgID8gW11cclxuICAgIDogcmVtb3ZlQXRJbmRleGVzKGRhdGEsIGNvbnZlcnRUb0FycmF5UGF5bG9hZChpbmRleCkuc29ydCgoYSwgYikgPT4gYSAtIGIpKTtcblxudmFyIHN3YXBBcnJheUF0ID0gKGRhdGEsIGluZGV4QSwgaW5kZXhCKSA9PiB7XHJcbiAgICBkYXRhW2luZGV4QV0gPSBbZGF0YVtpbmRleEJdLCAoZGF0YVtpbmRleEJdID0gZGF0YVtpbmRleEFdKV1bMF07XHJcbn07XG5cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCB1cGRhdGVQYXRoKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSB1cGRhdGVQYXRoLnNsaWNlKDAsIC0xKS5sZW5ndGg7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgb2JqZWN0ID0gaXNVbmRlZmluZWQob2JqZWN0KSA/IGluZGV4KysgOiBvYmplY3RbdXBkYXRlUGF0aFtpbmRleCsrXV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG59XHJcbmZ1bmN0aW9uIGlzRW1wdHlBcnJheShvYmopIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQob2JqW2tleV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiB1bnNldChvYmplY3QsIHBhdGgpIHtcclxuICAgIGNvbnN0IHVwZGF0ZVBhdGggPSBpc0tleShwYXRoKSA/IFtwYXRoXSA6IHN0cmluZ1RvUGF0aChwYXRoKTtcclxuICAgIGNvbnN0IGNoaWxkT2JqZWN0ID0gdXBkYXRlUGF0aC5sZW5ndGggPT0gMSA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCB1cGRhdGVQYXRoKTtcclxuICAgIGNvbnN0IGtleSA9IHVwZGF0ZVBhdGhbdXBkYXRlUGF0aC5sZW5ndGggLSAxXTtcclxuICAgIGxldCBwcmV2aW91c09ialJlZjtcclxuICAgIGlmIChjaGlsZE9iamVjdCkge1xyXG4gICAgICAgIGRlbGV0ZSBjaGlsZE9iamVjdFtrZXldO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCB1cGRhdGVQYXRoLnNsaWNlKDAsIC0xKS5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xyXG4gICAgICAgIGxldCBvYmplY3RSZWY7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGhzID0gdXBkYXRlUGF0aC5zbGljZSgwLCAtKGsgKyAxKSk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGhzTGVuZ3RoID0gY3VycmVudFBhdGhzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGsgPiAwKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzT2JqUmVmID0gb2JqZWN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGN1cnJlbnRQYXRocy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGN1cnJlbnRQYXRoc1tpbmRleF07XHJcbiAgICAgICAgICAgIG9iamVjdFJlZiA9IG9iamVjdFJlZiA/IG9iamVjdFJlZltpdGVtXSA6IG9iamVjdFtpdGVtXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYXRoc0xlbmd0aCA9PT0gaW5kZXggJiZcclxuICAgICAgICAgICAgICAgICgoaXNPYmplY3Qob2JqZWN0UmVmKSAmJiBpc0VtcHR5T2JqZWN0KG9iamVjdFJlZikpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkob2JqZWN0UmVmKSAmJiBpc0VtcHR5QXJyYXkob2JqZWN0UmVmKSkpKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c09ialJlZiA/IGRlbGV0ZSBwcmV2aW91c09ialJlZltpdGVtXSA6IGRlbGV0ZSBvYmplY3RbaXRlbV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJldmlvdXNPYmpSZWYgPSBvYmplY3RSZWY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9iamVjdDtcclxufVxuXG52YXIgdXBkYXRlQXQgPSAoZmllbGRWYWx1ZXMsIGluZGV4LCB2YWx1ZSkgPT4ge1xyXG4gICAgZmllbGRWYWx1ZXNbaW5kZXhdID0gdmFsdWU7XHJcbiAgICByZXR1cm4gZmllbGRWYWx1ZXM7XHJcbn07XG5cbi8qKlxyXG4gKiBBIGN1c3RvbSBob29rIHRoYXQgZXhwb3NlcyBjb252ZW5pZW50IG1ldGhvZHMgdG8gcGVyZm9ybSBvcGVyYXRpb25zIHdpdGggYSBsaXN0IG9mIGR5bmFtaWMgaW5wdXRzIHRoYXQgbmVlZCB0byBiZSBhcHBlbmRlZCwgdXBkYXRlZCwgcmVtb3ZlZCBldGMuXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZmllbGRhcnJheSkg4oCiIFtEZW1vXShodHRwczovL2NvZGVzYW5kYm94LmlvL3MvcmVhY3QtaG9vay1mb3JtLXVzZWZpZWxkYXJyYXktc3N1Z24pXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm9wcyAtIHVzZUZpZWxkQXJyYXkgcHJvcHNcclxuICpcclxuICogQHJldHVybnMgbWV0aG9kcyAtIGZ1bmN0aW9ucyB0byBtYW5pcHVsYXRlIHdpdGggdGhlIEZpZWxkIEFycmF5cyAoZHluYW1pYyBpbnB1dHMpIHtAbGluayBVc2VGaWVsZEFycmF5UmV0dXJufVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0c3hcclxuICogZnVuY3Rpb24gQXBwKCkge1xyXG4gKiAgIGNvbnN0IHsgcmVnaXN0ZXIsIGNvbnRyb2wsIGhhbmRsZVN1Ym1pdCwgcmVzZXQsIHRyaWdnZXIsIHNldEVycm9yIH0gPSB1c2VGb3JtKHtcclxuICogICAgIGRlZmF1bHRWYWx1ZXM6IHtcclxuICogICAgICAgdGVzdDogW11cclxuICogICAgIH1cclxuICogICB9KTtcclxuICogICBjb25zdCB7IGZpZWxkcywgYXBwZW5kIH0gPSB1c2VGaWVsZEFycmF5KHtcclxuICogICAgIGNvbnRyb2wsXHJcbiAqICAgICBuYW1lOiBcInRlc3RcIlxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0KGRhdGEgPT4gY29uc29sZS5sb2coZGF0YSkpfT5cclxuICogICAgICAge2ZpZWxkcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXHJcbiAqICAgICAgICAgIDxpbnB1dCBrZXk9e2l0ZW0uaWR9IHsuLi5yZWdpc3RlcihgdGVzdC4ke2luZGV4fS5maXJzdE5hbWVgKX0gIC8+XHJcbiAqICAgICAgICkpfVxyXG4gKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXsoKSA9PiBhcHBlbmQoeyBmaXJzdE5hbWU6IFwiYmlsbFwiIH0pfT5cclxuICogICAgICAgICBhcHBlbmRcclxuICogICAgICAgPC9idXR0b24+XHJcbiAqICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgLz5cclxuICogICAgIDwvZm9ybT5cclxuICogICApO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gdXNlRmllbGRBcnJheShwcm9wcykge1xyXG4gICAgY29uc3QgbWV0aG9kcyA9IHVzZUZvcm1Db250ZXh0KCk7XHJcbiAgICBjb25zdCB7IGNvbnRyb2wgPSBtZXRob2RzLmNvbnRyb2wsIG5hbWUsIGtleU5hbWUgPSAnaWQnLCBzaG91bGRVbnJlZ2lzdGVyLCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBbZmllbGRzLCBzZXRGaWVsZHNdID0gUmVhY3QudXNlU3RhdGUoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKSk7XHJcbiAgICBjb25zdCBpZHMgPSBSZWFjdC51c2VSZWYoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKS5tYXAoZ2VuZXJhdGVJZCkpO1xyXG4gICAgY29uc3QgX2ZpZWxkSWRzID0gUmVhY3QudXNlUmVmKGZpZWxkcyk7XHJcbiAgICBjb25zdCBfbmFtZSA9IFJlYWN0LnVzZVJlZihuYW1lKTtcclxuICAgIGNvbnN0IF9hY3Rpb25lZCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XHJcbiAgICBfbmFtZS5jdXJyZW50ID0gbmFtZTtcclxuICAgIF9maWVsZElkcy5jdXJyZW50ID0gZmllbGRzO1xyXG4gICAgY29udHJvbC5fbmFtZXMuYXJyYXkuYWRkKG5hbWUpO1xyXG4gICAgcHJvcHMucnVsZXMgJiZcclxuICAgICAgICBjb250cm9sLnJlZ2lzdGVyKG5hbWUsIHByb3BzLnJ1bGVzKTtcclxuICAgIGNvbnN0IGNhbGxiYWNrID0gUmVhY3QudXNlQ2FsbGJhY2soKHsgdmFsdWVzLCBuYW1lOiBmaWVsZEFycmF5TmFtZSwgfSkgPT4ge1xyXG4gICAgICAgIGlmIChmaWVsZEFycmF5TmFtZSA9PT0gX25hbWUuY3VycmVudCB8fCAhZmllbGRBcnJheU5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZXMgPSBnZXQodmFsdWVzLCBfbmFtZS5jdXJyZW50LCBbXSk7XHJcbiAgICAgICAgICAgIHNldEZpZWxkcyhmaWVsZFZhbHVlcyk7XHJcbiAgICAgICAgICAgIGlkcy5jdXJyZW50ID0gZmllbGRWYWx1ZXMubWFwKGdlbmVyYXRlSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKTtcclxuICAgIHVzZVN1YnNjcmliZSh7XHJcbiAgICAgICAgY2FsbGJhY2ssXHJcbiAgICAgICAgc3ViamVjdDogY29udHJvbC5fc3ViamVjdHMuYXJyYXksXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHVwZGF0ZVZhbHVlcyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh1cGRhdGVkRmllbGRBcnJheVZhbHVlcykgPT4ge1xyXG4gICAgICAgIF9hY3Rpb25lZC5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgIH0sIFtjb250cm9sLCBuYW1lXSk7XHJcbiAgICBjb25zdCBhcHBlbmQkMSA9ICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFwcGVuZFZhbHVlID0gY29udmVydFRvQXJyYXlQYXlsb2FkKGNsb25lT2JqZWN0KHZhbHVlKSk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSBhcHBlbmQoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKSwgYXBwZW5kVmFsdWUpO1xyXG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzID0gZ2V0Rm9jdXNGaWVsZE5hbWUobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMubGVuZ3RoIC0gMSwgb3B0aW9ucyk7XHJcbiAgICAgICAgaWRzLmN1cnJlbnQgPSBhcHBlbmQoaWRzLmN1cnJlbnQsIGFwcGVuZFZhbHVlLm1hcChnZW5lcmF0ZUlkKSk7XHJcbiAgICAgICAgdXBkYXRlVmFsdWVzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGFwcGVuZCwge1xyXG4gICAgICAgICAgICBhcmdBOiBmaWxsRW1wdHlBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJlcGVuZCQxID0gKHZhbHVlLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJlcGVuZFZhbHVlID0gY29udmVydFRvQXJyYXlQYXlsb2FkKGNsb25lT2JqZWN0KHZhbHVlKSk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSBwcmVwZW5kKGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSksIHByZXBlbmRWYWx1ZSk7XHJcbiAgICAgICAgY29udHJvbC5fbmFtZXMuZm9jdXMgPSBnZXRGb2N1c0ZpZWxkTmFtZShuYW1lLCAwLCBvcHRpb25zKTtcclxuICAgICAgICBpZHMuY3VycmVudCA9IHByZXBlbmQoaWRzLmN1cnJlbnQsIHByZXBlbmRWYWx1ZS5tYXAoZ2VuZXJhdGVJZCkpO1xyXG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XHJcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCBwcmVwZW5kLCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGZpbGxFbXB0eUFycmF5KHZhbHVlKSxcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmUgPSAoaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcyA9IHJlbW92ZUFycmF5QXQoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKSwgaW5kZXgpO1xyXG4gICAgICAgIGlkcy5jdXJyZW50ID0gcmVtb3ZlQXJyYXlBdChpZHMuY3VycmVudCwgaW5kZXgpO1xyXG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XHJcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCByZW1vdmVBcnJheUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGluc2VydCQxID0gKGluZGV4LCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc2VydFZhbHVlID0gY29udmVydFRvQXJyYXlQYXlsb2FkKGNsb25lT2JqZWN0KHZhbHVlKSk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSBpbnNlcnQoY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKSwgaW5kZXgsIGluc2VydFZhbHVlKTtcclxuICAgICAgICBjb250cm9sLl9uYW1lcy5mb2N1cyA9IGdldEZvY3VzRmllbGROYW1lKG5hbWUsIGluZGV4LCBvcHRpb25zKTtcclxuICAgICAgICBpZHMuY3VycmVudCA9IGluc2VydChpZHMuY3VycmVudCwgaW5kZXgsIGluc2VydFZhbHVlLm1hcChnZW5lcmF0ZUlkKSk7XHJcbiAgICAgICAgdXBkYXRlVmFsdWVzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGluc2VydCwge1xyXG4gICAgICAgICAgICBhcmdBOiBpbmRleCxcclxuICAgICAgICAgICAgYXJnQjogZmlsbEVtcHR5QXJyYXkodmFsdWUpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHN3YXAgPSAoaW5kZXhBLCBpbmRleEIpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcyA9IGNvbnRyb2wuX2dldEZpZWxkQXJyYXkobmFtZSk7XHJcbiAgICAgICAgc3dhcEFycmF5QXQodXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGluZGV4QSwgaW5kZXhCKTtcclxuICAgICAgICBzd2FwQXJyYXlBdChpZHMuY3VycmVudCwgaW5kZXhBLCBpbmRleEIpO1xyXG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XHJcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzLCBzd2FwQXJyYXlBdCwge1xyXG4gICAgICAgICAgICBhcmdBOiBpbmRleEEsXHJcbiAgICAgICAgICAgIGFyZ0I6IGluZGV4QixcclxuICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW92ZSA9IChmcm9tLCB0bykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzID0gY29udHJvbC5fZ2V0RmllbGRBcnJheShuYW1lKTtcclxuICAgICAgICBtb3ZlQXJyYXlBdCh1cGRhdGVkRmllbGRBcnJheVZhbHVlcywgZnJvbSwgdG8pO1xyXG4gICAgICAgIG1vdmVBcnJheUF0KGlkcy5jdXJyZW50LCBmcm9tLCB0byk7XHJcbiAgICAgICAgdXBkYXRlVmFsdWVzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMpO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIG1vdmVBcnJheUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGZyb20sXHJcbiAgICAgICAgICAgIGFyZ0I6IHRvLFxyXG4gICAgICAgIH0sIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGUgPSAoaW5kZXgsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlVmFsdWUgPSBjbG9uZU9iamVjdCh2YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMgPSB1cGRhdGVBdChjb250cm9sLl9nZXRGaWVsZEFycmF5KG5hbWUpLCBpbmRleCwgdXBkYXRlVmFsdWUpO1xyXG4gICAgICAgIGlkcy5jdXJyZW50ID0gWy4uLnVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzXS5tYXAoKGl0ZW0sIGkpID0+ICFpdGVtIHx8IGkgPT09IGluZGV4ID8gZ2VuZXJhdGVJZCgpIDogaWRzLmN1cnJlbnRbaV0pO1xyXG4gICAgICAgIHVwZGF0ZVZhbHVlcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcyk7XHJcbiAgICAgICAgc2V0RmllbGRzKFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10pO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkobmFtZSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIHVwZGF0ZUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4LFxyXG4gICAgICAgICAgICBhcmdCOiB1cGRhdGVWYWx1ZSxcclxuICAgICAgICB9LCB0cnVlLCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVwbGFjZSA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzID0gY29udmVydFRvQXJyYXlQYXlsb2FkKGNsb25lT2JqZWN0KHZhbHVlKSk7XHJcbiAgICAgICAgaWRzLmN1cnJlbnQgPSB1cGRhdGVkRmllbGRBcnJheVZhbHVlcy5tYXAoZ2VuZXJhdGVJZCk7XHJcbiAgICAgICAgdXBkYXRlVmFsdWVzKFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10pO1xyXG4gICAgICAgIHNldEZpZWxkcyhbLi4udXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNdKTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KG5hbWUsIFsuLi51cGRhdGVkRmllbGRBcnJheVZhbHVlc10sIChkYXRhKSA9PiBkYXRhLCB7fSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29udHJvbC5fc3RhdGVGbGFncy5hY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICBpc1dhdGNoZWQobmFtZSwgY29udHJvbC5fbmFtZXMpICYmIGNvbnRyb2wuX3N1YmplY3RzLnN0YXRlLm5leHQoe30pO1xyXG4gICAgICAgIGlmIChfYWN0aW9uZWQuY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAoY29udHJvbC5fb3B0aW9ucy5yZXNvbHZlcikge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbC5fZXhlY3V0ZVNjaGVtYShbbmFtZV0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZ2V0KHJlc3VsdC5lcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRXJyb3IgPSBnZXQoY29udHJvbC5fZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nRXJyb3IgPyAhZXJyb3IgJiYgZXhpc3RpbmdFcnJvci50eXBlIDogZXJyb3IgJiYgZXJyb3IudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXQoY29udHJvbC5fZm9ybVN0YXRlLmVycm9ycywgbmFtZSwgZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuc2V0KGNvbnRyb2wuX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogY29udHJvbC5fZm9ybVN0YXRlLmVycm9ycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChjb250cm9sLl9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvbk1vZGVCZWZvcmVTdWJtaXQgPSBnZXRWYWxpZGF0aW9uTW9kZXMoY29udHJvbC5fb3B0aW9ucy5tb2RlKTtcclxuICAgICAgICAgICAgICAgIGlmICgoIXZhbGlkYXRpb25Nb2RlQmVmb3JlU3VibWl0LmlzT25TdWJtaXQgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sLl9mb3JtU3RhdGUuaXNTdWJtaXR0ZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgJiZcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5fZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRmllbGQoZmllbGQsIGdldChjb250cm9sLl9mb3JtVmFsdWVzLCBuYW1lKSwgY29udHJvbC5fb3B0aW9ucy5jcml0ZXJpYU1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5hbGwsIGNvbnRyb2wuX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbiwgdHJ1ZSkudGhlbigoZXJyb3IpID0+ICFpc0VtcHR5T2JqZWN0KGVycm9yKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogdXBkYXRlRmllbGRBcnJheVJvb3RFcnJvcihjb250cm9sLl9mb3JtU3RhdGUuZXJyb3JzLCBlcnJvciwgbmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb250cm9sLl9zdWJqZWN0cy53YXRjaC5uZXh0KHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgdmFsdWVzOiBjb250cm9sLl9mb3JtVmFsdWVzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzICYmXHJcbiAgICAgICAgICAgIGZvY3VzRmllbGRCeShjb250cm9sLl9maWVsZHMsIChrZXkpID0+IGtleS5zdGFydHNXaXRoKGNvbnRyb2wuX25hbWVzLmZvY3VzKSk7XHJcbiAgICAgICAgY29udHJvbC5fbmFtZXMuZm9jdXMgPSAnJztcclxuICAgICAgICBjb250cm9sLl9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkICYmIGNvbnRyb2wuX3VwZGF0ZVZhbGlkKCk7XHJcbiAgICB9LCBbZmllbGRzLCBuYW1lLCBjb250cm9sXSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgICFnZXQoY29udHJvbC5fZm9ybVZhbHVlcywgbmFtZSkgJiYgY29udHJvbC5fdXBkYXRlRmllbGRBcnJheShuYW1lKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAoY29udHJvbC5fb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyIHx8IHNob3VsZFVucmVnaXN0ZXIpICYmXHJcbiAgICAgICAgICAgICAgICBjb250cm9sLnVucmVnaXN0ZXIobmFtZSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtuYW1lLCBjb250cm9sLCBrZXlOYW1lLCBzaG91bGRVbnJlZ2lzdGVyXSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN3YXA6IFJlYWN0LnVzZUNhbGxiYWNrKHN3YXAsIFt1cGRhdGVWYWx1ZXMsIG5hbWUsIGNvbnRyb2xdKSxcclxuICAgICAgICBtb3ZlOiBSZWFjdC51c2VDYWxsYmFjayhtb3ZlLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXHJcbiAgICAgICAgcHJlcGVuZDogUmVhY3QudXNlQ2FsbGJhY2socHJlcGVuZCQxLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXHJcbiAgICAgICAgYXBwZW5kOiBSZWFjdC51c2VDYWxsYmFjayhhcHBlbmQkMSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxyXG4gICAgICAgIHJlbW92ZTogUmVhY3QudXNlQ2FsbGJhY2socmVtb3ZlLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXHJcbiAgICAgICAgaW5zZXJ0OiBSZWFjdC51c2VDYWxsYmFjayhpbnNlcnQkMSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxyXG4gICAgICAgIHVwZGF0ZTogUmVhY3QudXNlQ2FsbGJhY2sodXBkYXRlLCBbdXBkYXRlVmFsdWVzLCBuYW1lLCBjb250cm9sXSksXHJcbiAgICAgICAgcmVwbGFjZTogUmVhY3QudXNlQ2FsbGJhY2socmVwbGFjZSwgW3VwZGF0ZVZhbHVlcywgbmFtZSwgY29udHJvbF0pLFxyXG4gICAgICAgIGZpZWxkczogUmVhY3QudXNlTWVtbygoKSA9PiBmaWVsZHMubWFwKChmaWVsZCwgaW5kZXgpID0+ICh7XHJcbiAgICAgICAgICAgIC4uLmZpZWxkLFxyXG4gICAgICAgICAgICBba2V5TmFtZV06IGlkcy5jdXJyZW50W2luZGV4XSB8fCBnZW5lcmF0ZUlkKCksXHJcbiAgICAgICAgfSkpLCBbZmllbGRzLCBrZXlOYW1lXSksXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN1YmplY3QoKSB7XHJcbiAgICBsZXQgX29ic2VydmVycyA9IFtdO1xyXG4gICAgY29uc3QgbmV4dCA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgX29ic2VydmVycykge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc3Vic2NyaWJlID0gKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgX29ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX29ic2VydmVycyA9IF9vYnNlcnZlcnMuZmlsdGVyKChvKSA9PiBvICE9PSBvYnNlcnZlcik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHtcclxuICAgICAgICBfb2JzZXJ2ZXJzID0gW107XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXQgb2JzZXJ2ZXJzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX29ic2VydmVycztcclxuICAgICAgICB9LFxyXG4gICAgICAgIG5leHQsXHJcbiAgICAgICAgc3Vic2NyaWJlLFxyXG4gICAgICAgIHVuc3Vic2NyaWJlLFxyXG4gICAgfTtcclxufVxuXG52YXIgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCAhaXNPYmplY3RUeXBlKHZhbHVlKTtcblxuZnVuY3Rpb24gZGVlcEVxdWFsKG9iamVjdDEsIG9iamVjdDIpIHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZShvYmplY3QxKSB8fCBpc1ByaW1pdGl2ZShvYmplY3QyKSkge1xyXG4gICAgICAgIHJldHVybiBvYmplY3QxID09PSBvYmplY3QyO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRGF0ZU9iamVjdChvYmplY3QxKSAmJiBpc0RhdGVPYmplY3Qob2JqZWN0MikpIHtcclxuICAgICAgICByZXR1cm4gb2JqZWN0MS5nZXRUaW1lKCkgPT09IG9iamVjdDIuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmplY3QxKTtcclxuICAgIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqZWN0Mik7XHJcbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzMSkge1xyXG4gICAgICAgIGNvbnN0IHZhbDEgPSBvYmplY3QxW2tleV07XHJcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtleSAhPT0gJ3JlZicpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsMiA9IG9iamVjdDJba2V5XTtcclxuICAgICAgICAgICAgaWYgKChpc0RhdGVPYmplY3QodmFsMSkgJiYgaXNEYXRlT2JqZWN0KHZhbDIpKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzT2JqZWN0KHZhbDEpICYmIGlzT2JqZWN0KHZhbDIpKSB8fFxyXG4gICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkodmFsMSkgJiYgQXJyYXkuaXNBcnJheSh2YWwyKSlcclxuICAgICAgICAgICAgICAgID8gIWRlZXBFcXVhbCh2YWwxLCB2YWwyKVxyXG4gICAgICAgICAgICAgICAgOiB2YWwxICE9PSB2YWwyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxuXG52YXIgaXNIVE1MRWxlbWVudCA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3Qgb3duZXIgPSB2YWx1ZSA/IHZhbHVlLm93bmVyRG9jdW1lbnQgOiAwO1xyXG4gICAgY29uc3QgRWxlbWVudENsYXNzID0gb3duZXIgJiYgb3duZXIuZGVmYXVsdFZpZXcgPyBvd25lci5kZWZhdWx0Vmlldy5IVE1MRWxlbWVudCA6IEhUTUxFbGVtZW50O1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudENsYXNzO1xyXG59O1xuXG52YXIgaXNNdWx0aXBsZVNlbGVjdCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09IGBzZWxlY3QtbXVsdGlwbGVgO1xuXG52YXIgaXNSYWRpb09yQ2hlY2tib3ggPSAocmVmKSA9PiBpc1JhZGlvSW5wdXQocmVmKSB8fCBpc0NoZWNrQm94SW5wdXQocmVmKTtcblxudmFyIGxpdmUgPSAocmVmKSA9PiBpc0hUTUxFbGVtZW50KHJlZikgJiYgcmVmLmlzQ29ubmVjdGVkO1xuXG5mdW5jdGlvbiBtYXJrRmllbGRzRGlydHkoZGF0YSwgZmllbGRzID0ge30pIHtcclxuICAgIGNvbnN0IGlzUGFyZW50Tm9kZUFycmF5ID0gQXJyYXkuaXNBcnJheShkYXRhKTtcclxuICAgIGlmIChpc09iamVjdChkYXRhKSB8fCBpc1BhcmVudE5vZGVBcnJheSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzT2JqZWN0KGRhdGFba2V5XSkgJiYgIW9iamVjdEhhc0Z1bmN0aW9uKGRhdGFba2V5XSkpKSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZHNba2V5XSA9IEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSA/IFtdIDoge307XHJcbiAgICAgICAgICAgICAgICBtYXJrRmllbGRzRGlydHkoZGF0YVtrZXldLCBmaWVsZHNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGRhdGFba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkc1trZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmaWVsZHM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGlydHlGaWVsZHNGcm9tRGVmYXVsdFZhbHVlcyhkYXRhLCBmb3JtVmFsdWVzLCBkaXJ0eUZpZWxkc0Zyb21WYWx1ZXMpIHtcclxuICAgIGNvbnN0IGlzUGFyZW50Tm9kZUFycmF5ID0gQXJyYXkuaXNBcnJheShkYXRhKTtcclxuICAgIGlmIChpc09iamVjdChkYXRhKSB8fCBpc1BhcmVudE5vZGVBcnJheSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKSB8fFxyXG4gICAgICAgICAgICAgICAgKGlzT2JqZWN0KGRhdGFba2V5XSkgJiYgIW9iamVjdEhhc0Z1bmN0aW9uKGRhdGFba2V5XSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoZm9ybVZhbHVlcykgfHxcclxuICAgICAgICAgICAgICAgICAgICBpc1ByaW1pdGl2ZShkaXJ0eUZpZWxkc0Zyb21WYWx1ZXNba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJ0eUZpZWxkc0Zyb21WYWx1ZXNba2V5XSA9IEFycmF5LmlzQXJyYXkoZGF0YVtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1hcmtGaWVsZHNEaXJ0eShkYXRhW2tleV0sIFtdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHsgLi4ubWFya0ZpZWxkc0RpcnR5KGRhdGFba2V5XSkgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldERpcnR5RmllbGRzRnJvbURlZmF1bHRWYWx1ZXMoZGF0YVtrZXldLCBpc051bGxPclVuZGVmaW5lZChmb3JtVmFsdWVzKSA/IHt9IDogZm9ybVZhbHVlc1trZXldLCBkaXJ0eUZpZWxkc0Zyb21WYWx1ZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJ0eUZpZWxkc0Zyb21WYWx1ZXNba2V5XSA9ICFkZWVwRXF1YWwoZGF0YVtrZXldLCBmb3JtVmFsdWVzW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRpcnR5RmllbGRzRnJvbVZhbHVlcztcclxufVxyXG52YXIgZ2V0RGlydHlGaWVsZHMgPSAoZGVmYXVsdFZhbHVlcywgZm9ybVZhbHVlcykgPT4gZ2V0RGlydHlGaWVsZHNGcm9tRGVmYXVsdFZhbHVlcyhkZWZhdWx0VmFsdWVzLCBmb3JtVmFsdWVzLCBtYXJrRmllbGRzRGlydHkoZm9ybVZhbHVlcykpO1xuXG52YXIgZ2V0RmllbGRWYWx1ZUFzID0gKHZhbHVlLCB7IHZhbHVlQXNOdW1iZXIsIHZhbHVlQXNEYXRlLCBzZXRWYWx1ZUFzIH0pID0+IGlzVW5kZWZpbmVkKHZhbHVlKVxyXG4gICAgPyB2YWx1ZVxyXG4gICAgOiB2YWx1ZUFzTnVtYmVyXHJcbiAgICAgICAgPyB2YWx1ZSA9PT0gJycgfHwgaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpXHJcbiAgICAgICAgICAgID8gTmFOXHJcbiAgICAgICAgICAgIDogK3ZhbHVlXHJcbiAgICAgICAgOiB2YWx1ZUFzRGF0ZSAmJiBpc1N0cmluZyh2YWx1ZSlcclxuICAgICAgICAgICAgPyBuZXcgRGF0ZSh2YWx1ZSlcclxuICAgICAgICAgICAgOiBzZXRWYWx1ZUFzXHJcbiAgICAgICAgICAgICAgICA/IHNldFZhbHVlQXModmFsdWUpXHJcbiAgICAgICAgICAgICAgICA6IHZhbHVlO1xuXG5mdW5jdGlvbiBnZXRGaWVsZFZhbHVlKF9mKSB7XHJcbiAgICBjb25zdCByZWYgPSBfZi5yZWY7XHJcbiAgICBpZiAoX2YucmVmcyA/IF9mLnJlZnMuZXZlcnkoKHJlZikgPT4gcmVmLmRpc2FibGVkKSA6IHJlZi5kaXNhYmxlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc0ZpbGVJbnB1dChyZWYpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlZi5maWxlcztcclxuICAgIH1cclxuICAgIGlmIChpc1JhZGlvSW5wdXQocmVmKSkge1xyXG4gICAgICAgIHJldHVybiBnZXRSYWRpb1ZhbHVlKF9mLnJlZnMpLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTXVsdGlwbGVTZWxlY3QocmVmKSkge1xyXG4gICAgICAgIHJldHVybiBbLi4ucmVmLnNlbGVjdGVkT3B0aW9uc10ubWFwKCh7IHZhbHVlIH0pID0+IHZhbHVlKTtcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrQm94SW5wdXQocmVmKSkge1xyXG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKF9mLnJlZnMpLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldEZpZWxkVmFsdWVBcyhpc1VuZGVmaW5lZChyZWYudmFsdWUpID8gX2YucmVmLnZhbHVlIDogcmVmLnZhbHVlLCBfZik7XHJcbn1cblxudmFyIGdldFJlc29sdmVyT3B0aW9ucyA9IChmaWVsZHNOYW1lcywgX2ZpZWxkcywgY3JpdGVyaWFNb2RlLCBzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uKSA9PiB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSB7fTtcclxuICAgIGZvciAoY29uc3QgbmFtZSBvZiBmaWVsZHNOYW1lcykge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIGZpZWxkICYmIHNldChmaWVsZHMsIG5hbWUsIGZpZWxkLl9mKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JpdGVyaWFNb2RlLFxyXG4gICAgICAgIG5hbWVzOiBbLi4uZmllbGRzTmFtZXNdLFxyXG4gICAgICAgIGZpZWxkcyxcclxuICAgICAgICBzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uLFxyXG4gICAgfTtcclxufTtcblxudmFyIGdldFJ1bGVWYWx1ZSA9IChydWxlKSA9PiBpc1VuZGVmaW5lZChydWxlKVxyXG4gICAgPyB1bmRlZmluZWRcclxuICAgIDogaXNSZWdleChydWxlKVxyXG4gICAgICAgID8gcnVsZS5zb3VyY2VcclxuICAgICAgICA6IGlzT2JqZWN0KHJ1bGUpXHJcbiAgICAgICAgICAgID8gaXNSZWdleChydWxlLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBydWxlLnZhbHVlLnNvdXJjZVxyXG4gICAgICAgICAgICAgICAgOiBydWxlLnZhbHVlXHJcbiAgICAgICAgICAgIDogcnVsZTtcblxudmFyIGhhc1ZhbGlkYXRpb24gPSAob3B0aW9ucykgPT4gb3B0aW9ucy5tb3VudCAmJlxyXG4gICAgKG9wdGlvbnMucmVxdWlyZWQgfHxcclxuICAgICAgICBvcHRpb25zLm1pbiB8fFxyXG4gICAgICAgIG9wdGlvbnMubWF4IHx8XHJcbiAgICAgICAgb3B0aW9ucy5tYXhMZW5ndGggfHxcclxuICAgICAgICBvcHRpb25zLm1pbkxlbmd0aCB8fFxyXG4gICAgICAgIG9wdGlvbnMucGF0dGVybiB8fFxyXG4gICAgICAgIG9wdGlvbnMudmFsaWRhdGUpO1xuXG5mdW5jdGlvbiBzY2hlbWFFcnJvckxvb2t1cChlcnJvcnMsIF9maWVsZHMsIG5hbWUpIHtcclxuICAgIGNvbnN0IGVycm9yID0gZ2V0KGVycm9ycywgbmFtZSk7XHJcbiAgICBpZiAoZXJyb3IgfHwgaXNLZXkobmFtZSkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlcnJvcixcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmFtZXMgPSBuYW1lLnNwbGl0KCcuJyk7XHJcbiAgICB3aGlsZSAobmFtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gbmFtZXMuam9pbignLicpO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZm91bmRFcnJvciA9IGdldChlcnJvcnMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgaWYgKGZpZWxkICYmICFBcnJheS5pc0FycmF5KGZpZWxkKSAmJiBuYW1lICE9PSBmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm91bmRFcnJvciAmJiBmb3VuZEVycm9yLnR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZpZWxkTmFtZSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmb3VuZEVycm9yLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBuYW1lcy5wb3AoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgIH07XHJcbn1cblxudmFyIHNraXBWYWxpZGF0aW9uID0gKGlzQmx1ckV2ZW50LCBpc1RvdWNoZWQsIGlzU3VibWl0dGVkLCByZVZhbGlkYXRlTW9kZSwgbW9kZSkgPT4ge1xyXG4gICAgaWYgKG1vZGUuaXNPbkFsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCFpc1N1Ym1pdHRlZCAmJiBtb2RlLmlzT25Ub3VjaCkge1xyXG4gICAgICAgIHJldHVybiAhKGlzVG91Y2hlZCB8fCBpc0JsdXJFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25CbHVyIDogbW9kZS5pc09uQmx1cikge1xyXG4gICAgICAgIHJldHVybiAhaXNCbHVyRXZlbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25DaGFuZ2UgOiBtb2RlLmlzT25DaGFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gaXNCbHVyRXZlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxudmFyIHVuc2V0RW1wdHlBcnJheSA9IChyZWYsIG5hbWUpID0+ICFjb21wYWN0KGdldChyZWYsIG5hbWUpKS5sZW5ndGggJiYgdW5zZXQocmVmLCBuYW1lKTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICBtb2RlOiBWQUxJREFUSU9OX01PREUub25TdWJtaXQsXHJcbiAgICByZVZhbGlkYXRlTW9kZTogVkFMSURBVElPTl9NT0RFLm9uQ2hhbmdlLFxyXG4gICAgc2hvdWxkRm9jdXNFcnJvcjogdHJ1ZSxcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRm9ybUNvbnRyb2wocHJvcHMgPSB7fSkge1xyXG4gICAgbGV0IF9vcHRpb25zID0ge1xyXG4gICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxyXG4gICAgICAgIC4uLnByb3BzLFxyXG4gICAgfTtcclxuICAgIGxldCBfZm9ybVN0YXRlID0ge1xyXG4gICAgICAgIGlzRGlydHk6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgZGlydHlGaWVsZHM6IHt9LFxyXG4gICAgICAgIGlzU3VibWl0dGVkOiBmYWxzZSxcclxuICAgICAgICBzdWJtaXRDb3VudDogMCxcclxuICAgICAgICB0b3VjaGVkRmllbGRzOiB7fSxcclxuICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGlzU3VibWl0U3VjY2Vzc2Z1bDogZmFsc2UsXHJcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JzOiB7fSxcclxuICAgIH07XHJcbiAgICBsZXQgX2ZpZWxkcyA9IHt9O1xyXG4gICAgbGV0IF9kZWZhdWx0VmFsdWVzID0gY2xvbmVPYmplY3QoX29wdGlvbnMuZGVmYXVsdFZhbHVlcykgfHwge307XHJcbiAgICBsZXQgX2Zvcm1WYWx1ZXMgPSBfb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyXHJcbiAgICAgICAgPyB7fVxyXG4gICAgICAgIDogY2xvbmVPYmplY3QoX2RlZmF1bHRWYWx1ZXMpO1xyXG4gICAgbGV0IF9zdGF0ZUZsYWdzID0ge1xyXG4gICAgICAgIGFjdGlvbjogZmFsc2UsXHJcbiAgICAgICAgbW91bnQ6IGZhbHNlLFxyXG4gICAgICAgIHdhdGNoOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBsZXQgX25hbWVzID0ge1xyXG4gICAgICAgIG1vdW50OiBuZXcgU2V0KCksXHJcbiAgICAgICAgdW5Nb3VudDogbmV3IFNldCgpLFxyXG4gICAgICAgIGFycmF5OiBuZXcgU2V0KCksXHJcbiAgICAgICAgd2F0Y2g6IG5ldyBTZXQoKSxcclxuICAgIH07XHJcbiAgICBsZXQgZGVsYXlFcnJvckNhbGxiYWNrO1xyXG4gICAgbGV0IHRpbWVyID0gMDtcclxuICAgIGxldCB2YWxpZGF0ZUZpZWxkcyA9IHt9O1xyXG4gICAgY29uc3QgX3Byb3h5Rm9ybVN0YXRlID0ge1xyXG4gICAgICAgIGlzRGlydHk6IGZhbHNlLFxyXG4gICAgICAgIGRpcnR5RmllbGRzOiBmYWxzZSxcclxuICAgICAgICB0b3VjaGVkRmllbGRzOiBmYWxzZSxcclxuICAgICAgICBpc1ZhbGlkYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yczogZmFsc2UsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgX3N1YmplY3RzID0ge1xyXG4gICAgICAgIHdhdGNoOiBjcmVhdGVTdWJqZWN0KCksXHJcbiAgICAgICAgYXJyYXk6IGNyZWF0ZVN1YmplY3QoKSxcclxuICAgICAgICBzdGF0ZTogY3JlYXRlU3ViamVjdCgpLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHZhbGlkYXRpb25Nb2RlQmVmb3JlU3VibWl0ID0gZ2V0VmFsaWRhdGlvbk1vZGVzKF9vcHRpb25zLm1vZGUpO1xyXG4gICAgY29uc3QgdmFsaWRhdGlvbk1vZGVBZnRlclN1Ym1pdCA9IGdldFZhbGlkYXRpb25Nb2Rlcyhfb3B0aW9ucy5yZVZhbGlkYXRlTW9kZSk7XHJcbiAgICBjb25zdCBzaG91bGREaXNwbGF5QWxsQXNzb2NpYXRlZEVycm9ycyA9IF9vcHRpb25zLmNyaXRlcmlhTW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLmFsbDtcclxuICAgIGNvbnN0IGRlYm91bmNlID0gKGNhbGxiYWNrKSA9PiAod2FpdCkgPT4ge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgd2FpdCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgX3VwZGF0ZVZhbGlkID0gYXN5bmMgKHNob3VsZFNraXBSZW5kZXIpID0+IHtcclxuICAgICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gX29wdGlvbnMucmVzb2x2ZXJcclxuICAgICAgICAgICAgICAgID8gaXNFbXB0eU9iamVjdCgoYXdhaXQgX2V4ZWN1dGVTY2hlbWEoKSkuZXJyb3JzKVxyXG4gICAgICAgICAgICAgICAgOiBhd2FpdCBleGVjdXRlQnVpbHRJblZhbGlkYXRpb24oX2ZpZWxkcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghc2hvdWxkU2tpcFJlbmRlciAmJiBpc1ZhbGlkICE9PSBfZm9ybVN0YXRlLmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIF9mb3JtU3RhdGUuaXNWYWxpZCA9IGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IF91cGRhdGVGaWVsZEFycmF5ID0gKG5hbWUsIHZhbHVlcyA9IFtdLCBtZXRob2QsIGFyZ3MsIHNob3VsZFNldFZhbHVlcyA9IHRydWUsIHNob3VsZFVwZGF0ZUZpZWxkc0FuZFN0YXRlID0gdHJ1ZSkgPT4ge1xyXG4gICAgICAgIGlmIChhcmdzICYmIG1ldGhvZCkge1xyXG4gICAgICAgICAgICBfc3RhdGVGbGFncy5hY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUgJiYgQXJyYXkuaXNBcnJheShnZXQoX2ZpZWxkcywgbmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlcyA9IG1ldGhvZChnZXQoX2ZpZWxkcywgbmFtZSksIGFyZ3MuYXJnQSwgYXJncy5hcmdCKTtcclxuICAgICAgICAgICAgICAgIHNob3VsZFNldFZhbHVlcyAmJiBzZXQoX2ZpZWxkcywgbmFtZSwgZmllbGRWYWx1ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuZXJyb3JzICYmXHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGVGaWVsZHNBbmRTdGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gbWV0aG9kKGdldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSksIGFyZ3MuYXJnQSwgYXJncy5hcmdCKTtcclxuICAgICAgICAgICAgICAgIHNob3VsZFNldFZhbHVlcyAmJiBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9ycyk7XHJcbiAgICAgICAgICAgICAgICB1bnNldEVtcHR5QXJyYXkoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUudG91Y2hlZEZpZWxkcyAmJlxyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUgJiZcclxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZ2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaGVkRmllbGRzID0gbWV0aG9kKGdldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUpLCBhcmdzLmFyZ0EsIGFyZ3MuYXJnQik7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRWYWx1ZXMgJiYgc2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSwgdG91Y2hlZEZpZWxkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZS5kaXJ0eUZpZWxkcykge1xyXG4gICAgICAgICAgICAgICAgX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcyA9IGdldERpcnR5RmllbGRzKF9kZWZhdWx0VmFsdWVzLCBfZm9ybVZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgaXNEaXJ0eTogX2dldERpcnR5KG5hbWUsIHZhbHVlcyksXHJcbiAgICAgICAgICAgICAgICBkaXJ0eUZpZWxkczogX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcyxcclxuICAgICAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiBfZm9ybVN0YXRlLmlzVmFsaWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCB2YWx1ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGVFcnJvcnMgPSAobmFtZSwgZXJyb3IpID0+IHtcclxuICAgICAgICBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9yKTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdXBkYXRlVmFsaWRBbmRWYWx1ZSA9IChuYW1lLCBzaG91bGRTa2lwU2V0VmFsdWVBcywgdmFsdWUsIHJlZikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIGlmIChmaWVsZCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBnZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIGlzVW5kZWZpbmVkKHZhbHVlKSA/IGdldChfZGVmYXVsdFZhbHVlcywgbmFtZSkgOiB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChyZWYgJiYgcmVmLmRlZmF1bHRDaGVja2VkKSB8fFxyXG4gICAgICAgICAgICAgICAgc2hvdWxkU2tpcFNldFZhbHVlQXNcclxuICAgICAgICAgICAgICAgID8gc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBzaG91bGRTa2lwU2V0VmFsdWVBcyA/IGRlZmF1bHRWYWx1ZSA6IGdldEZpZWxkVmFsdWUoZmllbGQuX2YpKVxyXG4gICAgICAgICAgICAgICAgOiBzZXRGaWVsZFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIF9zdGF0ZUZsYWdzLm1vdW50ICYmIF91cGRhdGVWYWxpZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCB1cGRhdGVUb3VjaEFuZERpcnR5ID0gKG5hbWUsIGZpZWxkVmFsdWUsIGlzQmx1ckV2ZW50LCBzaG91bGREaXJ0eSwgc2hvdWxkUmVuZGVyKSA9PiB7XHJcbiAgICAgICAgbGV0IGlzRmllbGREaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGlzUHJldmlvdXNGaWVsZFRvdWNoZWQgPSBnZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKTtcclxuICAgICAgICBpZiAoX3Byb3h5Rm9ybVN0YXRlLmlzRGlydHkpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNQcmV2aW91c0Zvcm1EaXJ0eSA9IF9mb3JtU3RhdGUuaXNEaXJ0eTtcclxuICAgICAgICAgICAgX2Zvcm1TdGF0ZS5pc0RpcnR5ID0gb3V0cHV0LmlzRGlydHkgPSBfZ2V0RGlydHkoKTtcclxuICAgICAgICAgICAgaXNGaWVsZERpcnR5ID0gaXNQcmV2aW91c0Zvcm1EaXJ0eSAhPT0gb3V0cHV0LmlzRGlydHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuZGlydHlGaWVsZHMgJiYgKCFpc0JsdXJFdmVudCB8fCBzaG91bGREaXJ0eSkpIHtcclxuICAgICAgICAgICAgY29uc3QgaXNQcmV2aW91c0ZpZWxkRGlydHkgPSBnZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudEZpZWxkUHJpc3RpbmUgPSBkZWVwRXF1YWwoZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lKSwgZmllbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlzQ3VycmVudEZpZWxkUHJpc3RpbmVcclxuICAgICAgICAgICAgICAgID8gdW5zZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSlcclxuICAgICAgICAgICAgICAgIDogc2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICBvdXRwdXQuZGlydHlGaWVsZHMgPSBfZm9ybVN0YXRlLmRpcnR5RmllbGRzO1xyXG4gICAgICAgICAgICBpc0ZpZWxkRGlydHkgPVxyXG4gICAgICAgICAgICAgICAgaXNGaWVsZERpcnR5IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgaXNQcmV2aW91c0ZpZWxkRGlydHkgIT09IGdldChfZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQmx1ckV2ZW50ICYmICFpc1ByZXZpb3VzRmllbGRUb3VjaGVkKSB7XHJcbiAgICAgICAgICAgIHNldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUsIGlzQmx1ckV2ZW50KTtcclxuICAgICAgICAgICAgb3V0cHV0LnRvdWNoZWRGaWVsZHMgPSBfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHM7XHJcbiAgICAgICAgICAgIGlzRmllbGREaXJ0eSA9XHJcbiAgICAgICAgICAgICAgICBpc0ZpZWxkRGlydHkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoX3Byb3h5Rm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmV2aW91c0ZpZWxkVG91Y2hlZCAhPT0gaXNCbHVyRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpc0ZpZWxkRGlydHkgJiYgc2hvdWxkUmVuZGVyICYmIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KG91dHB1dCk7XHJcbiAgICAgICAgcmV0dXJuIGlzRmllbGREaXJ0eSA/IG91dHB1dCA6IHt9O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHNob3VsZFJlbmRlckJ5RXJyb3IgPSBhc3luYyAobmFtZSwgaXNWYWxpZCwgZXJyb3IsIGZpZWxkU3RhdGUpID0+IHtcclxuICAgICAgICBjb25zdCBwcmV2aW91c0ZpZWxkRXJyb3IgPSBnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHNob3VsZFVwZGF0ZVZhbGlkID0gX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgX2Zvcm1TdGF0ZS5pc1ZhbGlkICE9PSBpc1ZhbGlkO1xyXG4gICAgICAgIGlmIChwcm9wcy5kZWxheUVycm9yICYmIGVycm9yKSB7XHJcbiAgICAgICAgICAgIGRlbGF5RXJyb3JDYWxsYmFjayA9IGRlYm91bmNlKCgpID0+IHVwZGF0ZUVycm9ycyhuYW1lLCBlcnJvcikpO1xyXG4gICAgICAgICAgICBkZWxheUVycm9yQ2FsbGJhY2socHJvcHMuZGVsYXlFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgICBkZWxheUVycm9yQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgICAgICAgPyBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9yKVxyXG4gICAgICAgICAgICAgICAgOiB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoZXJyb3IgPyAhZGVlcEVxdWFsKHByZXZpb3VzRmllbGRFcnJvciwgZXJyb3IpIDogcHJldmlvdXNGaWVsZEVycm9yKSB8fFxyXG4gICAgICAgICAgICAhaXNFbXB0eU9iamVjdChmaWVsZFN0YXRlKSB8fFxyXG4gICAgICAgICAgICBzaG91bGRVcGRhdGVWYWxpZCkge1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkRm9ybVN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uZmllbGRTdGF0ZSxcclxuICAgICAgICAgICAgICAgIC4uLihzaG91bGRVcGRhdGVWYWxpZCA/IHsgaXNWYWxpZCB9IDoge30pLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIF9mb3JtU3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5fZm9ybVN0YXRlLFxyXG4gICAgICAgICAgICAgICAgLi4udXBkYXRlZEZvcm1TdGF0ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQodXBkYXRlZEZvcm1TdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbGlkYXRlRmllbGRzW25hbWVdLS07XHJcbiAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkYXRpbmcgJiZcclxuICAgICAgICAgICAgIU9iamVjdC52YWx1ZXModmFsaWRhdGVGaWVsZHMpLnNvbWUoKHYpID0+IHYpKSB7XHJcbiAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YWxpZGF0ZUZpZWxkcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBfZXhlY3V0ZVNjaGVtYSA9IGFzeW5jIChuYW1lKSA9PiBfb3B0aW9ucy5yZXNvbHZlclxyXG4gICAgICAgID8gYXdhaXQgX29wdGlvbnMucmVzb2x2ZXIoeyAuLi5fZm9ybVZhbHVlcyB9LCBfb3B0aW9ucy5jb250ZXh0LCBnZXRSZXNvbHZlck9wdGlvbnMobmFtZSB8fCBfbmFtZXMubW91bnQsIF9maWVsZHMsIF9vcHRpb25zLmNyaXRlcmlhTW9kZSwgX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikpXHJcbiAgICAgICAgOiB7fTtcclxuICAgIGNvbnN0IGV4ZWN1dGVTY2hlbWFBbmRVcGRhdGVTdGF0ZSA9IGFzeW5jIChuYW1lcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3JzIH0gPSBhd2FpdCBfZXhlY3V0ZVNjaGVtYSgpO1xyXG4gICAgICAgIGlmIChuYW1lcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZ2V0KGVycm9ycywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgID8gc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lLCBlcnJvcilcclxuICAgICAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgX2Zvcm1TdGF0ZS5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlcnJvcnM7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZXhlY3V0ZUJ1aWx0SW5WYWxpZGF0aW9uID0gYXN5bmMgKGZpZWxkcywgc2hvdWxkT25seUNoZWNrVmFsaWQsIGNvbnRleHQgPSB7XHJcbiAgICAgICAgdmFsaWQ6IHRydWUsXHJcbiAgICB9KSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIGZpZWxkcykge1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGZpZWxkc1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IF9mLCAuLi5maWVsZFZhbHVlIH0gPSBmaWVsZDtcclxuICAgICAgICAgICAgICAgIGlmIChfZikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRmllbGRBcnJheVJvb3QgPSBfbmFtZXMuYXJyYXkuaGFzKF9mLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkRXJyb3IgPSBhd2FpdCB2YWxpZGF0ZUZpZWxkKGZpZWxkLCBnZXQoX2Zvcm1WYWx1ZXMsIF9mLm5hbWUpLCBzaG91bGREaXNwbGF5QWxsQXNzb2NpYXRlZEVycm9ycywgX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbiwgaXNGaWVsZEFycmF5Um9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkRXJyb3JbX2YubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC52YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkT25seUNoZWNrVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICFzaG91bGRPbmx5Q2hlY2tWYWxpZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZ2V0KGZpZWxkRXJyb3IsIF9mLm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzRmllbGRBcnJheVJvb3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHVwZGF0ZUZpZWxkQXJyYXlSb290RXJyb3IoX2Zvcm1TdGF0ZS5lcnJvcnMsIGZpZWxkRXJyb3IsIF9mLm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIF9mLm5hbWUsIGZpZWxkRXJyb3JbX2YubmFtZV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBfZi5uYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IGV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbihmaWVsZFZhbHVlLCBzaG91bGRPbmx5Q2hlY2tWYWxpZCwgY29udGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250ZXh0LnZhbGlkO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IF9yZW1vdmVVbm1vdW50ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIF9uYW1lcy51bk1vdW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICBmaWVsZCAmJlxyXG4gICAgICAgICAgICAgICAgKGZpZWxkLl9mLnJlZnNcclxuICAgICAgICAgICAgICAgICAgICA/IGZpZWxkLl9mLnJlZnMuZXZlcnkoKHJlZikgPT4gIWxpdmUocmVmKSlcclxuICAgICAgICAgICAgICAgICAgICA6ICFsaXZlKGZpZWxkLl9mLnJlZikpICYmXHJcbiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfbmFtZXMudW5Nb3VudCA9IG5ldyBTZXQoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBfZ2V0RGlydHkgPSAobmFtZSwgZGF0YSkgPT4gKG5hbWUgJiYgZGF0YSAmJiBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIGRhdGEpLFxyXG4gICAgICAgICFkZWVwRXF1YWwoZ2V0VmFsdWVzKCksIF9kZWZhdWx0VmFsdWVzKSk7XHJcbiAgICBjb25zdCBfZ2V0V2F0Y2ggPSAobmFtZXMsIGRlZmF1bHRWYWx1ZSwgaXNHbG9iYWwpID0+IHtcclxuICAgICAgICBjb25zdCBmaWVsZFZhbHVlcyA9IHtcclxuICAgICAgICAgICAgLi4uKF9zdGF0ZUZsYWdzLm1vdW50XHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtVmFsdWVzXHJcbiAgICAgICAgICAgICAgICA6IGlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICA/IF9kZWZhdWx0VmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpc1N0cmluZyhuYW1lcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IFtuYW1lc106IGRlZmF1bHRWYWx1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVdhdGNoT3V0cHV0KG5hbWVzLCBfbmFtZXMsIGZpZWxkVmFsdWVzLCBpc0dsb2JhbCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgX2dldEZpZWxkQXJyYXkgPSAobmFtZSkgPT4gY29tcGFjdChnZXQoX3N0YXRlRmxhZ3MubW91bnQgPyBfZm9ybVZhbHVlcyA6IF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBwcm9wcy5zaG91bGRVbnJlZ2lzdGVyID8gZ2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBbXSkgOiBbXSkpO1xyXG4gICAgY29uc3Qgc2V0RmllbGRWYWx1ZSA9IChuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRSZWZlcmVuY2UgPSBmaWVsZC5fZjtcclxuICAgICAgICAgICAgaWYgKGZpZWxkUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAhZmllbGRSZWZlcmVuY2UuZGlzYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIGdldEZpZWxkVmFsdWVBcyh2YWx1ZSwgZmllbGRSZWZlcmVuY2UpKTtcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGlzV2ViICYmIGlzSFRNTEVsZW1lbnQoZmllbGRSZWZlcmVuY2UucmVmKSAmJiBpc051bGxPclVuZGVmaW5lZCh2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTXVsdGlwbGVTZWxlY3QoZmllbGRSZWZlcmVuY2UucmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFsuLi5maWVsZFJlZmVyZW5jZS5yZWYub3B0aW9uc10uZm9yRWFjaCgoc2VsZWN0UmVmKSA9PiAoc2VsZWN0UmVmLnNlbGVjdGVkID0gZmllbGRWYWx1ZS5pbmNsdWRlcyhzZWxlY3RSZWYudmFsdWUpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWVsZFJlZmVyZW5jZS5yZWZzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tCb3hJbnB1dChmaWVsZFJlZmVyZW5jZS5yZWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmZXJlbmNlLnJlZnMubGVuZ3RoID4gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWVsZFJlZmVyZW5jZS5yZWZzLmZvckVhY2goKGNoZWNrYm94UmVmKSA9PiAhY2hlY2tib3hSZWYuZGlzYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hlY2tib3hSZWYuY2hlY2tlZCA9IEFycmF5LmlzQXJyYXkoZmllbGRWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAhIWZpZWxkVmFsdWUuZmluZCgoZGF0YSkgPT4gZGF0YSA9PT0gY2hlY2tib3hSZWYudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmllbGRWYWx1ZSA9PT0gY2hlY2tib3hSZWYudmFsdWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWVsZFJlZmVyZW5jZS5yZWZzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpZWxkUmVmZXJlbmNlLnJlZnNbMF0uY2hlY2tlZCA9ICEhZmllbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFJlZmVyZW5jZS5yZWZzLmZvckVhY2goKHJhZGlvUmVmKSA9PiAocmFkaW9SZWYuY2hlY2tlZCA9IHJhZGlvUmVmLnZhbHVlID09PSBmaWVsZFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNGaWxlSW5wdXQoZmllbGRSZWZlcmVuY2UucmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmZXJlbmNlLnJlZi52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGRSZWZlcmVuY2UucmVmLnZhbHVlID0gZmllbGRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpZWxkUmVmZXJlbmNlLnJlZi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJqZWN0cy53YXRjaC5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAob3B0aW9ucy5zaG91bGREaXJ0eSB8fCBvcHRpb25zLnNob3VsZFRvdWNoKSAmJlxyXG4gICAgICAgICAgICB1cGRhdGVUb3VjaEFuZERpcnR5KG5hbWUsIGZpZWxkVmFsdWUsIG9wdGlvbnMuc2hvdWxkVG91Y2gsIG9wdGlvbnMuc2hvdWxkRGlydHksIHRydWUpO1xyXG4gICAgICAgIG9wdGlvbnMuc2hvdWxkVmFsaWRhdGUgJiYgdHJpZ2dlcihuYW1lKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBzZXRWYWx1ZXMgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IGZpZWxkS2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSB2YWx1ZVtmaWVsZEtleV07XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGAke25hbWV9LiR7ZmllbGRLZXl9YDtcclxuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgZmllbGROYW1lKTtcclxuICAgICAgICAgICAgKF9uYW1lcy5hcnJheS5oYXMobmFtZSkgfHxcclxuICAgICAgICAgICAgICAgICFpc1ByaW1pdGl2ZShmaWVsZFZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGZpZWxkICYmICFmaWVsZC5fZikpICYmXHJcbiAgICAgICAgICAgICAgICAhaXNEYXRlT2JqZWN0KGZpZWxkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IHNldFZhbHVlcyhmaWVsZE5hbWUsIGZpZWxkVmFsdWUsIG9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICA6IHNldEZpZWxkVmFsdWUoZmllbGROYW1lLCBmaWVsZFZhbHVlLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0VmFsdWUgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGlzRmllbGRBcnJheSA9IF9uYW1lcy5hcnJheS5oYXMobmFtZSk7XHJcbiAgICAgICAgY29uc3QgY2xvbmVWYWx1ZSA9IGNsb25lT2JqZWN0KHZhbHVlKTtcclxuICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIGNsb25lVmFsdWUpO1xyXG4gICAgICAgIGlmIChpc0ZpZWxkQXJyYXkpIHtcclxuICAgICAgICAgICAgX3N1YmplY3RzLmFycmF5Lm5leHQoe1xyXG4gICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlczogX2Zvcm1WYWx1ZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoKF9wcm94eUZvcm1TdGF0ZS5pc0RpcnR5IHx8IF9wcm94eUZvcm1TdGF0ZS5kaXJ0eUZpZWxkcykgJiZcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2hvdWxkRGlydHkpIHtcclxuICAgICAgICAgICAgICAgIF9mb3JtU3RhdGUuZGlydHlGaWVsZHMgPSBnZXREaXJ0eUZpZWxkcyhfZGVmYXVsdFZhbHVlcywgX2Zvcm1WYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlydHlGaWVsZHM6IF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNEaXJ0eTogX2dldERpcnR5KG5hbWUsIGNsb25lVmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZpZWxkICYmICFmaWVsZC5fZiAmJiAhaXNOdWxsT3JVbmRlZmluZWQoY2xvbmVWYWx1ZSlcclxuICAgICAgICAgICAgICAgID8gc2V0VmFsdWVzKG5hbWUsIGNsb25lVmFsdWUsIG9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICA6IHNldEZpZWxkVmFsdWUobmFtZSwgY2xvbmVWYWx1ZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlzV2F0Y2hlZChuYW1lLCBfbmFtZXMpICYmIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHt9KTtcclxuICAgICAgICBfc3ViamVjdHMud2F0Y2gubmV4dCh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb25DaGFuZ2UgPSBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgbGV0IG5hbWUgPSB0YXJnZXQubmFtZTtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcclxuICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgbGV0IGVycm9yO1xyXG4gICAgICAgICAgICBsZXQgaXNWYWxpZDtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IHRhcmdldC50eXBlXHJcbiAgICAgICAgICAgICAgICA/IGdldEZpZWxkVmFsdWUoZmllbGQuX2YpXHJcbiAgICAgICAgICAgICAgICA6IGdldEV2ZW50VmFsdWUoZXZlbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBpc0JsdXJFdmVudCA9IGV2ZW50LnR5cGUgPT09IEVWRU5UUy5CTFVSIHx8IGV2ZW50LnR5cGUgPT09IEVWRU5UUy5GT0NVU19PVVQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFNraXBWYWxpZGF0aW9uID0gKCFoYXNWYWxpZGF0aW9uKGZpZWxkLl9mKSAmJlxyXG4gICAgICAgICAgICAgICAgIV9vcHRpb25zLnJlc29sdmVyICYmXHJcbiAgICAgICAgICAgICAgICAhZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKSAmJlxyXG4gICAgICAgICAgICAgICAgIWZpZWxkLl9mLmRlcHMpIHx8XHJcbiAgICAgICAgICAgICAgICBza2lwVmFsaWRhdGlvbihpc0JsdXJFdmVudCwgZ2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSksIF9mb3JtU3RhdGUuaXNTdWJtaXR0ZWQsIHZhbGlkYXRpb25Nb2RlQWZ0ZXJTdWJtaXQsIHZhbGlkYXRpb25Nb2RlQmVmb3JlU3VibWl0KTtcclxuICAgICAgICAgICAgY29uc3Qgd2F0Y2hlZCA9IGlzV2F0Y2hlZChuYW1lLCBfbmFtZXMsIGlzQmx1ckV2ZW50KTtcclxuICAgICAgICAgICAgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBmaWVsZFZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGlzQmx1ckV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZC5fZi5vbkJsdXIgJiYgZmllbGQuX2Yub25CbHVyKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGRlbGF5RXJyb3JDYWxsYmFjayAmJiBkZWxheUVycm9yQ2FsbGJhY2soMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQuX2Yub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkLl9mLm9uQ2hhbmdlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBmaWVsZFN0YXRlID0gdXBkYXRlVG91Y2hBbmREaXJ0eShuYW1lLCBmaWVsZFZhbHVlLCBpc0JsdXJFdmVudCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZW5kZXIgPSAhaXNFbXB0eU9iamVjdChmaWVsZFN0YXRlKSB8fCB3YXRjaGVkO1xyXG4gICAgICAgICAgICAhaXNCbHVyRXZlbnQgJiZcclxuICAgICAgICAgICAgICAgIF9zdWJqZWN0cy53YXRjaC5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNob3VsZFJlbmRlciAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHsgbmFtZSwgLi4uKHdhdGNoZWQgPyB7fSA6IGZpZWxkU3RhdGUpIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAhaXNCbHVyRXZlbnQgJiYgd2F0Y2hlZCAmJiBfc3ViamVjdHMuc3RhdGUubmV4dCh7fSk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRzW25hbWVdID0gdmFsaWRhdGVGaWVsZHNbbmFtZV0gPyArMSA6IDE7XHJcbiAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgIGlzVmFsaWRhdGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChfb3B0aW9ucy5yZXNvbHZlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvcnMgfSA9IGF3YWl0IF9leGVjdXRlU2NoZW1hKFtuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0Vycm9yTG9va3VwUmVzdWx0ID0gc2NoZW1hRXJyb3JMb29rdXAoX2Zvcm1TdGF0ZS5lcnJvcnMsIF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JMb29rdXBSZXN1bHQgPSBzY2hlbWFFcnJvckxvb2t1cChlcnJvcnMsIF9maWVsZHMsIHByZXZpb3VzRXJyb3JMb29rdXBSZXN1bHQubmFtZSB8fCBuYW1lKTtcclxuICAgICAgICAgICAgICAgIGVycm9yID0gZXJyb3JMb29rdXBSZXN1bHQuZXJyb3I7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gZXJyb3JMb29rdXBSZXN1bHQubmFtZTtcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBpc0VtcHR5T2JqZWN0KGVycm9ycyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IChhd2FpdCB2YWxpZGF0ZUZpZWxkKGZpZWxkLCBnZXQoX2Zvcm1WYWx1ZXMsIG5hbWUpLCBzaG91bGREaXNwbGF5QWxsQXNzb2NpYXRlZEVycm9ycywgX29wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikpW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGF3YWl0IF91cGRhdGVWYWxpZCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWVsZC5fZi5kZXBzICYmXHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKGZpZWxkLl9mLmRlcHMpO1xyXG4gICAgICAgICAgICBzaG91bGRSZW5kZXJCeUVycm9yKG5hbWUsIGlzVmFsaWQsIGVycm9yLCBmaWVsZFN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IGFzeW5jIChuYW1lLCBvcHRpb25zID0ge30pID0+IHtcclxuICAgICAgICBsZXQgaXNWYWxpZDtcclxuICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdDtcclxuICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gY29udmVydFRvQXJyYXlQYXlsb2FkKG5hbWUpO1xyXG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChfb3B0aW9ucy5yZXNvbHZlcikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBhd2FpdCBleGVjdXRlU2NoZW1hQW5kVXBkYXRlU3RhdGUoaXNVbmRlZmluZWQobmFtZSkgPyBuYW1lIDogZmllbGROYW1lcyk7XHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSBpc0VtcHR5T2JqZWN0KGVycm9ycyk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSBuYW1lXHJcbiAgICAgICAgICAgICAgICA/ICFmaWVsZE5hbWVzLnNvbWUoKG5hbWUpID0+IGdldChlcnJvcnMsIG5hbWUpKVxyXG4gICAgICAgICAgICAgICAgOiBpc1ZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSAoYXdhaXQgUHJvbWlzZS5hbGwoZmllbGROYW1lcy5tYXAoYXN5bmMgKGZpZWxkTmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgZmllbGROYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBleGVjdXRlQnVpbHRJblZhbGlkYXRpb24oZmllbGQgJiYgZmllbGQuX2YgPyB7IFtmaWVsZE5hbWVdOiBmaWVsZCB9IDogZmllbGQpO1xyXG4gICAgICAgICAgICB9KSkpLmV2ZXJ5KEJvb2xlYW4pO1xyXG4gICAgICAgICAgICAhKCF2YWxpZGF0aW9uUmVzdWx0ICYmICFfZm9ybVN0YXRlLmlzVmFsaWQpICYmIF91cGRhdGVWYWxpZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IGlzVmFsaWQgPSBhd2FpdCBleGVjdXRlQnVpbHRJblZhbGlkYXRpb24oX2ZpZWxkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgLi4uKCFpc1N0cmluZyhuYW1lKSB8fFxyXG4gICAgICAgICAgICAgICAgKF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkICYmIGlzVmFsaWQgIT09IF9mb3JtU3RhdGUuaXNWYWxpZClcclxuICAgICAgICAgICAgICAgID8ge31cclxuICAgICAgICAgICAgICAgIDogeyBuYW1lIH0pLFxyXG4gICAgICAgICAgICAuLi4oX29wdGlvbnMucmVzb2x2ZXIgPyB7IGlzVmFsaWQgfSA6IHt9KSxcclxuICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcclxuICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBvcHRpb25zLnNob3VsZEZvY3VzICYmXHJcbiAgICAgICAgICAgICF2YWxpZGF0aW9uUmVzdWx0ICYmXHJcbiAgICAgICAgICAgIGZvY3VzRmllbGRCeShfZmllbGRzLCAoa2V5KSA9PiBnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIGtleSksIG5hbWUgPyBmaWVsZE5hbWVzIDogX25hbWVzLm1vdW50KTtcclxuICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdDtcclxuICAgIH07XHJcbiAgICBjb25zdCBnZXRWYWx1ZXMgPSAoZmllbGROYW1lcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgLi4uX2RlZmF1bHRWYWx1ZXMsXHJcbiAgICAgICAgICAgIC4uLihfc3RhdGVGbGFncy5tb3VudCA/IF9mb3JtVmFsdWVzIDoge30pLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGlzVW5kZWZpbmVkKGZpZWxkTmFtZXMpXHJcbiAgICAgICAgICAgID8gdmFsdWVzXHJcbiAgICAgICAgICAgIDogaXNTdHJpbmcoZmllbGROYW1lcylcclxuICAgICAgICAgICAgICAgID8gZ2V0KHZhbHVlcywgZmllbGROYW1lcylcclxuICAgICAgICAgICAgICAgIDogZmllbGROYW1lcy5tYXAoKG5hbWUpID0+IGdldCh2YWx1ZXMsIG5hbWUpKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBnZXRGaWVsZFN0YXRlID0gKG5hbWUsIGZvcm1TdGF0ZSkgPT4gKHtcclxuICAgICAgICBpbnZhbGlkOiAhIWdldCgoZm9ybVN0YXRlIHx8IF9mb3JtU3RhdGUpLmVycm9ycywgbmFtZSksXHJcbiAgICAgICAgaXNEaXJ0eTogISFnZXQoKGZvcm1TdGF0ZSB8fCBfZm9ybVN0YXRlKS5kaXJ0eUZpZWxkcywgbmFtZSksXHJcbiAgICAgICAgaXNUb3VjaGVkOiAhIWdldCgoZm9ybVN0YXRlIHx8IF9mb3JtU3RhdGUpLnRvdWNoZWRGaWVsZHMsIG5hbWUpLFxyXG4gICAgICAgIGVycm9yOiBnZXQoKGZvcm1TdGF0ZSB8fCBfZm9ybVN0YXRlKS5lcnJvcnMsIG5hbWUpLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjbGVhckVycm9ycyA9IChuYW1lKSA9PiB7XHJcbiAgICAgICAgbmFtZVxyXG4gICAgICAgICAgICA/IGNvbnZlcnRUb0FycmF5UGF5bG9hZChuYW1lKS5mb3JFYWNoKChpbnB1dE5hbWUpID0+IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBpbnB1dE5hbWUpKVxyXG4gICAgICAgICAgICA6IChfZm9ybVN0YXRlLmVycm9ycyA9IHt9KTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0RXJyb3IgPSAobmFtZSwgZXJyb3IsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICBjb25zdCByZWYgPSAoZ2V0KF9maWVsZHMsIG5hbWUsIHsgX2Y6IHt9IH0pLl9mIHx8IHt9KS5yZWY7XHJcbiAgICAgICAgc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lLCB7XHJcbiAgICAgICAgICAgIC4uLmVycm9yLFxyXG4gICAgICAgICAgICByZWYsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLFxyXG4gICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuc2hvdWxkRm9jdXMgJiYgcmVmICYmIHJlZi5mb2N1cyAmJiByZWYuZm9jdXMoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB3YXRjaCA9IChuYW1lLCBkZWZhdWx0VmFsdWUpID0+IGlzRnVuY3Rpb24obmFtZSlcclxuICAgICAgICA/IF9zdWJqZWN0cy53YXRjaC5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoaW5mbykgPT4gbmFtZShfZ2V0V2F0Y2godW5kZWZpbmVkLCBkZWZhdWx0VmFsdWUpLCBpbmZvKSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIDogX2dldFdhdGNoKG5hbWUsIGRlZmF1bHRWYWx1ZSwgdHJ1ZSk7XHJcbiAgICBjb25zdCB1bnJlZ2lzdGVyID0gKG5hbWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgZmllbGROYW1lIG9mIG5hbWUgPyBjb252ZXJ0VG9BcnJheVBheWxvYWQobmFtZSkgOiBfbmFtZXMubW91bnQpIHtcclxuICAgICAgICAgICAgX25hbWVzLm1vdW50LmRlbGV0ZShmaWVsZE5hbWUpO1xyXG4gICAgICAgICAgICBfbmFtZXMuYXJyYXkuZGVsZXRlKGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChnZXQoX2ZpZWxkcywgZmllbGROYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmtlZXBWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuc2V0KF9maWVsZHMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5zZXQoX2Zvcm1WYWx1ZXMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAhb3B0aW9ucy5rZWVwRXJyb3IgJiYgdW5zZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAhb3B0aW9ucy5rZWVwRGlydHkgJiYgdW5zZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgZmllbGROYW1lKTtcclxuICAgICAgICAgICAgICAgICFvcHRpb25zLmtlZXBUb3VjaGVkICYmIHVuc2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgZmllbGROYW1lKTtcclxuICAgICAgICAgICAgICAgICFfb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIW9wdGlvbnMua2VlcERlZmF1bHRWYWx1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHVuc2V0KF9kZWZhdWx0VmFsdWVzLCBmaWVsZE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9zdWJqZWN0cy53YXRjaC5uZXh0KHt9KTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIC4uLl9mb3JtU3RhdGUsXHJcbiAgICAgICAgICAgIC4uLighb3B0aW9ucy5rZWVwRGlydHkgPyB7fSA6IHsgaXNEaXJ0eTogX2dldERpcnR5KCkgfSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgIW9wdGlvbnMua2VlcElzVmFsaWQgJiYgX3VwZGF0ZVZhbGlkKCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVnaXN0ZXIgPSAobmFtZSwgb3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICAgICAgbGV0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkSXNEZWZpbmVkID0gaXNCb29sZWFuKG9wdGlvbnMuZGlzYWJsZWQpO1xyXG4gICAgICAgIHNldChfZmllbGRzLCBuYW1lLCB7XHJcbiAgICAgICAgICAgIF9mOiB7XHJcbiAgICAgICAgICAgICAgICAuLi4oZmllbGQgJiYgZmllbGQuX2YgPyBmaWVsZC5fZiA6IHsgcmVmOiB7IG5hbWUgfSB9KSxcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBtb3VudDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX25hbWVzLm1vdW50LmFkZChuYW1lKTtcclxuICAgICAgICBmaWVsZFxyXG4gICAgICAgICAgICA/IGRpc2FibGVkSXNEZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIG9wdGlvbnMuZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBnZXRGaWVsZFZhbHVlKGZpZWxkLl9mKSkpXHJcbiAgICAgICAgICAgIDogdXBkYXRlVmFsaWRBbmRWYWx1ZShuYW1lLCB0cnVlLCBvcHRpb25zLnZhbHVlKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi4oZGlzYWJsZWRJc0RlZmluZWQgPyB7IGRpc2FibGVkOiBvcHRpb25zLmRpc2FibGVkIH0gOiB7fSksXHJcbiAgICAgICAgICAgIC4uLihfb3B0aW9ucy5zaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogISFvcHRpb25zLnJlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbjogZ2V0UnVsZVZhbHVlKG9wdGlvbnMubWluKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXg6IGdldFJ1bGVWYWx1ZShvcHRpb25zLm1heCksXHJcbiAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiBnZXRSdWxlVmFsdWUob3B0aW9ucy5taW5MZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogZ2V0UnVsZVZhbHVlKG9wdGlvbnMubWF4TGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBnZXRSdWxlVmFsdWUob3B0aW9ucy5wYXR0ZXJuKSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDoge30pLFxyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBvbkNoYW5nZSxcclxuICAgICAgICAgICAgb25CbHVyOiBvbkNoYW5nZSxcclxuICAgICAgICAgICAgcmVmOiAocmVmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXIobmFtZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRSZWYgPSBpc1VuZGVmaW5lZChyZWYudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVmLnF1ZXJ5U2VsZWN0b3JBbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVmLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LHNlbGVjdCx0ZXh0YXJlYScpWzBdIHx8IHJlZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaW9PckNoZWNrYm94ID0gaXNSYWRpb09yQ2hlY2tib3goZmllbGRSZWYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZnMgPSBmaWVsZC5fZi5yZWZzIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYWRpb09yQ2hlY2tib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWZzLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uID09PSBmaWVsZFJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWVsZFJlZiA9PT0gZmllbGQuX2YucmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0KF9maWVsZHMsIG5hbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Y6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZpZWxkLl9mLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHJhZGlvT3JDaGVja2JveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZWZzLmZpbHRlcihsaXZlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCEhQXJyYXkuaXNBcnJheShnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW3t9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW10pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IHsgdHlwZTogZmllbGRSZWYudHlwZSwgbmFtZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHsgcmVmOiBmaWVsZFJlZiB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWxpZEFuZFZhbHVlKG5hbWUsIGZhbHNlLCB1bmRlZmluZWQsIGZpZWxkUmVmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUsIHt9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuX2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuX2YubW91bnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKF9vcHRpb25zLnNob3VsZFVucmVnaXN0ZXIgfHwgb3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhKGlzTmFtZUluRmllbGRBcnJheShfbmFtZXMuYXJyYXksIG5hbWUpICYmIF9zdGF0ZUZsYWdzLmFjdGlvbikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgX25hbWVzLnVuTW91bnQuYWRkKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gKG9uVmFsaWQsIG9uSW52YWxpZCkgPT4gYXN5bmMgKGUpID0+IHtcclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5wZXJzaXN0ICYmIGUucGVyc2lzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaGFzTm9Qcm9taXNlRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgIGxldCBmaWVsZFZhbHVlcyA9IGNsb25lT2JqZWN0KF9mb3JtVmFsdWVzKTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIGlzU3VibWl0dGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX29wdGlvbnMucmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3JzLCB2YWx1ZXMgfSA9IGF3YWl0IF9leGVjdXRlU2NoZW1hKCk7XHJcbiAgICAgICAgICAgICAgICBfZm9ybVN0YXRlLmVycm9ycyA9IGVycm9ycztcclxuICAgICAgICAgICAgICAgIGZpZWxkVmFsdWVzID0gdmFsdWVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZXhlY3V0ZUJ1aWx0SW5WYWxpZGF0aW9uKF9maWVsZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0VtcHR5T2JqZWN0KF9mb3JtU3RhdGUuZXJyb3JzKSkge1xyXG4gICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgaXNTdWJtaXR0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBvblZhbGlkKGZpZWxkVmFsdWVzLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChvbkludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbkludmFsaWQoeyAuLi5fZm9ybVN0YXRlLmVycm9ycyB9LCBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9vcHRpb25zLnNob3VsZEZvY3VzRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkQnkoX2ZpZWxkcywgKGtleSkgPT4gZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBrZXkpLCBfbmFtZXMubW91bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgaGFzTm9Qcm9taXNlRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgX2Zvcm1TdGF0ZS5pc1N1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgIGlzU3VibWl0dGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzU3VibWl0U3VjY2Vzc2Z1bDogaXNFbXB0eU9iamVjdChfZm9ybVN0YXRlLmVycm9ycykgJiYgaGFzTm9Qcm9taXNlRXJyb3IsXHJcbiAgICAgICAgICAgICAgICBzdWJtaXRDb3VudDogX2Zvcm1TdGF0ZS5zdWJtaXRDb3VudCArIDEsXHJcbiAgICAgICAgICAgICAgICBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVzZXRGaWVsZCA9IChuYW1lLCBvcHRpb25zID0ge30pID0+IHtcclxuICAgICAgICBpZiAoZ2V0KF9maWVsZHMsIG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChvcHRpb25zLmRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHNldFZhbHVlKG5hbWUsIGdldChfZGVmYXVsdFZhbHVlcywgbmFtZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VmFsdWUobmFtZSwgb3B0aW9ucy5kZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgc2V0KF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBvcHRpb25zLmRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmtlZXBUb3VjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB1bnNldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5rZWVwRGlydHkpIHtcclxuICAgICAgICAgICAgICAgIHVuc2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgX2Zvcm1TdGF0ZS5pc0RpcnR5ID0gb3B0aW9ucy5kZWZhdWx0VmFsdWVcclxuICAgICAgICAgICAgICAgICAgICA/IF9nZXREaXJ0eShuYW1lLCBnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgIDogX2dldERpcnR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmtlZXBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdW5zZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgX3VwZGF0ZVZhbGlkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoeyAuLi5fZm9ybVN0YXRlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZXNldCA9IChmb3JtVmFsdWVzLCBrZWVwU3RhdGVPcHRpb25zID0ge30pID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkVmFsdWVzID0gZm9ybVZhbHVlcyB8fCBfZGVmYXVsdFZhbHVlcztcclxuICAgICAgICBjb25zdCBjbG9uZVVwZGF0ZWRWYWx1ZXMgPSBjbG9uZU9iamVjdCh1cGRhdGVkVmFsdWVzKTtcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBmb3JtVmFsdWVzICYmICFpc0VtcHR5T2JqZWN0KGZvcm1WYWx1ZXMpXHJcbiAgICAgICAgICAgID8gY2xvbmVVcGRhdGVkVmFsdWVzXHJcbiAgICAgICAgICAgIDogX2RlZmF1bHRWYWx1ZXM7XHJcbiAgICAgICAgaWYgKCFrZWVwU3RhdGVPcHRpb25zLmtlZXBEZWZhdWx0VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIF9kZWZhdWx0VmFsdWVzID0gdXBkYXRlZFZhbHVlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFrZWVwU3RhdGVPcHRpb25zLmtlZXBWYWx1ZXMpIHtcclxuICAgICAgICAgICAgaWYgKGtlZXBTdGF0ZU9wdGlvbnMua2VlcERpcnR5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkTmFtZSBvZiBfbmFtZXMubW91bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgZmllbGROYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNldCh2YWx1ZXMsIGZpZWxkTmFtZSwgZ2V0KF9mb3JtVmFsdWVzLCBmaWVsZE5hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNldFZhbHVlKGZpZWxkTmFtZSwgZ2V0KHZhbHVlcywgZmllbGROYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNXZWIgJiYgaXNVbmRlZmluZWQoZm9ybVZhbHVlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgX25hbWVzLm1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQgJiYgZmllbGQuX2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkUmVmZXJlbmNlID0gQXJyYXkuaXNBcnJheShmaWVsZC5fZi5yZWZzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmllbGQuX2YucmVmc1swXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmllbGQuX2YucmVmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNIVE1MRWxlbWVudChmaWVsZFJlZmVyZW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRSZWZlcmVuY2UuY2xvc2VzdCgnZm9ybScpLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfZmllbGRzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2Zvcm1WYWx1ZXMgPSBwcm9wcy5zaG91bGRVbnJlZ2lzdGVyXHJcbiAgICAgICAgICAgICAgICA/IGtlZXBTdGF0ZU9wdGlvbnMua2VlcERlZmF1bHRWYWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICA/IGNsb25lT2JqZWN0KF9kZWZhdWx0VmFsdWVzKVxyXG4gICAgICAgICAgICAgICAgICAgIDoge31cclxuICAgICAgICAgICAgICAgIDogY2xvbmVVcGRhdGVkVmFsdWVzO1xyXG4gICAgICAgICAgICBfc3ViamVjdHMuYXJyYXkubmV4dCh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfc3ViamVjdHMud2F0Y2gubmV4dCh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfbmFtZXMgPSB7XHJcbiAgICAgICAgICAgIG1vdW50OiBuZXcgU2V0KCksXHJcbiAgICAgICAgICAgIHVuTW91bnQ6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgYXJyYXk6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgd2F0Y2g6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgd2F0Y2hBbGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb2N1czogJycsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfc3RhdGVGbGFncy5tb3VudCA9XHJcbiAgICAgICAgICAgICFfcHJveHlGb3JtU3RhdGUuaXNWYWxpZCB8fCAhIWtlZXBTdGF0ZU9wdGlvbnMua2VlcElzVmFsaWQ7XHJcbiAgICAgICAgX3N0YXRlRmxhZ3Mud2F0Y2ggPSAhIXByb3BzLnNob3VsZFVucmVnaXN0ZXI7XHJcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICBzdWJtaXRDb3VudDoga2VlcFN0YXRlT3B0aW9ucy5rZWVwU3VibWl0Q291bnRcclxuICAgICAgICAgICAgICAgID8gX2Zvcm1TdGF0ZS5zdWJtaXRDb3VudFxyXG4gICAgICAgICAgICAgICAgOiAwLFxyXG4gICAgICAgICAgICBpc0RpcnR5OiBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eSB8fCBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eVZhbHVlc1xyXG4gICAgICAgICAgICAgICAgPyBfZm9ybVN0YXRlLmlzRGlydHlcclxuICAgICAgICAgICAgICAgIDogISEoa2VlcFN0YXRlT3B0aW9ucy5rZWVwRGVmYXVsdFZhbHVlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFkZWVwRXF1YWwoZm9ybVZhbHVlcywgX2RlZmF1bHRWYWx1ZXMpKSxcclxuICAgICAgICAgICAgaXNTdWJtaXR0ZWQ6IGtlZXBTdGF0ZU9wdGlvbnMua2VlcElzU3VibWl0dGVkXHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuaXNTdWJtaXR0ZWRcclxuICAgICAgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRpcnR5RmllbGRzOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eSB8fCBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eVZhbHVlc1xyXG4gICAgICAgICAgICAgICAgPyBfZm9ybVN0YXRlLmRpcnR5RmllbGRzXHJcbiAgICAgICAgICAgICAgICA6IGtlZXBTdGF0ZU9wdGlvbnMua2VlcERlZmF1bHRWYWx1ZXMgJiYgZm9ybVZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0RGlydHlGaWVsZHMoX2RlZmF1bHRWYWx1ZXMsIGZvcm1WYWx1ZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB7fSxcclxuICAgICAgICAgICAgdG91Y2hlZEZpZWxkczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwVG91Y2hlZFxyXG4gICAgICAgICAgICAgICAgPyBfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHNcclxuICAgICAgICAgICAgICAgIDoge30sXHJcbiAgICAgICAgICAgIGVycm9yczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwRXJyb3JzXHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuZXJyb3JzXHJcbiAgICAgICAgICAgICAgICA6IHt9LFxyXG4gICAgICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1N1Ym1pdFN1Y2Nlc3NmdWw6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldEZvY3VzID0gKG5hbWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpLl9mO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkUmVmID0gZmllbGQucmVmcyA/IGZpZWxkLnJlZnNbMF0gOiBmaWVsZC5yZWY7XHJcbiAgICAgICAgZmllbGRSZWYuZm9jdXMoKTtcclxuICAgICAgICBvcHRpb25zLnNob3VsZFNlbGVjdCAmJiBmaWVsZFJlZi5zZWxlY3QoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRyb2w6IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgICAgICAgIHVucmVnaXN0ZXIsXHJcbiAgICAgICAgICAgIGdldEZpZWxkU3RhdGUsXHJcbiAgICAgICAgICAgIF9leGVjdXRlU2NoZW1hLFxyXG4gICAgICAgICAgICBfZ2V0V2F0Y2gsXHJcbiAgICAgICAgICAgIF9nZXREaXJ0eSxcclxuICAgICAgICAgICAgX3VwZGF0ZVZhbGlkLFxyXG4gICAgICAgICAgICBfcmVtb3ZlVW5tb3VudGVkLFxyXG4gICAgICAgICAgICBfdXBkYXRlRmllbGRBcnJheSxcclxuICAgICAgICAgICAgX2dldEZpZWxkQXJyYXksXHJcbiAgICAgICAgICAgIF9zdWJqZWN0cyxcclxuICAgICAgICAgICAgX3Byb3h5Rm9ybVN0YXRlLFxyXG4gICAgICAgICAgICBnZXQgX2ZpZWxkcygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZmllbGRzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgX2Zvcm1WYWx1ZXMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Zvcm1WYWx1ZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBfc3RhdGVGbGFncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfc3RhdGVGbGFncztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9zdGF0ZUZsYWdzKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBfc3RhdGVGbGFncyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgX2RlZmF1bHRWYWx1ZXMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHRWYWx1ZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBfbmFtZXMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX25hbWVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgX25hbWVzKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBfbmFtZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IF9mb3JtU3RhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Zvcm1TdGF0ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9mb3JtU3RhdGUodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIF9mb3JtU3RhdGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IF9vcHRpb25zKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9vcHRpb25zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgX29wdGlvbnModmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIF9vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLl9vcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyaWdnZXIsXHJcbiAgICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgICAgaGFuZGxlU3VibWl0LFxyXG4gICAgICAgIHdhdGNoLFxyXG4gICAgICAgIHNldFZhbHVlLFxyXG4gICAgICAgIGdldFZhbHVlcyxcclxuICAgICAgICByZXNldCxcclxuICAgICAgICByZXNldEZpZWxkLFxyXG4gICAgICAgIGNsZWFyRXJyb3JzLFxyXG4gICAgICAgIHVucmVnaXN0ZXIsXHJcbiAgICAgICAgc2V0RXJyb3IsXHJcbiAgICAgICAgc2V0Rm9jdXMsXHJcbiAgICAgICAgZ2V0RmllbGRTdGF0ZSxcclxuICAgIH07XHJcbn1cblxuLyoqXHJcbiAqIEN1c3RvbSBob29rIHRvIG1hbmFnZSB0aGUgZW50aXJlIGZvcm0uXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIFtBUEldKGh0dHBzOi8vcmVhY3QtaG9vay1mb3JtLmNvbS9hcGkvdXNlZm9ybSkg4oCiIFtEZW1vXShodHRwczovL2NvZGVzYW5kYm94LmlvL3MvcmVhY3QtaG9vay1mb3JtLWdldC1zdGFydGVkLXRzLTVrc21tKSDigKIgW1ZpZGVvXShodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PVJrWHY0QVhYQ180KVxyXG4gKlxyXG4gKiBAcGFyYW0gcHJvcHMgLSBmb3JtIGNvbmZpZ3VyYXRpb24gYW5kIHZhbGlkYXRpb24gcGFyYW1ldGVycy5cclxuICpcclxuICogQHJldHVybnMgbWV0aG9kcyAtIGluZGl2aWR1YWwgZnVuY3Rpb25zIHRvIG1hbmFnZSB0aGUgZm9ybSBzdGF0ZS4ge0BsaW5rIFVzZUZvcm1SZXR1cm59XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYHRzeFxyXG4gKiBmdW5jdGlvbiBBcHAoKSB7XHJcbiAqICAgY29uc3QgeyByZWdpc3RlciwgaGFuZGxlU3VibWl0LCB3YXRjaCwgZm9ybVN0YXRlOiB7IGVycm9ycyB9IH0gPSB1c2VGb3JtKCk7XHJcbiAqICAgY29uc3Qgb25TdWJtaXQgPSBkYXRhID0+IGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gKlxyXG4gKiAgIGNvbnNvbGUubG9nKHdhdGNoKFwiZXhhbXBsZVwiKSk7XHJcbiAqXHJcbiAqICAgcmV0dXJuIChcclxuICogICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQob25TdWJtaXQpfT5cclxuICogICAgICAgPGlucHV0IGRlZmF1bHRWYWx1ZT1cInRlc3RcIiB7Li4ucmVnaXN0ZXIoXCJleGFtcGxlXCIpfSAvPlxyXG4gKiAgICAgICA8aW5wdXQgey4uLnJlZ2lzdGVyKFwiZXhhbXBsZVJlcXVpcmVkXCIsIHsgcmVxdWlyZWQ6IHRydWUgfSl9IC8+XHJcbiAqICAgICAgIHtlcnJvcnMuZXhhbXBsZVJlcXVpcmVkICYmIDxzcGFuPlRoaXMgZmllbGQgaXMgcmVxdWlyZWQ8L3NwYW4+fVxyXG4gKiAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIC8+XHJcbiAqICAgICA8L2Zvcm0+XHJcbiAqICAgKTtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmZ1bmN0aW9uIHVzZUZvcm0ocHJvcHMgPSB7fSkge1xyXG4gICAgY29uc3QgX2Zvcm1Db250cm9sID0gUmVhY3QudXNlUmVmKCk7XHJcbiAgICBjb25zdCBbZm9ybVN0YXRlLCB1cGRhdGVGb3JtU3RhdGVdID0gUmVhY3QudXNlU3RhdGUoe1xyXG4gICAgICAgIGlzRGlydHk6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgZGlydHlGaWVsZHM6IHt9LFxyXG4gICAgICAgIGlzU3VibWl0dGVkOiBmYWxzZSxcclxuICAgICAgICBzdWJtaXRDb3VudDogMCxcclxuICAgICAgICB0b3VjaGVkRmllbGRzOiB7fSxcclxuICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGlzU3VibWl0U3VjY2Vzc2Z1bDogZmFsc2UsXHJcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JzOiB7fSxcclxuICAgIH0pO1xyXG4gICAgaWYgKF9mb3JtQ29udHJvbC5jdXJyZW50KSB7XHJcbiAgICAgICAgX2Zvcm1Db250cm9sLmN1cnJlbnQuY29udHJvbC5fb3B0aW9ucyA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgX2Zvcm1Db250cm9sLmN1cnJlbnQgPSB7XHJcbiAgICAgICAgICAgIC4uLmNyZWF0ZUZvcm1Db250cm9sKHByb3BzKSxcclxuICAgICAgICAgICAgZm9ybVN0YXRlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb250cm9sID0gX2Zvcm1Db250cm9sLmN1cnJlbnQuY29udHJvbDtcclxuICAgIGNvbnN0IGNhbGxiYWNrID0gUmVhY3QudXNlQ2FsbGJhY2soKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgaWYgKHNob3VsZFJlbmRlckZvcm1TdGF0ZSh2YWx1ZSwgY29udHJvbC5fcHJveHlGb3JtU3RhdGUsIHRydWUpKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX2Zvcm1TdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbnRyb2wuX2Zvcm1TdGF0ZSxcclxuICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB1cGRhdGVGb3JtU3RhdGUoeyAuLi5jb250cm9sLl9mb3JtU3RhdGUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2NvbnRyb2xdKTtcclxuICAgIHVzZVN1YnNjcmliZSh7XHJcbiAgICAgICAgc3ViamVjdDogY29udHJvbC5fc3ViamVjdHMuc3RhdGUsXHJcbiAgICAgICAgY2FsbGJhY2ssXHJcbiAgICB9KTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb250cm9sLl9zdGF0ZUZsYWdzLm1vdW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgY29udHJvbC5fdXBkYXRlVmFsaWQoKTtcclxuICAgICAgICAgICAgY29udHJvbC5fc3RhdGVGbGFncy5tb3VudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb250cm9sLl9zdGF0ZUZsYWdzLndhdGNoKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX3N0YXRlRmxhZ3Mud2F0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgY29udHJvbC5fc3ViamVjdHMuc3RhdGUubmV4dCh7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2wuX3JlbW92ZVVubW91bnRlZCgpO1xyXG4gICAgfSk7XHJcbiAgICBfZm9ybUNvbnRyb2wuY3VycmVudC5mb3JtU3RhdGUgPSBnZXRQcm94eUZvcm1TdGF0ZShmb3JtU3RhdGUsIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlKTtcclxuICAgIHJldHVybiBfZm9ybUNvbnRyb2wuY3VycmVudDtcclxufVxuXG5leHBvcnQgeyBDb250cm9sbGVyLCBGb3JtUHJvdmlkZXIsIGFwcGVuZEVycm9ycywgZ2V0LCBzZXQsIHVzZUNvbnRyb2xsZXIsIHVzZUZpZWxkQXJyYXksIHVzZUZvcm0sIHVzZUZvcm1Db250ZXh0LCB1c2VGb3JtU3RhdGUsIHVzZVdhdGNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20ubWpzLm1hcFxuIl0sIm5hbWVzIjpbImlzQ2hlY2tCb3hJbnB1dCIsImVsZW1lbnQiLCJ0eXBlIiwiaXNEYXRlT2JqZWN0IiwidmFsdWUiLCJEYXRlIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJpc09iamVjdFR5cGUiLCJpc09iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsImdldEV2ZW50VmFsdWUiLCJldmVudCIsInRhcmdldCIsImNoZWNrZWQiLCJpc05hbWVJbkZpZWxkQXJyYXkiLCJuYW1lcyIsIm5hbWUiLCJoYXMiLCJzdWJzdHJpbmciLCJzZWFyY2giLCJnZXROb2RlUGFyZW50TmFtZSIsImNvbXBhY3QiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaXNVbmRlZmluZWQiLCJ2YWwiLCJ1bmRlZmluZWQiLCJnZXQiLCJvYmoiLCJwYXRoIiwiZGVmYXVsdFZhbHVlIiwicmVzdWx0Iiwic3BsaXQiLCJyZWR1Y2UiLCJrZXkiLCJFVkVOVFMiLCJWQUxJREFUSU9OX01PREUiLCJJTlBVVF9WQUxJREFUSU9OX1JVTEVTIiwiSG9va0Zvcm1Db250ZXh0IiwidXNlRm9ybUNvbnRleHQiLCJGb3JtUHJvdmlkZXIiLCJwcm9wcyIsImNoaWxkcmVuIiwiZGF0YSIsIlByb3ZpZGVyIiwiZ2V0UHJveHlGb3JtU3RhdGUiLCJmb3JtU3RhdGUiLCJfcHJveHlGb3JtU3RhdGUiLCJsb2NhbFByb3h5Rm9ybVN0YXRlIiwiaXNSb290IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfa2V5IiwiaXNFbXB0eU9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzaG91bGRSZW5kZXJGb3JtU3RhdGUiLCJmb3JtU3RhdGVEYXRhIiwiZmluZCIsImNvbnZlcnRUb0FycmF5UGF5bG9hZCIsInNob3VsZFN1YnNjcmliZUJ5TmFtZSIsInNpZ25hbE5hbWUiLCJleGFjdCIsInNvbWUiLCJjdXJyZW50TmFtZSIsInN0YXJ0c1dpdGgiLCJ1c2VTdWJzY3JpYmUiLCJfcHJvcHMiLCJjdXJyZW50Iiwic3Vic2NyaXB0aW9uIiwiZGlzYWJsZWQiLCJzdWJqZWN0Iiwic3Vic2NyaWJlIiwibmV4dCIsImNhbGxiYWNrIiwidW5zdWJzY3JpYmUiLCJ0ZWFyRG93biIsInVzZUZvcm1TdGF0ZSIsIm1ldGhvZHMiLCJjb250cm9sIiwidXBkYXRlRm9ybVN0YXRlIiwiX2Zvcm1TdGF0ZSIsIl9sb2NhbFByb3h5Rm9ybVN0YXRlIiwiaXNEaXJ0eSIsImRpcnR5RmllbGRzIiwidG91Y2hlZEZpZWxkcyIsImlzVmFsaWRhdGluZyIsImlzVmFsaWQiLCJlcnJvcnMiLCJfbmFtZSIsIl9tb3VudGVkIiwiX3N1YmplY3RzIiwic3RhdGUiLCJpc1N0cmluZyIsImdlbmVyYXRlV2F0Y2hPdXRwdXQiLCJfbmFtZXMiLCJmb3JtVmFsdWVzIiwiaXNHbG9iYWwiLCJ3YXRjaCIsImFkZCIsIm1hcCIsImZpZWxkTmFtZSIsIndhdGNoQWxsIiwiaXNGdW5jdGlvbiIsIm9iamVjdEhhc0Z1bmN0aW9uIiwidXNlV2F0Y2giLCJmaWVsZFZhbHVlcyIsInZhbHVlcyIsIl9mb3JtVmFsdWVzIiwidXBkYXRlVmFsdWUiLCJfZ2V0V2F0Y2giLCJfcmVtb3ZlVW5tb3VudGVkIiwidXNlQ29udHJvbGxlciIsInNob3VsZFVucmVnaXN0ZXIiLCJpc0FycmF5RmllbGQiLCJhcnJheSIsIl9kZWZhdWx0VmFsdWVzIiwiX3JlZ2lzdGVyUHJvcHMiLCJyZWdpc3RlciIsInJ1bGVzIiwidXBkYXRlTW91bnRlZCIsImZpZWxkIiwiX2ZpZWxkcyIsIl9mIiwibW91bnQiLCJfc2hvdWxkVW5yZWdpc3RlckZpZWxkIiwiX29wdGlvbnMiLCJfc3RhdGVGbGFncyIsImFjdGlvbiIsInVucmVnaXN0ZXIiLCJvbkNoYW5nZSIsIm9uQmx1ciIsInJlZiIsImVsbSIsImZvY3VzIiwic2VsZWN0Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJtZXNzYWdlIiwicmVwb3J0VmFsaWRpdHkiLCJmaWVsZFN0YXRlIiwiZGVmaW5lUHJvcGVydGllcyIsImludmFsaWQiLCJpc1RvdWNoZWQiLCJlcnJvciIsIkNvbnRyb2xsZXIiLCJyZW5kZXIiLCJhcHBlbmRFcnJvcnMiLCJ2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEiLCJ0eXBlcyIsImlzS2V5IiwidGVzdCIsInN0cmluZ1RvUGF0aCIsImlucHV0IiwicmVwbGFjZSIsInNldCIsIm9iamVjdCIsImluZGV4IiwidGVtcFBhdGgiLCJsYXN0SW5kZXgiLCJuZXdWYWx1ZSIsIm9ialZhbHVlIiwiaXNOYU4iLCJmb2N1c0ZpZWxkQnkiLCJmaWVsZHMiLCJmaWVsZHNOYW1lcyIsImN1cnJlbnRGaWVsZCIsInJlZnMiLCJnZW5lcmF0ZUlkIiwiZCIsInBlcmZvcm1hbmNlIiwibm93IiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJnZXRGb2N1c0ZpZWxkTmFtZSIsIm9wdGlvbnMiLCJzaG91bGRGb2N1cyIsImZvY3VzTmFtZSIsImZvY3VzSW5kZXgiLCJpc1dhdGNoZWQiLCJpc0JsdXJFdmVudCIsIndhdGNoTmFtZSIsInNsaWNlIiwidXBkYXRlRmllbGRBcnJheVJvb3RFcnJvciIsImZpZWxkQXJyYXlFcnJvcnMiLCJpc0Jvb2xlYW4iLCJpc0ZpbGVJbnB1dCIsImlzTWVzc2FnZSIsImlzUmFkaW9JbnB1dCIsImlzUmVnZXgiLCJSZWdFeHAiLCJkZWZhdWx0UmVzdWx0IiwidmFsaWRSZXN1bHQiLCJnZXRDaGVja2JveFZhbHVlIiwib3B0aW9uIiwiYXR0cmlidXRlcyIsImRlZmF1bHRSZXR1cm4iLCJnZXRSYWRpb1ZhbHVlIiwicHJldmlvdXMiLCJnZXRWYWxpZGF0ZUVycm9yIiwiZXZlcnkiLCJnZXRWYWx1ZUFuZE1lc3NhZ2UiLCJ2YWxpZGF0aW9uRGF0YSIsInZhbGlkYXRlRmllbGQiLCJhc3luYyIsImlucHV0VmFsdWUiLCJzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uIiwiaXNGaWVsZEFycmF5IiwicmVxdWlyZWQiLCJtYXhMZW5ndGgiLCJtaW5MZW5ndGgiLCJtaW4iLCJtYXgiLCJwYXR0ZXJuIiwidmFsaWRhdGUiLCJ2YWx1ZUFzTnVtYmVyIiwiaW5wdXRSZWYiLCJpc1JhZGlvIiwiaXNDaGVja0JveCIsImlzUmFkaW9PckNoZWNrYm94IiwiaXNFbXB0eSIsImFwcGVuZEVycm9yc0N1cnJ5IiwiYmluZCIsImdldE1pbk1heE1lc3NhZ2UiLCJleGNlZWRNYXgiLCJtYXhMZW5ndGhNZXNzYWdlIiwibWluTGVuZ3RoTWVzc2FnZSIsIm1heFR5cGUiLCJtaW5UeXBlIiwiZXhjZWVkTWluIiwibWF4T3V0cHV0IiwibWluT3V0cHV0IiwidmFsdWVEYXRlIiwidmFsdWVBc0RhdGUiLCJ2YWx1ZU51bWJlciIsIm1heExlbmd0aE91dHB1dCIsIm1pbkxlbmd0aE91dHB1dCIsInBhdHRlcm5WYWx1ZSIsIm1hdGNoIiwidmFsaWRhdGVFcnJvciIsInZhbGlkYXRpb25SZXN1bHQiLCJhcHBlbmQiLCJpc1dlYiIsIndpbmRvdyIsIkhUTUxFbGVtZW50IiwiZG9jdW1lbnQiLCJjbG9uZU9iamVjdCIsImNvcHkiLCJTZXQiLCJCbG9iIiwiRmlsZUxpc3QiLCJmaWxsRW1wdHlBcnJheSIsImdldFZhbGlkYXRpb25Nb2RlcyIsIm1vZGUiLCJpc09uU3VibWl0IiwiaXNPbkJsdXIiLCJpc09uQ2hhbmdlIiwiaXNPbkFsbCIsImlzT25Ub3VjaCIsImluc2VydCIsIm1vdmVBcnJheUF0IiwiZnJvbSIsInRvIiwic3BsaWNlIiwicHJlcGVuZCIsInJlbW92ZUFycmF5QXQiLCJpbmRleGVzIiwiaSIsInRlbXAiLCJyZW1vdmVBdEluZGV4ZXMiLCJzb3J0IiwiYSIsImIiLCJzd2FwQXJyYXlBdCIsImluZGV4QSIsImluZGV4QiIsImlzRW1wdHlBcnJheSIsInVuc2V0IiwidXBkYXRlUGF0aCIsImNoaWxkT2JqZWN0IiwiYmFzZUdldCIsInByZXZpb3VzT2JqUmVmIiwiayIsIm9iamVjdFJlZiIsImN1cnJlbnRQYXRocyIsImN1cnJlbnRQYXRoc0xlbmd0aCIsIml0ZW0iLCJ1cGRhdGVBdCIsInVzZUZpZWxkQXJyYXkiLCJrZXlOYW1lIiwic2V0RmllbGRzIiwiX2dldEZpZWxkQXJyYXkiLCJpZHMiLCJfZmllbGRJZHMiLCJfYWN0aW9uZWQiLCJmaWVsZEFycmF5TmFtZSIsInVwZGF0ZVZhbHVlcyIsInVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzIiwiX3VwZGF0ZUZpZWxkQXJyYXkiLCJyZXNvbHZlciIsIl9leGVjdXRlU2NoZW1hIiwidGhlbiIsImV4aXN0aW5nRXJyb3IiLCJpc1N1Ym1pdHRlZCIsImNyaXRlcmlhTW9kZSIsIl91cGRhdGVWYWxpZCIsInN3YXAiLCJhcmdBIiwiYXJnQiIsIm1vdmUiLCJwcmVwZW5kVmFsdWUiLCJhcHBlbmRWYWx1ZSIsInJlbW92ZSIsImluc2VydFZhbHVlIiwidXBkYXRlIiwiY3JlYXRlU3ViamVjdCIsIl9vYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJvYnNlcnZlciIsInB1c2giLCJvIiwiaXNQcmltaXRpdmUiLCJkZWVwRXF1YWwiLCJvYmplY3QxIiwib2JqZWN0MiIsImdldFRpbWUiLCJrZXlzMSIsImtleXMyIiwidmFsMSIsImluY2x1ZGVzIiwidmFsMiIsImlzSFRNTEVsZW1lbnQiLCJvd25lciIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsImlzTXVsdGlwbGVTZWxlY3QiLCJsaXZlIiwiaXNDb25uZWN0ZWQiLCJtYXJrRmllbGRzRGlydHkiLCJpc1BhcmVudE5vZGVBcnJheSIsImdldERpcnR5RmllbGRzRnJvbURlZmF1bHRWYWx1ZXMiLCJkaXJ0eUZpZWxkc0Zyb21WYWx1ZXMiLCJnZXREaXJ0eUZpZWxkcyIsImRlZmF1bHRWYWx1ZXMiLCJnZXRGaWVsZFZhbHVlQXMiLCJzZXRWYWx1ZUFzIiwiTmFOIiwiZ2V0RmllbGRWYWx1ZSIsImZpbGVzIiwic2VsZWN0ZWRPcHRpb25zIiwiZ2V0UnVsZVZhbHVlIiwicnVsZSIsInNvdXJjZSIsInNjaGVtYUVycm9yTG9va3VwIiwiam9pbiIsImZvdW5kRXJyb3IiLCJwb3AiLCJkZWZhdWx0T3B0aW9ucyIsInJlVmFsaWRhdGVNb2RlIiwic2hvdWxkRm9jdXNFcnJvciIsImNyZWF0ZUZvcm1Db250cm9sIiwiZGVsYXlFcnJvckNhbGxiYWNrIiwic3VibWl0Q291bnQiLCJpc1N1Ym1pdHRpbmciLCJpc1N1Ym1pdFN1Y2Nlc3NmdWwiLCJ1bk1vdW50IiwidGltZXIiLCJ2YWxpZGF0ZUZpZWxkcyIsInZhbGlkYXRpb25Nb2RlQmVmb3JlU3VibWl0IiwidmFsaWRhdGlvbk1vZGVBZnRlclN1Ym1pdCIsInNob3VsZERpc3BsYXlBbGxBc3NvY2lhdGVkRXJyb3JzIiwic2hvdWxkU2tpcFJlbmRlciIsImV4ZWN1dGVCdWlsdEluVmFsaWRhdGlvbiIsInVwZGF0ZVZhbGlkQW5kVmFsdWUiLCJzaG91bGRTa2lwU2V0VmFsdWVBcyIsImRlZmF1bHRDaGVja2VkIiwic2V0RmllbGRWYWx1ZSIsInVwZGF0ZVRvdWNoQW5kRGlydHkiLCJmaWVsZFZhbHVlIiwic2hvdWxkRGlydHkiLCJzaG91bGRSZW5kZXIiLCJpc0ZpZWxkRGlydHkiLCJvdXRwdXQiLCJpc1ByZXZpb3VzRmllbGRUb3VjaGVkIiwiaXNQcmV2aW91c0Zvcm1EaXJ0eSIsIl9nZXREaXJ0eSIsImlzUHJldmlvdXNGaWVsZERpcnR5IiwiY29udGV4dCIsImdldFJlc29sdmVyT3B0aW9ucyIsInNob3VsZE9ubHlDaGVja1ZhbGlkIiwidmFsaWQiLCJpc0ZpZWxkQXJyYXlSb290IiwiZmllbGRFcnJvciIsImdldFZhbHVlcyIsImZpZWxkUmVmZXJlbmNlIiwiZm9yRWFjaCIsInNlbGVjdFJlZiIsInNlbGVjdGVkIiwiY2hlY2tib3hSZWYiLCJyYWRpb1JlZiIsInNob3VsZFRvdWNoIiwic2hvdWxkVmFsaWRhdGUiLCJ0cmlnZ2VyIiwic2V0VmFsdWVzIiwiZmllbGRLZXkiLCJzZXRWYWx1ZSIsImNsb25lVmFsdWUiLCJzaG91bGRTa2lwVmFsaWRhdGlvbiIsImRlcHMiLCJza2lwVmFsaWRhdGlvbiIsIndhdGNoZWQiLCJwcmV2aW91c0Vycm9yTG9va3VwUmVzdWx0IiwiZXJyb3JMb29rdXBSZXN1bHQiLCJwcmV2aW91c0ZpZWxkRXJyb3IiLCJzaG91bGRVcGRhdGVWYWxpZCIsImRlbGF5RXJyb3IiLCJ1cGRhdGVFcnJvcnMiLCJ3YWl0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInVwZGF0ZWRGb3JtU3RhdGUiLCJ2Iiwic2hvdWxkUmVuZGVyQnlFcnJvciIsImZpZWxkTmFtZXMiLCJleGVjdXRlU2NoZW1hQW5kVXBkYXRlU3RhdGUiLCJQcm9taXNlIiwiYWxsIiwiZ2V0RmllbGRTdGF0ZSIsImRlbGV0ZSIsImtlZXBWYWx1ZSIsImtlZXBFcnJvciIsImtlZXBEaXJ0eSIsImtlZXBUb3VjaGVkIiwia2VlcERlZmF1bHRWYWx1ZSIsImtlZXBJc1ZhbGlkIiwiZGlzYWJsZWRJc0RlZmluZWQiLCJmaWVsZFJlZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyYWRpb09yQ2hlY2tib3giLCJtZXRob2QiLCJhcmdzIiwic2hvdWxkU2V0VmFsdWVzIiwic2hvdWxkVXBkYXRlRmllbGRzQW5kU3RhdGUiLCJ1bnNldEVtcHR5QXJyYXkiLCJoYW5kbGVTdWJtaXQiLCJvblZhbGlkIiwib25JbnZhbGlkIiwiZSIsInByZXZlbnREZWZhdWx0IiwicGVyc2lzdCIsImhhc05vUHJvbWlzZUVycm9yIiwiZXJyIiwiaW5mbyIsInJlc2V0Iiwia2VlcFN0YXRlT3B0aW9ucyIsInVwZGF0ZWRWYWx1ZXMiLCJjbG9uZVVwZGF0ZWRWYWx1ZXMiLCJrZWVwRGVmYXVsdFZhbHVlcyIsImtlZXBWYWx1ZXMiLCJrZWVwRGlydHlWYWx1ZXMiLCJjbG9zZXN0IiwiX2EiLCJrZWVwU3VibWl0Q291bnQiLCJrZWVwSXNTdWJtaXR0ZWQiLCJrZWVwRXJyb3JzIiwicmVzZXRGaWVsZCIsImNsZWFyRXJyb3JzIiwiaW5wdXROYW1lIiwic2V0RXJyb3IiLCJzZXRGb2N1cyIsInNob3VsZFNlbGVjdCIsInVzZUZvcm0iLCJfZm9ybUNvbnRyb2wiXSwic291cmNlUm9vdCI6IiJ9